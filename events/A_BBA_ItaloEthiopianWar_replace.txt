add_namespace = BBA_italo_ethiopian_war_events

unit_leader_event = { # THIS IS ACTUALLY THE FIRST MISSIOLINI! 
	id = BBA_italo_ethiopian_war_events.01
	title = BBA_italo_ethiopian_war_events.01.t
	desc = BBA_italo_ethiopian_war_events.01.desc
	
	is_triggered_only = yes

	fire_only_once = yes

	immediate = { # INITIALIZE MISSIOLINIS SYSTEM
		hidden_effect = {
			ITA_missiolinis_initialize_missiolinis_system = yes
			#First time it's two missions at once
			ITA_missiolinis_initialize_new_mission_effect = yes
			ITA_missiolinis_initialize_new_mission_effect = yes
		}
	}

	trigger = {
		has_war_with = ETH
		has_country_leader = {
			character = ITA_benito_mussolini
			ruling_only = yes
		}
	}

	# Lets go on the offensive!
	option = { 
		name = BBA_italo_ethiopian_war_events.01.a
		ai_chance = {
			base = 10
			modifier = {
				factor = 0.5
				NOT = { has_government = fascism }
			}
		}

		# Set Mission Timers 
		set_variable = { ETH.ETH_hold_the_north_time = 120 } # Timer for Holding/Conquering northern Ethiopia
		set_variable = { ETH.ETH_hold_the_south_time = 120 } # Timer for Holding/Conquering southern Ethiopia and Harar

		if = { # Effects to Ethiopia and LoN stuff only for BBA
			limit = {
				has_dlc = "By Blood Alone"
			}
		
			# Increase War escalation and trigger loc for GUI
			ETH = { set_country_flag = italian_major_offensive_against_ethiopia_flag }
			# ETH_escalate_the_war_effect = yes 
			custom_effect_tooltip = ITA_war_escalation_inc_tt
			add_to_variable = { ETH.ETH_war_escalation_level = 1 }
			#ITA = {
			#	add_named_threat = { 
			#		threat = 0.6
			#		name = ETH_major_offensive_threat
			#	}
			#}

			hidden_effect = { # Ethiopian missions activated only with BBA
				ETH = { activate_mission = ETH_hold_the_north_mission }
				ETH = { activate_mission = ETH_hold_the_south_mission }
			}
		}
	
		#START MISSIOLINIS SYSTEM
		set_country_flag = ITA_missiolinis_active_flag #This will unlock Missiolini's decision cat with the two first missions 
		hidden_effect = {
			ITA = {
				activate_mission = ITA_conquer_the_north_mission
				activate_mission = ITA_conquer_the_south_mission
				add_ideas = ITA_aggressive_policy_in_ethiopia
			}
		}

		# other effects for ITA 
		add_timed_idea = {
			idea = ITA_offensive_in_ethiopia
			days = 180
		}
		unlock_decision_tooltip = form_ITA_use_sentox_in_eth
		ETH =  {
			add_timed_idea = {
				idea = ETH_italian_offensive_idea
				days = 180
			}
		}

		# Other effects for ETH
		ETH = {
			country_event = {
				id = BBA_italo_ethiopian_war_events.02
				hours = 1
			}
		}		
	}

	# We need to be more cautious .... 
	option = { 
		name = BBA_italo_ethiopian_war_events.01.b
		ai_chance = {
			base = 2
			modifier = {
				factor = 0
				is_historical_focus_on = yes 
			}
		}
		# No escalation of war

		# Set Mission Timers 
		set_variable = { ETH.ETH_hold_the_north_time = 180 } # Timer for Holding/Conquering northern Ethiopia
		set_variable = { ETH.ETH_hold_the_south_time = 180 } # Timer for Holding/Conquering southern Ethiopia and Harar

		hidden_effect = {
			ETH = { activate_mission = ETH_hold_the_north_mission }
			ETH = { activate_mission = ETH_hold_the_south_mission }
			ITA = { activate_mission = ITA_conquer_the_north_mission }
			ITA = { activate_mission = ITA_conquer_the_south_mission }
		}
		# other effects for ITA

		add_timed_idea = {
			idea = ITA_logistics_in_ethiopia
			days = 240
		}

		# Other effects for ETH
		ETH = {
			country_event = {
				id = BBA_italo_ethiopian_war_events.02
				hours = 1
			}
		}
	
	}
}