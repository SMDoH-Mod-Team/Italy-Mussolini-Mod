add_namespace = IPUnion_router_event

##正如其名，这里是“路由”事件的文件。

country_event = {
	id = IPUnion_router_event.1
	title = IPUnion_router_event.1.t
	desc = IPUnion_router_event.1.d
	hidden = yes

	fire_only_once = yes

	trigger = {
		GER = {
			has_completed_focus = GER_reorganize_the_wehrmacht
		}
	}

	immediate = {
		ITA = {
			country_event = {
				id = IPUnion_country_event.31
				days = 3
			}
		}
	}
}

country_event = {
	id = IPUnion_router_event.2
	title = IPUnion_router_event.2.t
	desc = IPUnion_router_event.2.d
	hidden = yes

	fire_only_once = yes

	trigger = {
		#AUS = {
		#	has_opinion_modifier = took_stand_for_us
		#}
		GER = {
			focus_progress = {
				focus = GER_anschluss
				progress > 0.1
			}
		}
	}

	immediate = {
		ITA = {
			country_event = {
				id = IPUnion_country_event.32
				days = 30
			}
			country_event = {
				id = IPUnion_country_event.64
				days = 2
			}
		}
	}
}

country_event = {
	id = IPUnion_router_event.3
	title = IPUnion_router_event.3
	desc = IPUnion_router_event.3
	hidden = yes

	fire_only_once = yes

	trigger = {
		ITA = {
			focus_progress = {
				focus = ITA_capo_supremo
				progress > 0.001
			}
		}
	}

	immediate = {
		ITA = {
			country_event = IPUnion_country_event.34
		}
	}
}

country_event = {
	id = IPUnion_router_event.4
	title = IPUnion_router_event.4
	desc = IPUnion_router_event.4
	hidden = yes

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {

	}

	immediate = {
		ITA = {
			white_peace = EGY
			white_peace = PAL
			white_peace = JOR
			white_peace = IRQ
			white_peace = CYP
			white_peace = SYR
			white_peace = LEB
			white_peace = KUW
			country_event = IPUnion_country_event.44
			clr_country_flag = form_attack_middle_east_flag_1
		}
	}
}

country_event = {
	id = IPUnion_router_event.5
	title = IPUnion_router_event.5.t
	desc = IPUnion_router_event.5.d
	hidden = yes

	fire_only_once = yes

	trigger = {
		ITA = {
			has_tech = basic_carrier
			has_tech = cv_fighter1
		}
	}

	immediate = {
		ITA = {
			country_event = IPUnion_country_event.45
		}
	}
}

country_event = {
	id = IPUnion_router_event.6
	title = IPUnion_router_event.6.t
	desc = IPUnion_router_event.6.d
	hidden = yes

	fire_only_once = yes

	trigger = {
		ITA = {
			has_completed_focus = ITA_be_friend_to_SWI_focus
		}
		OR = {
			GER = {
				focus_progress = {
					focus = GER_operation_tannenbaum
					progress > 0.1
				}
			}
			GER = {
				focus_progress = {
					focus = GER_the_swiss_gold
					progress > 0.1
				}
			}
		}
	}

	immediate = {
		ITA = {
			country_event = IPUnion_country_event.46
		}
	}
}

country_event = {
	id = IPUnion_router_event.7
	title = IPUnion_router_event.7
	desc = IPUnion_router_event.7
	hidden = yes

	trigger = {
		ITA = {
			has_country_flag = ITA_national_militia_peace_flag
		}
		any_country = {
			NOT = {
				original_tag = ETH
			}
			has_war_with = ITA
		}
	}

	immediate = {
		ITA = {
			set_country_flag = ITA_call_up_the_reserves_flag
		}
	}
}

country_event = {
	id = IPUnion_router_event.8
	title = IPUnion_router_event.8
	desc = IPUnion_router_event.8
	hidden = yes

	trigger = {
		ITA = {
			has_idea = ITA_national_militia_war
			has_war = no
		}
	}

	immediate = {
		ITA = {
			set_country_flag = ITA_demobilization_flag
		}
	}
}

country_event = {
	id = IPUnion_router_event.9
	title = IPUnion_router_event.9
	desc = IPUnion_router_event.9
	hidden = yes

	fire_only_once = yes

	trigger = {
		AOI = {
			focus_progress = {
				focus = AOI_literacy_campaign
				progress > 0.01
			}
		}
	}

	immediate = {
		AOI = {
			set_country_flag = literacy_campaign_is_underway_flag
			country_event = africa_of_italian_event.1
		}
		ITA = {
			country_event = IPUnion_country_event.63
		}
	}
}

country_event = {
	id = IPUnion_router_event.10
	title = IPUnion_router_event.10
	desc = IPUnion_router_event.10
	hidden = yes

	fire_only_once = yes

	trigger = {
		AOI = {
			has_country_flag = AOI_africa_national_liberty_revolution_flag
			OR = {
				has_war_with = DJI
				has_war_with = SOM
			}
		}
	}

	immediate = {
		AOI = {
			country_event = {
				id = africa_of_italian_event.14
				hours = 12
			}
		}
	}
}

country_event = {
	id = IPUnion_router_event.11
	title = IPUnion_router_event.11
	desc = IPUnion_router_event.11
	hidden = yes

	is_triggered_only = yes

	immediate = {
		#ITA = {
		#	country_event = IPUnion_country_event.34
		#}
		every_controlled_state = {
			limit = {
				has_dynamic_modifier = {
					modifier = ITA_land_redistribution_modifier
				}
			}
			add_dynamic_modifier = {
				modifier = ITA_agricultural_collectivization
			}
		}

		country_event = {
			id = IPUnion_router_event.11
			days = 30
		}
	}
}

country_event = {
	id = IPUnion_router_event.12
	title = IPUnion_router_event.12
	desc = IPUnion_router_event.12
	hidden = yes

	#is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		has_global_flag = ITA_pope_pio_xi_dead_flag
	}

	immediate = {
		ITA = {
			complete_national_focus = ITA_pope_pius_xii
		}
	}
}

country_event = {
	id = IPUnion_router_event.13
	title = IPUnion_router_event.13
	desc = IPUnion_router_event.13
	hidden = yes

	#is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		has_global_flag = the_great_world_war_ii
	}

	immediate = {
		ITA = {
			country_event = IPUnion_country_event.88
		}
	}
}

country_event = {
	id = IPUnion_router_event.14
	title = IPUnion_router_event.14
	desc = IPUnion_router_event.14
	hidden = yes

	#is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		country_exists = VIC
	}

	immediate = {
		ITA = {
			country_event = IPUnion_country_event.89
		}
	}
}

country_event = {
	id = IPUnion_router_event.15
	title = IPUnion_router_event.15
	desc = IPUnion_router_event.15
	hidden = yes

	#is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		GER = {
			has_completed_focus = GER_anschluss
			controls_state = 153
			controls_state = 848
		}
		ITA = {
			has_country_flag = IPUnion_country_event.66.a.flag
		}
	}

	immediate = {
		ITA = {
			news_event = { id = IPUnion_news.2 hours = 6 }
		}
	}
}

country_event = {
	id = IPUnion_router_event.16
	title = IPUnion_router_event.16
	desc = IPUnion_router_event.16
	hidden = yes

	#is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		GER = {
			has_completed_focus = GER_anschluss
			controls_state = 153
			controls_state = 848
		}
		ITA = {
			has_country_flag = IPUnion_country_event.66.b.flag
		}
	}

	immediate = {
		ITA = {
			news_event = { id = IPUnion_news.3 hours = 6 }
		}
	}
}

country_event = {
	id = IPUnion_router_event.17
	title = IPUnion_router_event.17
	desc = IPUnion_router_event.17
	hidden = yes

	#is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		GER = {
			has_completed_focus = GER_anschluss
			controls_state = 153
			controls_state = 848
		}
		ITA = {
			has_country_flag = IPUnion_country_event.66.c.flag
		}
	}

	immediate = {
		ITA = {
			news_event = { id = IPUnion_news.4 hours = 6 }
		}
	}
}