ITA_remove_replaced_advisor_1_effects = {
	custom_effect_tooltip = {
		localization_key = replace_ascended_advisor_tt
		CHARACTER = [GetItalyAscendedAdvisorName1]
		TRAIT = [GetItalyAscendedAdvisorTrait1]
	}
	hidden_effect = {
		if = { # TODT REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_1 = 1 }
			}
			ITA_remove_graziani_effects = yes
		}
		else_if = { # SPEER REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_1 = 2 }
			}
			ITA_remove_balbo_effects = yes
		}
		else_if = { # GÖRING REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_1 = 3 }
			}
			ITA_remove_grandi_effects = yes
		}
		else_if = { # HIMMLER REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_1 = 4 }
			}
			ITA_remove_ciano_effects = yes
		}
		else_if = { # GOEBBELS REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_1 = 5 }
			}
			ITA_remove_ricci_effects = yes
		}
		else_if = { # HESS REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_1 = 6 }
			}
			ITA_remove_bottai_effects = yes
		}
		else_if = { # BORMANN REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_1 = 7 }
			}
			ITA_remove_acerbo_effects = yes
		}
		else = {
			log = "Something bad happened trying to remove advisor [?ITA_ascended_advisor_1] effects."
		}
	}
}

ITA_remove_replaced_advisor_2_effects = {
	custom_effect_tooltip = {
		localization_key = replace_ascended_advisor_tt
		CHARACTER = [GetItalyAscendedAdvisorName2]
		TRAIT = [GetItalyAscendedAdvisorTrait2]
	}
	hidden_effect = {
		if = { # TODT REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_2 = 1 }
			}
			ITA_remove_graziani_effects = yes
		}
		else_if = { # SPEER REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_2 = 2 }
			}
			ITA_remove_balbo_effects = yes
		}
		else_if = { # GÖRING REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_2 = 3 }
			}
			ITA_remove_grandi_effects = yes
		}
		else_if = { # HIMMLER REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_2 = 4 }
			}
			ITA_remove_ciano_effects = yes
		}
		else_if = { # GOEBBELS REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_2 = 5 }
			}
			ITA_remove_ricci_effects = yes
		}
		else_if = { # HESS REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_2 = 6 }
			}
			ITA_remove_bottai_effects = yes
		}
		else_if = { # BORMANN REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_2 = 7 }
			}
			ITA_remove_acerbo_effects = yes
		}
		else = {
			log = "Something bad happened trying to remove advisor [?ITA_ascended_advisor_2] effects."
		}
	}
}

ITA_remove_replaced_advisor_3_effects = {
	custom_effect_tooltip = {
		localization_key = replace_ascended_advisor_tt
		CHARACTER = [GetItalyAscendedAdvisorName3]
		TRAIT = [GetItalyAscendedAdvisorTrait3]
	}
	hidden_effect = {
		if = { # TODT REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_3 = 1 }
			}
			ITA_remove_graziani_effects = yes
		}
		else_if = { # SPEER REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_3 = 2 }
			}
			ITA_remove_balbo_effects = yes
		}
		else_if = { # GÖRING REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_3 = 3 }
			}
			ITA_remove_grandi_effects = yes
		}
		else_if = { # HIMMLER REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_3 = 4 }
			}
			ITA_remove_ciano_effects = yes
		}
		else_if = { # GOEBBELS REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_3 = 5 }
			}
			ITA_remove_ricci_effects = yes
		}
		else_if = { # HESS REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_3 = 6 }
			}
			ITA_remove_bottai_effects = yes
		}
		else_if = { # BORMANN REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_3 = 7 }
			}
			ITA_remove_acerbo_effects = yes
		}
		else = {
			log = "Something bad happened trying to remove advisor [?ITA_ascended_advisor_3] effects."
		}
	}
}

ITA_remove_replaced_advisor_4_effects = {
	custom_effect_tooltip = {
		localization_key = replace_ascended_advisor_tt
		CHARACTER = [GetItalyAscendedAdvisorName4]
		TRAIT = [GetItalyAscendedAdvisorTrait4]
	}
	hidden_effect = {
		if = { # TODT REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_4 = 1 }
			}
			ITA_remove_graziani_effects = yes
		}
		else_if = { # SPEER REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_4 = 2 }
			}
			ITA_remove_balbo_effects = yes
		}
		else_if = { # GÖRING REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_4 = 3 }
			}
			ITA_remove_grandi_effects = yes
		}
		else_if = { # HIMMLER REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_4 = 4 }
			}
			ITA_remove_ciano_effects = yes
		}
		else_if = { # GOEBBELS REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_4 = 5 }
			}
			ITA_remove_ricci_effects = yes
		}
		else_if = { # HESS REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_4 = 6 }
			}
			ITA_remove_bottai_effects = yes
		}
		else_if = { # BORMANN REPLACED
			limit = {
				check_variable = { ITA_ascended_advisor_4 = 7 }
			}
			ITA_remove_acerbo_effects = yes
		}
		else = {
			log = "Something bad happened trying to remove advisor [?ITA_ascended_advisor_4] effects."
		}
	}
}

ITA_add_replacing_advisor_effects = {
	if = { # TODT ADDED
		limit = {
			check_variable = { ITA_ascending_advisor = 1 }
		}
		ITA_add_graziani_effects = yes
	}
	else_if = { # SPEER ADDED
		limit = {
			check_variable = { ITA_ascending_advisor = 2 }
		}
		ITA_add_balbo_effects = yes
	}
	else_if = { # GÖRING ADDED
		limit = {
			check_variable = { ITA_ascending_advisor = 3 }
		}
		ITA_add_grandi_effects = yes
	}
	else_if = { # HIMMLER ADDED
		limit = {
			check_variable = { ITA_ascending_advisor = 4 }
		}
		ITA_add_ciano_effects = yes
	}
	else_if = { # GOEBBELS ADDED
		limit = {
			check_variable = { ITA_ascending_advisor = 5 }
		}
		ITA_add_ricci_effects = yes
	}
	else_if = { # HESS ADDED
		limit = {
			check_variable = { ITA_ascending_advisor = 6 }
		}
		ITA_add_bottai_effects = yes
	}
	else_if = { # BORMANN ADDED
		limit = {
			check_variable = { ITA_ascending_advisor = 7 }
		}
		ITA_add_acerbo_effects = yes
	}
	else = {
		log = "Something bad happened trying to add advisor [?ITA_ascending_advisor] effects."
	}
}

ITA_add_graziani_effects = {
	#if = {
	#	limit = {
	#		has_completed_focus = ITA_autonomous_organization_todt
	#	}
	#	add_ideas = ITA_todt_reich_minister_of_armaments
	#}
	#else_if = {
	#	limit = {
	#		has_completed_focus = ITA_ascension_of_todt
	#	}
	#	add_ideas = ITA_todt_reich_engineer
	#}
	add_ideas = ITA_leader_trait_its_going_to_rain
}

ITA_remove_graziani_effects = {
	if = {
		limit = {
			has_idea = ITA_leader_trait_its_going_to_rain
		}
		remove_ideas = ITA_leader_trait_its_going_to_rain
	}
	else = {
		log = "NOTHING TO REMOVE FROM Graziani"
	}

	#if = { #STOP ANY FOCUS IN-PROGRESS (WITH SHINY EFFECT)
	#	limit = {	
	#		has_shine_effect_on_focus = ITA_form_organization_todt
	#	}
	#	deactivate_shine_on_focus = ITA_form_organization_todt
	#	clr_country_flag = ITA_form_organization_todt_in_progress_flag
	#}
	#else_if = {
	#	limit = {
	#		has_shine_effect_on_focus = ITA_autonomous_organization_todt
	#	}
	#	deactivate_shine_on_focus = ITA_autonomous_organization_todt
	#	clr_country_flag = ITA_autonomous_organization_todt_in_progress_flag
	#}
	#else_if = {
	#	limit = {
	#		has_shine_effect_on_focus = ITA_wunderwaffe
	#		check_variable = { ITA_wonder_weapons_focus_advisor = 1 }
	#	}
	#	deactivate_shine_on_focus = ITA_wunderwaffe
	#	clr_country_flag = ITA_wunderwaffe_in_progress_flag
	#	set_variable = { ITA_wonder_weapons_focus_advisor = 0 }
	#}

	if = {
		limit = {
			has_shine_effect_on_focus = ITA_inner_circle_graziani_theory
		}
		deactivate_shine_on_focus = ITA_inner_circle_graziani_theory
		clr_country_flag = ITA_inner_circle_graziani_theory_in_progress_flag
	}
	else_if = {
		limit = {
			has_shine_effect_on_focus = ITA_inner_circle_graziani_armed_blackshirts
		}
		deactivate_shine_on_focus = ITA_inner_circle_graziani_armed_blackshirts
		clr_country_flag = ITA_inner_circle_graziani_armed_blackshirts_in_progress_flag
	}

	#Uncomplete Ascension focus so that he can be picked later on
	uncomplete_national_focus = {
		focus = ITA_ascension_of_graziani
		uncomplete_children = no
		refund_political_power = no
	}

	if = { # REMOVE TODT FROM ASCENDED ADVISOR
		limit = {
			check_variable = { ITA_ascended_advisor_1 = 1 }
		}
		set_variable = { ITA_ascended_advisor_1 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_2 = 1 }
		}
		set_variable = { ITA_ascended_advisor_2 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_3 = 1 }
		}
		set_variable = { ITA_ascended_advisor_3 = 0 }
	}
}

ITA_add_balbo_effects = {
	add_ideas = ITA_leader_trait_u_know_what_ur_doing
}

ITA_remove_balbo_effects = {

	if = {
		limit = {
			has_shine_effect_on_focus = ITA_inner_circle_balbo_national_flight_movent
		}
		deactivate_shine_on_focus = ITA_inner_circle_balbo_national_flight_movent
		clr_country_flag = ITA_inner_circle_balbo_national_flight_movent_in_progress_flag
	}
	else_if = {
		limit = {
			has_shine_effect_on_focus = ITA_inner_circle_balbo_modern_air_force
		}
		deactivate_shine_on_focus = ITA_inner_circle_balbo_modern_air_force
		clr_country_flag = ITA_inner_circle_balbo_modern_air_force_in_progress_flag
	}

	if = {
		limit = {
			has_idea = ITA_leader_trait_u_know_what_ur_doing
		}
		remove_ideas = ITA_leader_trait_u_know_what_ur_doing
	}
	else = {
		log = "NOTHING TO REMOVE FROM Balbo"
	}

	uncomplete_national_focus = {
		focus = ITA_ascension_of_balbo
		uncomplete_children = no
		refund_political_power = no
	}

	if = { # REMOVE TODT FROM ASCENDED ADVISOR
		limit = {
			check_variable = { ITA_ascended_advisor_1 = 2 }
		}
		set_variable = { ITA_ascended_advisor_1 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_2 = 2 }
		}
		set_variable = { ITA_ascended_advisor_2 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_3 = 2 }
		}
		set_variable = { ITA_ascended_advisor_3 = 0 }
	}
}

ITA_add_grandi_effects = {
	add_ideas = ITA_leader_trait_u_know_what_ur_doing
}

ITA_remove_grandi_effects = {
	if = {
		limit = {
			has_idea = ITA_leader_trait_captialism_roader
		}
		remove_ideas = ITA_leader_trait_captialism_roader
	}
	else = {
		log = "NOTHING TO REMOVE FROM Grandi"
	}

	uncomplete_national_focus = {
		focus = ITA_ascension_of_grandi
		uncomplete_children = no
		refund_political_power = no
	}

	if = { # REMOVE TODT FROM ASCENDED ADVISOR
		limit = {
			check_variable = { ITA_ascended_advisor_1 = 3 }
		}
		set_variable = { ITA_ascended_advisor_1 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_2 = 3 }
		}
		set_variable = { ITA_ascended_advisor_2 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_3 = 3 }
		}
		set_variable = { ITA_ascended_advisor_3 = 0 }
	}
}

ITA_add_ciano_effects = {
	add_ideas = ITA_leader_trait_steel_company
}
ITA_remove_ciano_effects = {
	if = {
		limit = {
			has_idea = ITA_leader_trait_steel_company
		}
		remove_ideas = ITA_leader_trait_steel_company
	}
	else = {
		log = "NOTHING TO REMOVE FROM Ciano"
	}

	uncomplete_national_focus = {
		focus = ITA_ascension_of_ciano
		uncomplete_children = no
		refund_political_power = no
	}

	if = { # REMOVE TODT FROM ASCENDED ADVISOR
		limit = {
			check_variable = { ITA_ascended_advisor_1 = 4 }
		}
		set_variable = { ITA_ascended_advisor_1 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_2 = 4 }
		}
		set_variable = { ITA_ascended_advisor_2 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_3 = 4 }
		}
		set_variable = { ITA_ascended_advisor_3 = 0 }
	}
}

ITA_add_ricci_effects = {
	add_ideas = ITA_leader_trait_machine_master
}

ITA_remove_ricci_effects = {
	if = {
		limit = {
			has_shine_effect_on_focus = ITA_inner_circle_ricci_OND
		}
		deactivate_shine_on_focus = ITA_inner_circle_ricci_OND
		clr_country_flag = ITA_inner_circle_ricci_OND_in_progress_flag
	}
	else_if = {
		limit = {
			has_shine_effect_on_focus = ITA_inner_circle_ricci_nationale_mediate
		}
		deactivate_shine_on_focus = ITA_inner_circle_ricci_nationale_mediate
		clr_country_flag = ITA_inner_circle_ricci_nationale_mediate_in_progress_flag
	}

	if = {
		limit = {
			has_idea = ITA_leader_trait_machine_master
		}
		remove_ideas = ITA_leader_trait_machine_master
	}
	else = {
		log = "NOTHING TO REMOVE FROM ricci"
	}

	uncomplete_national_focus = {
		focus = ITA_ascension_of_ricci
		uncomplete_children = no
		refund_political_power = no
	}

	if = { # REMOVE TODT FROM ASCENDED ADVISOR
		limit = {
			check_variable = { ITA_ascended_advisor_1 = 5 }
		}
		set_variable = { ITA_ascended_advisor_1 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_2 = 5 }
		}
		set_variable = { ITA_ascended_advisor_2 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_3 = 5 }
		}
		set_variable = { ITA_ascended_advisor_3 = 0 }
	}
}

ITA_add_bottai_effects = {
	add_ideas = ITA_leader_trait_literacy_leader
}

ITA_remove_bottai_effects = {

	if = {
		limit = {
			has_shine_effect_on_focus = ITA_inner_circle_bottai_elementary_education_law
		}
		deactivate_shine_on_focus = ITA_inner_circle_bottai_elementary_education_law
		clr_country_flag = ITA_inner_circle_bottai_elementary_education_law_in_progress_flag
	}
	else_if = {
		limit = {
			has_shine_effect_on_focus = ITA_inner_circle_bottai_tracking_in_secondary_education
		}
		deactivate_shine_on_focus = ITA_inner_circle_bottai_tracking_in_secondary_education
		clr_country_flag = ITA_inner_circle_bottai_tracking_in_secondary_education_in_progress_flag
	}

	if = {
		limit = {
			has_idea = ITA_leader_trait_literacy_leader
		}
		remove_ideas = ITA_leader_trait_literacy_leader
	}
	else = {
		log = "NOTHING TO REMOVE FROM Bottai"
	}

	uncomplete_national_focus = {
		focus = ITA_ascension_of_bottai
		uncomplete_children = no
		refund_political_power = no
	}

	if = { # REMOVE TODT FROM ASCENDED ADVISOR
		limit = {
			check_variable = { ITA_ascended_advisor_1 = 6 }
		}
		set_variable = { ITA_ascended_advisor_1 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_2 = 6 }
		}
		set_variable = { ITA_ascended_advisor_2 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_3 = 6 }
		}
		set_variable = { ITA_ascended_advisor_3 = 0 }
	}
}

ITA_add_acerbo_effects = {
	add_ideas = ITA_leader_trait_revisionism
}

ITA_remove_acerbo_effects = {
	if = {
		limit = {
			has_idea = ITA_leader_trait_revisionism
		}
		remove_ideas = ITA_leader_trait_revisionism
	}
	else = {
		log = "NOTHING TO REMOVE FROM Acerbo"
	}

	uncomplete_national_focus = {
		focus = ITA_ascension_of_acerbo
		uncomplete_children = no
		refund_political_power = no
	}

	if = { # REMOVE TODT FROM ASCENDED ADVISOR
		limit = {
			check_variable = { ITA_ascended_advisor_1 = 7 }
		}
		set_variable = { ITA_ascended_advisor_1 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_2 = 7 }
		}
		set_variable = { ITA_ascended_advisor_2 = 0 }
	}
	else_if = {
		limit = {
			check_variable = { ITA_ascended_advisor_3 = 7 }
		}
		set_variable = { ITA_ascended_advisor_3 = 0 }
	}
}

ITA_inner_circle_set_ascension_cd = {
	set_country_flag = {
		flag = ITA_inner_circle_cd_flag
		days = 90
		value = 1
	}
}

