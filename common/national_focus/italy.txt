### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}
### search_filters = {FOCUS_FILTER_PROPAGANDA}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
### search_filters = {FOCUS_FILTER_ITA_MISSIOLINI}
### search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}
# Reminder that focus filters prio has to be handled in the generic focus file :)



focus_tree = {
	id = italian_focus
	

	country = {
		factor = 0
		
		modifier = {
			add = 10
			OR = {
				tag = ITA
				tag = RSI
				tag = RDS
			}
		}
	}

	shared_focus = AOI_italian_aoi

	shared_focus = AOI_italian_investment

	shared_focus = CHI_SINAW_focus

	shared_focus = CHI_italian_development_loans
	
	default = no

	continuous_focus_position = { x = 100 y = 1500 }

	initial_show_position = {
		x = 0
		y = 0
	}

	inlay_window = {
		id = ita_inner_circle_inlay_window
		position = { x = 1050 y = 1300 }
	}


########  ##    ##    ########  ##        #######   #######  ########        ###    ##        #######  ##    ## ######## 
##     ##  ##  ##     ##     ## ##       ##     ## ##     ## ##     ##      ## ##   ##       ##     ## ###   ## ##       
##     ##   ####      ##     ## ##       ##     ## ##     ## ##     ##     ##   ##  ##       ##     ## ####  ## ##       
########     ##       ########  ##       ##     ## ##     ## ##     ##    ##     ## ##       ##     ## ## ## ## ######   
##     ##    ##       ##     ## ##       ##     ## ##     ## ##     ##    ######### ##       ##     ## ##  #### ##       
##     ##    ##       ##     ## ##       ##     ## ##     ## ##     ##    ##     ## ##       ##     ## ##   ### ##       
########     ##       ########  ########  #######   #######  ########     ##     ## ########  #######  ##    ## ######## 



 ######   #######  ##        #######  ##    ## ####    ###    ##                ##    #### ##    ## ########  ##     ##  ######  ######## ########  ####    ###    ##       
##    ## ##     ## ##       ##     ## ###   ##  ##    ## ##   ##               ##      ##  ###   ## ##     ## ##     ## ##    ##    ##    ##     ##  ##    ## ##   ##       
##       ##     ## ##       ##     ## ####  ##  ##   ##   ##  ##              ##       ##  ####  ## ##     ## ##     ## ##          ##    ##     ##  ##   ##   ##  ##       
##       ##     ## ##       ##     ## ## ## ##  ##  ##     ## ##             ##        ##  ## ## ## ##     ## ##     ##  ######     ##    ########   ##  ##     ## ##       
##       ##     ## ##       ##     ## ##  ####  ##  ######### ##            ##         ##  ##  #### ##     ## ##     ##       ##    ##    ##   ##    ##  ######### ##       
##    ## ##     ## ##       ##     ## ##   ###  ##  ##     ## ##           ##          ##  ##   ### ##     ## ##     ## ##    ##    ##    ##    ##   ##  ##     ## ##       
 ######   #######  ########  #######  ##    ## #### ##     ## ########    ##          #### ##    ## ########   #######   ######     ##    ##     ## #### ##     ## ######## 
	focus = {
		id = ITA_ai_dont_goon_focus
		icon = xxxx
		x = 800
		y = 800
		cost = 1000
		allow_branch = {
			tag = ITB
			is_ai = yes
		}
		ai_will_do = {
			factor = 999999999999
		}
		available = {
			always = yes
		}
		completion_reward = {
			add_political_power = 1
		}
	}

	focus = {
		id = ITA_ethiopian_war_logistics_bba
		icon = GFX_goal_generic_position_armies

		x = 2
		y = 0
		offset = {
			x = 6
			y = 0
			trigger = {
				ITA_cw_branches_are_visible = yes
			}
		}
		cost = 5

		bypass = {
			OR = {
				NOT = { has_global_flag = second_italo_ethiopian_war_flag }
				AND = {
					550 = { NOT = { is_owned_and_controlled_by = ITA } }
					559 = { NOT = { is_owned_and_controlled_by = ITA } }
					844 = { NOT = { is_owned_and_controlled_by = ITA } }
				}
			}
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = { limit = { 550 = { is_owned_and_controlled_by = ITA } }
				550 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				550 = {
					add_building_construction = {
						type = naval_base
						level = 2
						province = 12766
						instant_build = yes
					}
				}
			}

			if = { limit = { 559 = { is_owned_and_controlled_by = ITA } }
				559 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
				}
				559 = {
					add_building_construction = {
						type = naval_base
						level = 2
						province = 12991
						instant_build = yes
					}
				}
			}

			if = { limit = { 844 = { is_owned_and_controlled_by = ITA } }
				844 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
				}
				844 = {
					add_building_construction = {
						type = naval_base
						level = 2
						province = 12941
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_italian_highways_bba
		icon = GFX_focus_generic_truck
		x = 6
		y = 0
		relative_position_id = ITA_ethiopian_war_logistics_bba
		cost = 5
		available = {
			OR = {
				controls_state = 2
				controls_state = 117
				controls_state = 162
				controls_state = 158
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			2 = { #ROME
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			117 = { #CAMPANIA
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			162 = { #TUSCANY
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			158 = { #PIEDMONT
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			every_owned_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				add_dynamic_modifier = {
					modifier = ITA_italian_highways_modifier
					scope = ITA
					days = 365
				}
			}		
		}
	}

	focus = {
		id = ITA_ministry_of_italian_africa
		icon = GFX_focus_ITA_ministry_of_italian_africa
		prerequisite = { focus = ITA_italian_highways_bba }
		prerequisite = { focus = ITA_ethiopian_war_logistics_bba }

		x = -5
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 1
		available = {
			NOT = { has_global_flag = second_italo_ethiopian_war_flag }
			OR = {
				any_owned_state = { is_on_continent = africa }
				any_subject_country = { capital_scope = { is_on_continent = africa } }
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 75
			custom_effect_tooltip = ITA_ministry_of_italian_africa_occupation_law_tt
			show_ideas_tooltip = ITA_fake_colonial_police_law

			unlock_decision_category_tooltip = ITA_colonial_management_dec_cat

			hidden_effect = {
				country_event = BBA_italy_colonial_management.1
			}
		}
	}

	focus = {
		id = ITA_develop_ethiopia
		icon = GFX_focus_generic_develop_ethiopia
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = -3
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 4
		available = {
			OR = {
				any_controlled_state = {
					is_core_of = ETH
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = ETH
						is_fully_controlled_by = PREV
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
						}
						any_subject_country = { #FOR PUPPETS
							any_controlled_state = {
								is_core_of = ETH
								is_fully_controlled_by = PREV
							}
						}
					}
				}
				custom_effect_tooltip = ITA_develop_ethiopia_tt
			}

			if = {
				limit = {
					271 = { #SHEWA (Addis Ababa)
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				271 = { #SHEWA (Addis Ababa)
					set_state_flag = ITA_improved_infrastructure_in_state_flag
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 835 } #HARARGHE
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						prioritize = { 835 } #HARARGHE
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			if = {
				limit = {
					843 = { #WELLO
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				843 = { #WELLO
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 837 } #SIDAMO
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 837 } #SIDAMO
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			if = {
				limit = {
					842 = { #TIGRAY
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				842 = { #TIGRAY
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 841 } #BEGEMDER
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #BEGEMDER
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			every_controlled_state = {
				limit = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_core_of = ETH
					has_resistance = yes
				}
				add_compliance = 5
			}
		}
	}

	focus = {
		id = ITA_develop_libya
		icon = GFX_focus_generic_develop_libya
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = -1
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 4
		available = {
			OR = {
				any_controlled_state = {
					is_core_of = LBA
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = LBA
						is_fully_controlled_by = PREV
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
						any_subject_country = { #FOR PUPPETS
							any_controlled_state = {
								is_core_of = LBA
								is_fully_controlled_by = PREV
							}
						}
					}
				}
				custom_effect_tooltip = ITA_develop_libya_tt
			}

			if = {
				limit = {
					448 = { #TRIPOLI
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				448 = { #TRIPOLI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #HARARGHE
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			if = {
				limit = {
					450 = { #BENGHALI
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				450 = { #BENGHALI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #HARARGHE
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			if = {
				limit = {
					451 = { #DERNA
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				451 = { #DERNA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #HARARGHE
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
		}
	}

	focus = {
		id = ITA_develop_eritrea
		icon = GFX_focus_generic_develop_eritrea
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = 1
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 4
		available = {
			OR = {
				550 = {	is_fully_controlled_by = ROOT }
				any_subject_country = {
					has_full_control_of_state = 550
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			550 = { #ERITREA
				set_state_flag = ITA_improved_infrastructure_in_state_flag
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = ITA_develop_somaliland
		icon = GFX_focus_generic_develop_somaliland
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = 3
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 4
		available = {
			OR = {
				559 = { is_fully_controlled_by = ROOT }
				any_subject_country = {
					has_full_control_of_state = 559
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			559 = { #SOMALILAND
				set_state_flag = ITA_improved_infrastructure_in_state_flag
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			if = {
				limit = {
					844 = { #JUBALAND
						OR = {
							is_fully_controlled_by = ROOT
							any_other_country = {
								is_subject_of = ROOT
								has_full_control_of_state = 559
							}
						}
					}
				}
				844 = { #JUBALAND
					set_state_flag = ITA_improved_infrastructure_in_state_flag
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
		}
	}

	focus = {
		id = ITA_regional_development
		icon = GFX_goal_generic_construction
		prerequisite = { focus = ITA_develop_eritrea focus = ITA_develop_libya focus = ITA_develop_somaliland focus = ITA_develop_ethiopia }

		x = 1
		y = 1
		relative_position_id = ITA_develop_libya
		cost = 4
		available = {
			OR = {
				any_controlled_state = {
					is_fully_controlled_by = ROOT
					has_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				any_subject_country = {
					any_controlled_state = {
						is_fully_controlled_by = PREV
						has_state_flag = ITA_improved_infrastructure_in_state_flag
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			#Makes previous Colonial Police law hidden (Both old and new version need to cohexist so that the previous can fallback to the next one)
			set_country_flag = ITA_colonial_police_improved_flag

			custom_effect_tooltip = ITA_regional_development_occupation_law_tt

			custom_effect_tooltip = ITA_regional_development_buildings_tt

			#ETHIOPIA
			if = {
				limit = {
					has_completed_focus = ITA_develop_ethiopia
				}
				if = {
					limit = {
						any_controlled_state = {
							is_fully_controlled_by = ROOT
							has_state_flag = ITA_improved_infrastructure_in_state_flag
						}
					}
					random_controlled_state = {
						limit = {
							has_state_flag = ITA_improved_infrastructure_in_state_flag
							is_core_of = ETH
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
						clr_state_flag = ITA_improved_infrastructure_in_state_flag
					}
				}
				else_if = {
					limit = {
						any_subject_country = {
							any_controlled_state = {
								is_fully_controlled_by = PREV
								has_state_flag = ITA_improved_infrastructure_in_state_flag
							}
						}
					}
					random_other_country = {
						limit = {
							is_subject_of = ROOT
							any_controlled_state = {
								is_core_of = ETH
								is_fully_controlled_by = PREV
							}
						}
						random_controlled_state = {
							limit = {
								has_state_flag = ITA_improved_infrastructure_in_state_flag
								is_core_of = ETH
							}
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							add_extra_state_shared_building_slots = 1
							clr_state_flag = ITA_improved_infrastructure_in_state_flag
						}
					}
				}
				random_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
						is_core_of = ETH
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}

			#LIBYA
			if = {
				limit = {
					has_completed_focus = ITA_develop_libya
				}
				random_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
						is_core_of = LBA
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				random_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
						is_core_of = LBA
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
		
			#ERITREA
			if = {
				limit = {
					has_completed_focus = ITA_develop_eritrea
				}
				550 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12766
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			
			#JUBALAND
			if = {
				limit = {
					has_completed_focus = ITA_develop_somaliland
				}
				559 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12991
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				844 = {
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12941
					}
				}
			}

			hidden_effect = {
				every_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				every_subject_country = {
					limit = {
						any_controlled_state = {
							has_state_flag = ITA_improved_infrastructure_in_state_flag
						}
					}
					every_controlled_state = {
						limit = {
							has_state_flag = ITA_improved_infrastructure_in_state_flag
						}
						clr_state_flag = ITA_improved_infrastructure_in_state_flag
					}
				}
			}

			custom_effect_tooltip = ITA_regional_development_decision_unlocked_tt
		}
	}

	focus = {
		id = ITA_litoranea_balbo
		icon = GFX_focus_generic_improve_roads
		prerequisite = { focus = ITA_regional_development }

		x = -3
		y = 1
		relative_position_id = ITA_regional_development
		cost = 4
		available = {
			OR = {
				448 = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				449 = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				450 = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				451 = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = { #TRIPOLI
				limit = {
					448 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				448 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = { #EL AGHELIA
				limit = {
					449 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				449 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = { #BENGHASI
				limit = {
					450 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				450 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = { #DERNA
				limit = {
					451 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				451 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_via_della_vittoria
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = ITA_litoranea_balbo }

		x = 0
		y = 1
		relative_position_id = ITA_litoranea_balbo
		cost = 4
		available = {
			451 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			452 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			451 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						has_resistance = yes
					}
					add_compliance = 5
				}
			}
			452 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						has_resistance = yes
					}
					add_compliance = 5
				}
			}

			# EXTRA STATES 

			custom_effect_tooltip = ITA_via_della_vittoria_extra_states_tt

			#LIBYA
			if = {
				limit = {
					450 = { #BENGHASI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				450 = { #BENGHASI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					449 = { #EL AGHELIA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				449 = { #EL AGHELIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					448 = { #TRIPOLI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				448 = { #TRIPOLI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#TUNISIA
			if = {
				limit = {
					665 = { #GABES
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				665 = { #GABES
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					458 = { #TUNISIA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				458 = { #TUNISIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			#ALGERIA
			if = {
				limit = {
					460 = { #CONSTANTINE
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				460 = { #CONSTANTINE
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					459 = { #ALGIERS
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				459 = { #ALGIERS
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#MOROCCO
			if = {
				limit = {
					461 = { #CASABLANCA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				461 = { #CASABLANCA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					290 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				290 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#EGYPT
			if = {
				limit = {
					447 = { #ALEXANDRIA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				447 = { #ALEXANDRIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					446 = { #CAIRO
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				446 = { #CAIRO
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					453 = { #SINAI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				453 = { #SINAI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
		}
	}

	focus = {
		id = ITA_libyan_railway
		icon = GFX_focus_generic_railroad
		prerequisite = { focus = ITA_litoranea_balbo }
		prerequisite = { focus = ITA_prospect_for_oil }
		x = 1
		y = 2
		relative_position_id = ITA_litoranea_balbo
		cost = 4
		available = {
			448 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			449 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			450 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			451 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			# Tripoli - Tobruk
			build_railway = {
				path = { 1149 4194 7209 9980 1118 1041 4047 10046 10117 12088 4057 1198 1127 4120 11954 10123 12094 4151 1204 7082 9992 1130 }
			}

			custom_effect_tooltip = ITA_libyan_railway_state_modifier_tt
			every_state = {
				limit = {
					OR = {
						#LIBYA
						state = 448 #TRIPOLI
						state = 449 #EL AGHELIA
						state = 450 #BENGHASI
						state = 451 #DERNA
						#TUNISIA
						state = 665 #GABES
						state = 458 #TUNISIA
						#ALGERIA
						state = 460 #CONSTANTINE
						state = 459 #ALGIERS
						#EGYPT
						state = 452 #MATROUH
						state = 447 #ALEXANDRIA
						state = 446 #CAIRO
					}
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				add_dynamic_modifier = { modifier = ITA_libyan_railway_modifier days = 730 scope = ITA }
			}
		}
	}

	focus = {
		id = ITA_prospect_for_oil
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = ITA_regional_development }

		x = -1
		y = 1
		relative_position_id = ITA_regional_development
		cost = 4

		bypass = {
			662 = {
				has_state_flag = sirte_oil_developed
			}
		}

		available = {
			662 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_resource = {
				type = oil
				amount = 8
				state = 662
			}	

			662 = {
				ITA_check_for_cooperatives_and_add_dm = yes #If appropriate, apply dm from Cooperatives for Intensive Exploitation 
				set_state_flag = sirte_oil_developed
			}
			if = {
				limit = {
					449 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				449 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_libyan_refineries
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = ITA_prospect_for_oil }

		x = 0
		y = 1
		relative_position_id = ITA_prospect_for_oil
		cost = 4

		available = {
			450 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
				NOT = {
					has_state_flag = benghazi_oil_developed
				}
			}
			has_tech = synth_oil_experiments
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_resource = {
				type = oil
				amount = 4
				state = 450
			}
			450 = {
				ITA_check_for_cooperatives_and_add_dm = yes #If appropriate, apply dm from Cooperatives for Intensive Exploitation 
				set_state_flag = benghazi_oil_developed
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}	
		
		}
	}

	focus = {
		id = ITA_polizia_dell_africa_italiana
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = ITA_regional_development }
		x = 1
		y = 1
		relative_position_id = ITA_regional_development
		cost = 4
		available = {
			any_controlled_state = {
				is_on_continent = africa
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			custom_effect_tooltip = ITA_polizia_dell_africa_italiana_occupation_law_tt

			set_country_flag = ITA_colonial_police_final_flag
		}
	}

	focus = {
		id = ITA_strengthen_ascari_corps
		icon = GFX_focus_ITA_strengthen_ascari_corps
		prerequisite = { focus = ITA_regional_development }
		x = 3
		y = 1
		relative_position_id = ITA_regional_development
		cost = 4
		available = {
			any_state = {
				OR = {
					is_core_of = LBA
					is_core_of = ERI
					is_core_of = SOM
					is_core_of = ETH
				}
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			unlock_decision_tooltip = ITA_reorganize_ascari

			hidden_effect = {
				### COLONIAL CAVALRY & CAMELRY TEMPLATES
				if = {
					limit = {
						NOT = { has_template = "Cavalleria Coloniale" }
					}
					division_template = {
						name = "Cavalleria Coloniale" 
						division_names_group = ITA_CAV_03
						override_model = ITA_cavalry_alt_1_entity
						is_locked = yes

						# Represents lesser-equipped colonial units
						regiments = { 
							cavalry = { x = 0 y = 0 } 
							cavalry = { x = 0 y = 1 } 
							cavalry = { x = 1 y = 0 } 
							cavalry = { x = 1 y = 1 }
						} 

						priority = 0 
					}
				}

				if = {
					limit = {
						NOT = { has_template = "Reggimento Meharista" }
					}
					division_template = {
						name = "Reggimento Meharista" 
						division_names_group = ITA_CAM_01 
						override_model = ITA_camelry_alt_2_entity
						regiments = { 
							camelry = { x = 0 y = 0 } 
							camelry = { x = 0 y = 1 } 
							camelry = { x = 1 y = 0 } 
							camelry = { x = 1 y = 1 } 
						} 
					}
				}
			}

			### ASCARI INFANTRY TEMPLATES
			if = {
				limit = {
					NOT = { has_template = "Divisione Coloniale" }
				}
				division_template = { 
					name = "Divisione Coloniale" 
					division_names_group = ITA_COL_01
					template_counter = 67
					#is_locked = yes

					# Represents lesser-equipped colonial units
					regiments = { 
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
					}

					priority = 0 
				}
			}

			if = {
				limit = {
					NOT = { has_template = "Divisione Ascari Libica" }
				}
				division_template = { 
					name = "Divisione Ascari Libica" 
					division_names_group = ITA_COL_01
					override_model = ITA_infantry_alt_0_entity
					template_counter = 67
					#is_locked = yes
					obsolete = yes

					# Represents lesser-equipped colonial units
					regiments = { 
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
					}

					priority = 0 
				}
			}

			if = {
				limit = {
					NOT = { has_template = "Divisione Ascari Eritrea" }
				}
				division_template = { 
					name = "Divisione Ascari Eritrea" 
					division_names_group = ITA_COL_01
					template_counter = 67
					#is_locked = yes
					obsolete = yes

					# Represents lesser-equipped colonial units
					regiments = { 
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
					}

					priority = 0 
				}
			}

			if = {
				limit = {
					NOT = { has_template = "Divisione Ascari Somala" }
				}
				division_template = { 
					name = "Divisione Ascari Somala" 
					division_names_group = ITA_COL_01
					override_model = ITA_infantry_alt_1_entity
					template_counter = 67
					#is_locked = yes
					obsolete = yes

					# Represents lesser-equipped colonial units
					regiments = { 
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
					}

					priority = 0 
				}
			}


			custom_effect_tooltip = ITA_strengthen_ascari_corps_create_units_tt 

			## CAVALRY + INFANTRY ##

			#ERITREA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = ERI
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = ERI
						is_fully_controlled_by = ROOT
					}
					prioritize = { 550 } # ERITREA (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_strengthen_ascari_corps_eritrea_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisione Ascari Eritrea\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
						prioritize = { 550 } # ERITREA (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_strengthen_ascari_corps_eritrea_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
							create_unit = {
								division = "division_template = \"Divisione Ascari Eritrea\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}

			#LIBYA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
					prioritize = { 448 } #TRIPOLI (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_strengthen_ascari_corps_libya_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisione Ascari Libica\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
						prioritize = { 448 } #TRIPOLI (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_strengthen_ascari_corps_libya_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
							create_unit = {
								division = "division_template = \"Divisione Ascari Libica\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}

			#SOMALIA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = SOM
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = SOM
						is_fully_controlled_by = ROOT
					}
					prioritize = { 559 } #SOMALILAND (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_strengthen_ascari_corps_somalia_tt
					hidden_effect = {
						create_unit = {
							division = "name = \"101a Divisione F. Coloniale Somala\" division_template = \"Divisione Ascari Somala\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "name = \"102a Divisione F. Coloniale Somala\" division_template = \"Divisione Ascari Somala\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = SOM
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = SOM
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = SOM
							is_fully_controlled_by = PREV
						}
						prioritize = { 559 } #SOMALILAND (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_strengthen_ascari_corps_somalia_tt
						hidden_effect = {
							create_unit = {
								division = "name = \"101a Divisione F. Coloniale Somala\" division_template = \"Divisione Ascari Somala\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
							create_unit = {
								division = "name = \"102a Divisione F. Coloniale Somala\" division_template = \"Divisione Ascari Somala\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}


			#ETHIOPIA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = ETH
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = ETH
						is_fully_controlled_by = ROOT
					}
					prioritize = { 271 } #ADDIS ABABA (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_strengthen_ascari_corps_ethiopia_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Divisione Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
						prioritize = { 271 } #ADDIS ABABA (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_strengthen_ascari_corps_ethiopia_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Divisione Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 2
							}
						}
					}
				}
			}
		
			## CAMELRY ## Separated so that Libyan Meharisti go before Eritrean ones (cavalry is the other way around)
			hidden_effect = {
				#LIBYA
				if = {
					limit = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
						prioritize = { 448 } #TRIPOLI (In case at some point this gets split or tag gets more cores)
						#Regular Camelry Eritrean
						create_unit = {
							division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
							owner = ROOT
							count = 2
						}
					}
				}
				else_if = {
					limit = {
						any_subject_country = {
							any_controlled_state = {
								is_core_of = LBA
								is_fully_controlled_by = ROOT
							}
						}
					}
					random_other_country = {
						limit = {
							is_subject_of = ROOT
							any_controlled_state = {
								is_core_of = LBA
								is_fully_controlled_by = ROOT
							}
						}
						random_controlled_state = {
							limit = {
								is_core_of = LBA
								is_fully_controlled_by = PREV
							}
							prioritize = { 448 } #TRIPOLI (In case at some point this gets split or tag gets more cores)
							#Regular Camelry Eritrean
							create_unit = {
								division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
								owner = ROOT
								count = 2
							}
						}
					}
				}

				#ERITREA
				if = {
					limit = {
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = ROOT
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = ERI
							is_fully_controlled_by = ROOT
						}
						prioritize = { 550 } # ERITREA (In case at some point this gets split or tag gets more cores)
						#Regular Camelry Eritrean
						create_unit = {
							division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
				else_if = {
					limit = {
						any_subject_country = {
							any_controlled_state = {
								is_core_of = ERI
								is_fully_controlled_by = ROOT
							}
						}
					}
					random_other_country = {
						limit = {
							is_subject_of = ROOT
							any_controlled_state = {
								is_core_of = ERI
								is_fully_controlled_by = ROOT
							}
						}
						random_controlled_state = {
							limit = {
								is_core_of = ERI
								is_fully_controlled_by = PREV
							}
							prioritize = { 550 } # ERITREA (In case at some point this gets split or tag gets more cores)
							#Regular Camelry Eritrean
							create_unit = {
								division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}

			show_unit_leaders_tooltip = ITA_hamid_idris_awate

			if = {
				limit = {
					NOT = { has_completed_focus = ITA_forza_navale_especiale }
				}
				custom_effect_tooltip = ITA_strengthen_ascari_corps_ibrahim_farag_mohammed_tt
			}
			show_unit_leaders_tooltip = ITA_ibrahim_farag_mohammed
		}
	}

	focus = {
		id = ITA_comandante_diavolo
		icon = GFX_focus_ITA_comandante_diavolo
		prerequisite = { focus = ITA_polizia_dell_africa_italiana focus = ITA_strengthen_ascari_corps }

		x = 1
		y = 1
		relative_position_id = ITA_polizia_dell_africa_italiana
		cost = 3
		available = {
			any_state = {
				OR = {
					is_core_of = LBA
					is_core_of = ERI
					is_core_of = SOM
					is_core_of = ETH
				}
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_ideas = ITA_hardened_irregular_bands

			hidden_effect = {
				if = {
					limit = {
						NOT = { has_template = "Truppe Irregolari a Cavallo" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_irregular_templates_flag }
						}
						division_template = { #Improve Irregular template
							name = "Truppe Irregolari a Cavallo"		
							division_names_group = ITA_CAV_05
							is_locked = yes
							regiments = {
								cavalry = { x = 0 y = 0 }
								cavalry = { x = 0 y = 1 }
								cavalry = { x = 1 y = 0 }
								cavalry = { x = 1 y = 1 }
							}
							priority = 0
						}
					}
					else = {
						division_template = { #Basic irregular template
							name = "Truppe Irregolari a Cavallo"		
							division_names_group = ITA_CAV_05
							is_locked = yes
							regiments = {
								cavalry = { x = 0 y = 0 }
								cavalry = { x = 0 y = 1 }
								cavalry = { x = 0 y = 2 }
								cavalry = { x = 1 y = 0 }
								cavalry = { x = 1 y = 1 }
								cavalry = { x = 1 y = 2 }
							}
							support = { 
								recon = { x = 0 y = 0 } 
							} 
							priority = 0
						}
					}
				}

				if = {
					limit = {
						NOT = { has_template = "Truppe Irregolari di Cammelli" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_irregular_templates_flag }
						}
						division_template = { #Improve Irregular template
							name = "Truppe Irregolari di Cammelli"		
							division_names_group = ITA_CAM_02
							is_locked = yes
							regiments = {
								camelry = { x = 0 y = 0 }
								camelry = { x = 0 y = 1 }
								camelry = { x = 1 y = 0 }
								camelry = { x = 1 y = 1 }
							}
							priority = 0
						}
					}
					else = {
						division_template = { #Basic irregular template
							name = "Truppe Irregolari di Cammelli"		
							division_names_group = ITA_CAM_02
							is_locked = yes
							regiments = {
								camelry = { x = 0 y = 0 }
								camelry = { x = 0 y = 1 }
								camelry = { x = 0 y = 2 }
								camelry = { x = 1 y = 0 }
								camelry = { x = 1 y = 1 }
								camelry = { x = 1 y = 2 }
							}
							support = { 
								recon = { x = 0 y = 0 } 
							} 
							priority = 0
						}
					}
				}
			}

			custom_effect_tooltip = ITA_comandante_diavolo_create_units_tt

			#ERITREA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = ERI
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = ERI
						is_fully_controlled_by = ROOT
					}
					prioritize = { 550 } # ERITREA (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_comandante_diavolo_eritrea_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Banda Irregolare Eritrea\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = ROOT
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
						prioritize = { 550 } # ERITREA (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_comandante_diavolo_eritrea_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Banda Irregolare Eritrea\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
							create_unit = {
								division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 2
							}
						}
					}
				}
			}

			#LIBYA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
					prioritize = { 448 } # TRIPOLI (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_comandante_diavolo_libya_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
							owner = ROOT
							count = 2
						}
						create_unit = {
							division = "division_template = \"Truppe Irregolari di Cammelli\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
						prioritize = { 448 } # TRIPOLI (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_comandante_diavolo_libya_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
								owner = ROOT
								count = 2
							}
							create_unit = {
								division = "division_template = \"Truppe Irregolari di Cammelli\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}

			#SOMALIA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = SOM
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = SOM
						is_fully_controlled_by = ROOT
					}
					prioritize = { 559 } # SOMALILAND (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_comandante_diavolo_somalia_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Banda Irregolare Somala\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 2
						}
						create_unit = {
							division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = SOM
							is_fully_controlled_by = ROOT
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = SOM
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = SOM
							is_fully_controlled_by = PREV
						}
						prioritize = { 559 } # SOMALILAND (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_comandante_diavolo_somalia_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Banda Irregolare Somala\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 2
							}
							create_unit = {
								division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}

			#ETHIOPIA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = ETH
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = ETH
						is_fully_controlled_by = ROOT
					}
					prioritize = { 271 } # ADDIS ABABA (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_comandante_diavolo_ethiopia_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Banda Irregolare Eritrea\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "name = \"Gruppo Bande Amhara\" division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Truppe Irregolari di Cammelli\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
						}
					}
				}
				random_other_country = {
					limit = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
						prioritize = { 271 } # ADDIS ABABA (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_comandante_diavolo_ethiopia_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Banda Irregolare Eritrea\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
							create_unit = {
								division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
							create_unit = {
								division = "division_template = \"Truppe Irregolari di Cammelli\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}

			show_unit_leaders_tooltip = ITA_amedeo_guillet
		}
	}

	focus = {
		id = ITA_steel_industry_in_terni
		icon = GFX_focus_generic_steel
		prerequisite = { focus = ITA_italian_highways_bba }
		x = -1
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			has_full_control_of_state = 2
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_iri_production_speed_arms_factory_factor = 0.025 }
			custom_effect_tooltip = ITA_steel_industry_in_terni_ricostruzione_industriale_tt
			2 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 8
				}
			}
		}
	}

	focus = {
		id = ITA_coal_improve
		icon = GFX_focus_generic_coal_mining

		prerequisite = { focus = ITA_italian_highways_bba }
		relative_position_id = ITA_steel_industry_in_terni
		x = -2
		y = 0

		completion_reward = {
			158 = {
				add_resource = {
					type = coal
					amount = 82
				}
			}

			39 = {
				add_resource = {
					type = coal
					amount = 37
				}
			}

			850 = {
				add_resource = {
					type = coal
					amount = 41
				}
			}

			117 = {
				add_resource = {
					type = coal
					amount = 76
				}
			}

			114 = {
				add_resource = {
					type = coal
					amount = 53
				}
			}
		}
	}

	focus = {
		id = ITA_power_plants_in_terni
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = ITA_italian_highways_bba }
		x = 1
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			has_full_control_of_state = 2
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_iri_production_speed_industrial_complex_factor = 0.05 }
			custom_effect_tooltip = ITA_power_plants_in_terni_ricostruzione_industriale_tt

			2 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_industria_della_gomma_sintetica
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = ITA_steel_industry_in_terni focus = ITA_power_plants_in_terni }

		x = 1
		y = 1
		relative_position_id = ITA_steel_industry_in_terni
		cost = 5
		available = {
			has_tech = synth_oil_experiments
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_industria_della_gomma_sintetica
				bonus = 0.5
				uses = 2
				category = cat_synth_oil
			}

			if = {
				limit = {
					2 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = synthetic_refinery
							size > 0
							include_locked = yes
						}
					}
				}
				2 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = synthetic_refinery
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 849 117 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_strengthen_northern_industry
		icon = GFX_focus_ITA_northern_industry
		prerequisite = { focus = ITA_industria_della_gomma_sintetica }
		x = -1
		y = 1
		relative_position_id = ITA_industria_della_gomma_sintetica
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 158
					158 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				158 = { #PIEDMONT (Torino, Genoa)
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 736 852 } #LITORALE as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 159
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano, Brescia)
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 850 30 } #TRENTINO as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 161
					161 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				161 = { #EMILIA ROMAGNA (Bologna)
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 30 850 } #ALTO ADIGE as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 160
					160 = {
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				160 = { #VENETO (Venice )
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 852 736 } #ISTRIA as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_modernize_the_mezzogiorno
		icon = GFX_focus_ITA_southern_industry
		prerequisite = { focus = ITA_industria_della_gomma_sintetica }
		x = 1
		y = 1
		relative_position_id = ITA_industria_della_gomma_sintetica
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 117
					117 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				117 = { #CAMPAGNA (Napoli)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 819					
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 156 2 162 } #CALABRIA as main fallback
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 849
				}
				849 = { #PUGLIA (Taranto, Bari, Foggia)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 9784					
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 115
				}

				115 = { #SICILY (Palermo, Messina, Catania)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 4159					
					}
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 7059					
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 114
				}
				114 = { #SARDINIA (Cagliari)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = 11773					
						}
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 162 #TOSCANA
				}
				162 = {
					add_resource = {
						type = steel
						amount = 12
					}
				}
			}
		}
	}

	focus = {
		id = ITA_new_industrialization_program
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = ITA_strengthen_northern_industry focus = ITA_modernize_the_mezzogiorno }
		prerequisite = { focus = ITA_expand_national_universities }

		x = 1
		y = 2
		relative_position_id = ITA_strengthen_northern_industry
		cost = 5
		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_new_industrialization_program_factories_required_tt
				NOT = { num_of_controlled_factories < ITA_new_industrialization_program_factories_required }
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_iri_consumer_goods_factor = -0.02 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt

			if = {
				limit = {
					has_completed_focus = ITA_strengthen_northern_industry
				}
				custom_effect_tooltip = ITA_new_industrialization_program_north_tt
				ITA_replace_designers_by_improved_version_north = yes 
			}
			else_if = {
				limit = {
					has_completed_focus = ITA_modernize_the_mezzogiorno
				}
				custom_effect_tooltip = ITA_new_industrialization_program_south_tt
				ITA_replace_designers_by_improved_version_south = yes
			}
			else = {
				custom_effect_tooltip = ITA_new_industrialization_program_generic_tt
			}
		}
	}

	focus = {
		id = ITA_railway_innovations
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = ITA_italian_highways_bba }

		x = 3
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 4
		available = {
			controls_state = 2
			controls_state = 161
			controls_state = 162
			controls_state = 117
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_railway_innovations
				ahead_reduction = 1.5
				bonus = 0.5
				uses = 1
				category = train_tech
			}

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			#Roma - La Spezia
			build_railway = {
				path = { 9904 11751 6862 6875 11833 6946 6973 }
			}

			#Roma - Bologna
			build_railway = {
				path = { 11751 6862 9750 9879 9907 1616 6985 6606 }
			}

			#Roma - Napoli
			build_railway = {
				path = { 9904 11846 923 9826 819 }
			}
		}
	}

	focus = {
		id = ITA_expand_foggia_farm_fields
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = ITA_railway_innovations }

		x = -1
		y = 1
		relative_position_id = ITA_railway_innovations
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = ITA_foggia_farm_fields days = 730 }
		}
	}

	focus = {
		id = ITA_investments_in_edison
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = ITA_railway_innovations }

		x = 0
		y = 2
		relative_position_id = ITA_railway_innovations
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_iri_consumer_goods_factor = -0.10 }
			custom_effect_tooltip = ITA_investments_in_edison_ricostruzione_industriale_tt

			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 161 850 } #EMILIA ROMAGNA as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_expand_national_universities
		icon = GFX_focus_research
		prerequisite = { focus = ITA_investments_in_edison }

		x = 0
		y = 1
		relative_position_id = ITA_investments_in_edison
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = ITA_fiocchi_munizioni
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = ITA_italian_highways_bba }

		x = 5
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 736 852 } #LITORALE as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_brescia_small_arms_industry
		icon = GFX_focus_focus_fra_maquis
		prerequisite = { focus = ITA_fiocchi_munizioni }

		x = -1
		y = 1
		relative_position_id = ITA_fiocchi_munizioni
		cost = 4
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 160 852 736 } #VENETO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_brescia_small_arms_industry
				bonus = 0.75
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = ITA_milan_comms_industry
		icon = GFX_goal_generic_radar
		prerequisite = { focus = ITA_fiocchi_munizioni }

		x = 1
		y = 1
		relative_position_id = ITA_fiocchi_munizioni
		cost = 4
		available = {
			has_tech = radio_detection
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			159 = { #LOMBARDY (Milano)
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			2 = { #LATIUM (Rome)
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			115 = { #SICILY
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = ITA_milan_comms_industry
				bonus = 1
				uses = 1
				category = radar_tech
			}
		}
	}

	focus = {
		id = ITA_redirect_alfa_romeo_production
		icon = GFX_focus_ITA_redirect_alfa_romeo_production
		prerequisite = { focus = ITA_brescia_small_arms_industry focus = ITA_milan_comms_industry }

		x = 1
		y = 1
		relative_position_id = ITA_brescia_small_arms_industry
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 158 160 852 736 39 } #PIEMONTE as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_redirect_alfa_romeo_production
				bonus = 0.50
				uses = 2
				category = motorized_equipment
				category = light_air
			}
		}
	}

	focus = {
		id = ITA_increase_production
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = ITA_expand_national_universities }
		prerequisite = { focus = ITA_redirect_alfa_romeo_production }
		x = -1
		y = 2
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_factory = 0.05 }
			add_to_variable = { ITA_military_industry_dm_factory_max_efficiency_factor = 0.05 }
			add_to_variable = { ITA_military_industry_dm_line_change_production_efficiency_factor = 0.2 }
			custom_effect_tooltip = ITA_increase_production_military_industry_tt

			add_to_variable = { ITA_iri_consumer_goods_factor = -0.02 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt
		}
	}

	focus = {
		id = ITA_keep_specialization
		icon = GFX_goal_generic_production
		prerequisite = { focus = ITA_expand_national_universities }
		prerequisite = { focus = ITA_redirect_alfa_romeo_production }
		x = 1
		y = 2
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_factory = 0.05 }
			add_to_variable = { ITA_military_industry_dm_production_factory_start_efficiency_factor = 0.1 }
			add_to_variable = { ITA_military_industry_dm_production_factory_efficiency_gain_factor = 0.1 }
			custom_effect_tooltip = ITA_keep_specialization_military_industry_tt

			add_to_variable = { ITA_iri_consumer_goods_factor = -0.02 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt
		}
	}

	focus = {
		id = ITA_thermojet_research
		icon = GFX_focus_rocketry
		prerequisite = { focus = ITA_increase_production focus = ITA_keep_specialization }

		x = 1
		y = 1
		relative_position_id = ITA_increase_production
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_thermojet_research
				bonus = 1
				uses = 1
				category = air_equipment
			}
			add_tech_bonus = {
				name = ITA_thermojet_research
				ahead_reduction = 1
				bonus = 1.0
				category = jet_technology
				category = rocketry
			}
		}
	}


########  ########  ######   ####  #######     ########  ######  ######## ########   ######  #### ########  #######  
##     ## ##       ##    ##   ##  ##     ##    ##       ##    ## ##       ##     ## ##    ##  ##     ##    ##     ## 
##     ## ##       ##         ##  ##     ##    ##       ##       ##       ##     ## ##        ##     ##    ##     ## 
########  ######   ##   ####  ##  ##     ##    ######    ######  ######   ########  ##        ##     ##    ##     ## 
##   ##   ##       ##    ##   ##  ##     ##    ##             ## ##       ##   ##   ##        ##     ##    ##     ## 
##    ##  ##       ##    ##   ##  ##     ##    ##       ##    ## ##       ##    ##  ##    ##  ##     ##    ##     ## 
##     ## ########  ######   ####  #######     ########  ######  ######## ##     ##  ######  ####    ##     #######  

	focus = {
		id = ITA_political_build_army
		icon = GFX_focus_FIN_national_fanatism

		relative_position_id = ITA_air_innovations_bba

		x = 2
		y = -1

		cost = 5

		available = {
			#has_country_leader = {
			#	character = ITA_benito_mussolini
			#	ruling_only = yes
			#}
		}

		completion_reward = {
			#add_political_power = 10
			country_event = IPUnion_country_event.59
			unlock_decision_category_tooltip = ITA_PNF_central_military_committee
		}
	}



	focus = {
		id = ITA_army_primacy_bba
		icon = GFX_goal_generic_axis_build_infantry

		x = 14
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
		}

		prerequisite = { focus = ITA_political_build_army }

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			army_experience = 25

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			#Fallback
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							arms_factory > 0
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}				
			}

			add_doctrine_cost_reduction = {
				name = ITA_army_primacy_bba #land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = ITA_preserve_army_traditions
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = ITA_army_primacy_bba }
		x = -3
		y = 1
		relative_position_id = ITA_army_primacy_bba
		cost = 4
		available = {
		}
		
		mutually_exclusive = {
			focus = ITA_a_bandits_war
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { ITA_re_army_army_org_factor = 0.05 }
			add_to_variable = { ITA_re_army_morale_factor = 0.05 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_infantry_defence_factor = 0.05 }
			custom_effect_tooltip = ITA_preserve_army_traditions_re_tt

			army_experience = 25

			add_doctrine_cost_reduction = {
				name = ITA_preserve_army_traditions
				cost_reduction = 0.75
				uses = 1
				category = cat_grand_battle_plan
			}
		}
	}

	focus = {
		id = ITA_increase_artillery_production
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = ITA_fiocchi_munizioni }
		prerequisite = { focus = ITA_army_primacy_bba }

		x = 3
		y = 1
		relative_position_id = ITA_fiocchi_munizioni
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = ITA_increase_artillery_production_military_industry_tt
			hidden_effect = {
				add_ideas = ITA_hidden_arty_production_ns
			}

			add_tech_bonus = {
				name = ITA_increase_artillery_production
				bonus = 0.5
				uses = 2
				category = artillery
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_vallo_alpino_del_littorio
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = ITA_milan_comms_industry }
		prerequisite = { focus = ITA_increase_artillery_production }

		x = 1
		y = 2
		relative_position_id = ITA_milan_comms_industry
		cost = 4
		
		available = {
			OR = {
				has_full_control_of_state = 158 #PIEDMONT
				has_full_control_of_state = 159 #LOMBARDY
				has_full_control_of_state = 850 #TRENTINO
				has_full_control_of_state = 39 #ALTO ADIGE
				has_full_control_of_state = 160 #VENETO
				has_full_control_of_state = 736 #LITORALE
				has_full_control_of_state = 852 #FIUME
			}
		}

		search_filters = {}

		completion_reward = {

			### VALLO ALPINO OCCIDENTALE ###
			if = { #PIEDMONT
				limit = {
					158 = { is_fully_controlled_by = ROOT }
				}
				158 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6780
						}
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6635
						}
						instant_build = yes
					}
				}
			}

			### VALLO ALPINO SETTENTRIONALE ###
			if = { #LOMBARDY
				limit = {
					159 = { is_fully_controlled_by = ROOT }
				}
				159 = {
					add_building_construction = { #Two separate effects for stupid tt reasons :)
						type = bunker
						level = 2
						province = {
							id = 9584
						}
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6661
						}
						instant_build = yes
					}
				}
			}
			if = { #ALTO ADIGE
				limit = {
					39 = { is_fully_controlled_by = ROOT }
				}
				39 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11615
						}
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11598
						}
						instant_build = yes
					}
				}
			}
			if = { #TRENTINO
				limit = {
					850 = { is_fully_controlled_by = ROOT }
				}
				850 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 9598
						}
						instant_build = yes
					}
				}
			}
			if = { #VENETO
				limit = {
					160 = { is_fully_controlled_by = ROOT }
				}
				160 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 3657
						}
						instant_build = yes
					}
				}
			}

			### VALLO ALPINO ORIENTALE ###
			if = { #LITORALE
				limit = {
					736 = { is_fully_controlled_by = ROOT }
				}
				736 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11595
						}
						instant_build = yes
					}
				}
			}
			if = { #ISTRIA
				limit = {
					852 = { is_fully_controlled_by = ROOT }
				}
				852 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11564
						}
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = ITA_vallo_alpino_del_littorio_tt
		}
	}

	focus = {
		id = ITA_moschettieri_del_duce
		icon = GFX_focus_ITA_moschettieri_del_duce
		

		prerequisite = { focus = ITA_a_bandits_war }

		x = 0
		y = 2
		relative_position_id = ITA_a_bandits_war
		cost = 4
		available = {
		}
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			add_to_variable = { ITA_re_army_core_defence_factor = 0.05 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_militia_max_org_factor = 0.05 }
			custom_effect_tooltip = ITA_moschettieri_del_duce_re_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = ITA_propaganda_be_loyalty_musketeer_for_duce
		}
	}

	focus = {
		id = ITA_a_bandits_war
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = ITA_army_primacy_bba }
		x = 3
		y = 1
		relative_position_id = ITA_army_primacy_bba
		cost = 4
		available = {
		}

		mutually_exclusive = {
			focus = ITA_preserve_army_traditions
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { ITA_re_org_loss_when_moving = -0.15 }
			add_to_variable = { ITA_re_army_speed_factor = 0.05 }
			custom_effect_tooltip = ITA_a_bandits_war_re_tt

			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = ITA_alberto_pariani

			add_doctrine_cost_reduction = {
				name = ITA_a_bandits_war
				cost_reduction = 0.75
				uses = 1
				category = cat_mobile_warfare
			}

			add_doctrine_cost_reduction = {
				name = ITA_a_bandits_war
				cost_reduction = 0.75
				uses = 1
				category = cat_superior_firepower
			}

			add_doctrine_cost_reduction = {
				name = ITA_a_bandits_war
				cost_reduction = 0.75
				uses = 1
				category = cat_mass_assault
			}

			add_tech_bonus = {
				name = ITA_a_bandits_war
				uses = 2
				bonus = 0.5
				category = motorized_equipment
				category = recon_tech
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_tech_bonus = {
					name = ITA_a_bandits_war
					bonus = 1
					uses = 1
					category = cat_armored_cars
				}
				add_ideas = ITA_bandits_war
			}
			else = {
				add_ideas = ITA_bandits_war_no_lar
			}

			# AI will never swap to another doctrine tree once they have started one, regardless of the AI weights, so AI needs to have it replaced manually
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
					}
					set_technology = {
						trench_warfare = 0
						mobile_warfare = 1
					}
				}
			}
		}
	}

	focus = {
		id = ITA_carica_di_isbuscenskij
		icon = GFX_focus_ITA_cavalry_charge
		prerequisite = { focus = ITA_preserve_army_traditions }

		dynamic = yes

		x = 0
		y = 2
		relative_position_id = ITA_preserve_army_traditions
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { ITA_re_modifier_army_sub_unit_cavalry_speed_factor = 0.03 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_cavalry_attack_factor = 0.03 }
			add_to_variable = { ITA_re_unit_cavalry_design_cost_factor = -0.25 }
			add_to_variable = { ITA_re_unit_camelry_design_cost_factor = -0.25 }
			custom_effect_tooltip = ITA_carica_di_isbuscenskij_re_tt

			army_experience = 25
		}
	}

	focus = {
		id = ITA_army_leaders
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = ITA_preserve_army_traditions focus = ITA_a_bandits_war }

		x = 1
		y = 1
		relative_position_id = ITA_preserve_army_traditions
		cost = 8
		available = {
			NOT = { has_global_flag = second_italo_ethiopian_war_flag }
			#NTH_Manu: Should probably also require a completed focus in any of the ME political paths, so that it can unlock appropriate generals
		}

		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { ITA_re_army_leader_cost_factor = -0.15 }
			add_to_variable = { ITA_re_experience_gain_factor = 0.1 }
			add_to_variable = { ITA_re_promote_cost_factor = -0.25 }
			add_to_variable = { ITA_re_army_speed_factor = 0.05 }
			custom_effect_tooltip = ITA_army_leaders_re_tt

			army_experience = 25

			if = {
				limit = {
					NOT = { has_government = communism }
				}
				show_unit_leaders_tooltip = ITA_annibale_bergonzoli
				custom_effect_tooltip = available_military_high_command
				show_ideas_tooltip = ITA_achille_starace	
			}
			if = {
				limit = {
					OR = {
						has_government = democratic
						has_government = neutrality
					}
				}
				show_unit_leaders_tooltip = ITA_giovanni_duca
			}
			else_if = { #Communist
				limit = {
					has_government = communism
				}
				show_unit_leaders_tooltip = ITA_ada_gobetti
			}
			
			#NTH_Manu: Medals to Divsion Commanders
		}
	}

	focus = {
		id = ITA_superesercito
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = ITA_preserve_army_traditions focus = ITA_a_bandits_war }

		x = 3
		y = 1
		relative_position_id = ITA_preserve_army_traditions
		cost = 4
		available = {
			#any_enemy_country = {
			#	is_major_not_original_tag_root = yes
			#}
		}

		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { ITA_re_land_doctrine_cost_factor = -0.1 }
			add_to_variable = { ITA_re_army_army_org_factor = 0.05 }
			add_to_variable = { ITA_re_org_loss_when_moving = -0.05 }

			custom_effect_tooltip = ITA_superesercito_re_tt

			army_experience = 50
			#if = {
			#	limit = {
			#		has_dlc = "No Step Back"
			#	}
			#	custom_effect_tooltip = "TODO_Manu: Cost reduction for Army spirits. Code Support"
			#}

			#Update NS icon
			ITA_improve_regio_esercito_dm_effect = yes
		}
	}

	focus = {
		id = ITA_italian_tankettes
		icon = GFX_focus_generic_tankette
		prerequisite = { focus = ITA_preserve_army_traditions focus = ITA_a_bandits_war }

		x = 5
		y = 1
		relative_position_id = ITA_preserve_army_traditions
		cost = 8
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = ITA_italian_tankettes_military_industry_tt
			hidden_effect = {
				add_ideas = ITA_hidden_tankettes_ns
			}

			add_tech_bonus = {
				name = ITA_italian_tankettes
				bonus = 1
				uses = 1
				category = cat_light_armor
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				if = {
					limit = {
						has_tech = improved_light_tank_chassis
					}
					ITA_add_improved_light_tank_templates = yes
				}
				else = {
					custom_effect_tooltip = ITA_italian_tankettes_light_hull_tt
					effect_tooltip = {
						ITA_add_improved_light_tank_templates = yes
					}
				}
				
				ITA_add_basic_light_tank_destroyer_template = yes

				if = {
					limit = {
						has_tech = tech_engineers2
					}
					#L3/35 lf Flamethrower
					ITA_add_basic_light_flamethrower_template = yes
				}
				else = {
					custom_effect_tooltip = ITA_italian_tankettes_flamethrower_tt
					effect_tooltip = {
						#L3/35 lf Flamethrower
						ITA_add_basic_light_flamethrower_template = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_bersaglieri
		icon = GFX_focus_ITA_bersaglieri
		prerequisite = { focus = ITA_army_leaders }
		prerequisite = { focus = ITA_superesercito }

		x = 1
		y = 1
		relative_position_id = ITA_army_leaders
		cost = 8
		available = {
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_to_variable = { ITA_re_special_forces_cap = 0.05 }
			add_to_variable = { ITA_re_special_forces_attack_factor = 0.03 }
			add_to_variable = { ITA_re_special_forces_defence_factor = 0.03 }
			custom_effect_tooltip = ITA_bersaglieri_re_tt

			army_experience = 15

			add_tech_bonus = {
				name = ITA_bersaglieri
				bonus = 0.75
				uses = 2
				category = cat_special_forces_generic
			}

			set_technology = { bicycle_infantry = 1 popup = no }

			division_template = { 
				name = "Reggimento Bersaglieri" 
				division_names_group = ITA_INF_01 #TODO_Manu: Namelist: 1º,2º... Reggimento Bersaglieri
				regiments = { 
					bicycle_battalion = { x = 0 y = 0 }
					bicycle_battalion = { x = 0 y = 1 }
					bicycle_battalion = { x = 1 y = 0 }
					bicycle_battalion = { x = 1 y = 1 }
				}
				support = { 
					engineer = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
					#anti_tank = { x = 0 y = 2 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "division_template = \"Reggimento Bersaglieri\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
					owner = ROOT
					count = 3
				}
			}
		}
	}

	focus = {
		id = ITA_divisioni_alpine
		icon = GFX_focus_ITA_alpine_division
		prerequisite = { focus = ITA_bersaglieri }

		x = -1
		y = 1
		relative_position_id = ITA_bersaglieri
		cost = 8
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { ITA_re_special_forces_cap = 0.02 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_mountaineers_defence_factor = 0.03 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_mountaineers_max_org_factor = 0.05 }
			custom_effect_tooltip = ITA_divisioni_alpine_re_tt

			army_experience = 15

			add_tech_bonus = {
				name = ITA_divisioni_alpine
				bonus = 1
				uses = 1
				category = mountaineers_tech
			}
			
		}
	}

	focus = {
		id = ITA_fanti_dell_aria
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = ITA_bersaglieri }

		x = 0
		y = 2
		relative_position_id = ITA_bersaglieri
		cost = 5
		available = {
			has_tech = paratroopers
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_to_variable = { ITA_re_special_forces_cap = 0.02 }
			add_to_variable = { ITA_re_special_forces_out_of_supply_factor = -0.1 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_paratrooper_max_org_factor = 0.05 }
			custom_effect_tooltip = ITA_fanti_dell_aria_re_tt

			army_experience = 15

			hidden_effect = {
				if = {
					limit = {
						NOT = { has_template = "Paratroopers" }
					}
					load_oob = "unlock_paratroopers"
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				prioritize = { 2 162 117 158 }
				custom_effect_tooltip = ITA_fanti_dell_aria_spawn_divs_tt
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Paratroopers\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 3
					}
				}
			}
			#ASCARI
			if = {
				limit = {
					any_owned_state = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
					prioritize = { 448 450 }
					custom_effect_tooltip = ITA_fanti_dell_aria_spawn_divs_libya_tt
					hidden_effect = {
						create_unit = {
							division = "name = \"Ascari del Cielo\" division_template = \"Paratroopers\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
				}
				random_subject_country = {
					limit = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
					random_owned_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
						prioritize = { 448 450 }
						custom_effect_tooltip = ITA_fanti_dell_aria_spawn_divs_libya_tt
						hidden_effect = {
							create_unit = {
								division = "name = \"Ascari del Cielo\" division_template = \"Paratroopers\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}

			add_tech_bonus = {
				name = ITA_fanti_dell_aria
				bonus = 1
				uses = 1
				category = para_tech
			}
		}
	}

	focus = {
		id = ITA_self_propelled_guns
		icon = GFX_focus_generic_self_propelled_gun
		prerequisite = { focus = ITA_superesercito }
		prerequisite = { focus = ITA_italian_tankettes }

		x = 1
		y = 1
		relative_position_id = ITA_superesercito
		cost = 8
		available = {
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				has_tech = basic_medium_tank_chassis
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			custom_effect_tooltip = ITA_self_propelled_guns_military_industry_tt
			hidden_effect = {
				add_ideas = ITA_hidden_spg_production_ns
			}

			add_tech_bonus = {
				name = ITA_self_propelled_guns
				bonus = 0.5
				uses = 3
				category = artillery
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				ITA_add_basic_medium_tank_templates = yes
			}
		}
	}

	focus = {
		id = ITA_end_fiat_ansaldo_duopoly
		icon = GFX_focus_ITA_fiat_ansaldo_duopoly
		prerequisite = { focus = ITA_self_propelled_guns }
		x = -1
		y = 1
		relative_position_id = ITA_self_propelled_guns
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_production_lack_of_resource_penalty_factor = -0.1 }
			custom_effect_tooltip = ITA_end_fiat_ansaldo_duopoly_military_industry_tt
            add_ideas = ITA_hidden_research_penalties_ns_2
			hidden_effect = {
				remove_ideas = ITA_hidden_research_penalties_ns
			}

			add_to_variable = { ITA_iri_consumer_goods_factor = -0.02 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt

			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				if = {
					limit = {
						has_tech = improved_medium_tank_chassis
					}
					ITA_add_improved_medium_tank_templates = yes
				}
				else = {
					custom_effect_tooltip = ITA_end_fiat_ansaldo_duopoly_medium_templates_tt
					effect_tooltip = {
						ITA_add_improved_medium_tank_templates = yes
					}
				}
				if = {
					limit = {
						has_tech = improved_heavy_tank_chassis
					}
					ITA_add_improved_heavy_tank_templates = yes
				}
				else = {
					custom_effect_tooltip = ITA_end_fiat_ansaldo_duopoly_heavy_templates_tt
					effect_tooltip = {
						ITA_add_improved_heavy_tank_templates = yes
					}
				}	
			}

			#Update NS icon
			ITA_improve_regio_esercito_dm_effect = yes
		}
	}

	focus = {
		id = ITA_modernize_ansaldo_facilities
		icon = GFX_focus_ITA_modernize_ansaldo_facilities
		prerequisite = { focus = ITA_self_propelled_guns }
		x = 1
		y = 1
		relative_position_id = ITA_self_propelled_guns
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_equipment_upgrade_xp_cost = -0.15 }
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_factory = 0.05 }
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_dockyard = 0.05 }
			custom_effect_tooltip = ITA_modernize_ansaldo_facilities_military_industry_tt

			add_to_variable = { ITA_iri_consumer_goods_factor = -0.02 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt

			if = {
				limit = {
					has_full_control_of_state = 158
					158 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				158 = { #PIEDMONT (Genova)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 162 161 157 } #TOSCANA as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			#Update NS icon
			ITA_improve_regio_esercito_dm_effect = yes
		}
	}

	focus = {
		id = ITA_ferrea_mole_ferreo_cuore
		icon = GFX_focus_ITA_ferrea_mole_ferreo_cuore
		prerequisite = { focus = ITA_end_fiat_ansaldo_duopoly focus = ITA_modernize_ansaldo_facilities }

		x = 1
		y = 1
		relative_position_id = ITA_end_fiat_ansaldo_duopoly
		cost = 8
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			custom_effect_tooltip = ITA_ferrea_mole_ferreo_cuore_military_industry_tt
			hidden_effect = {
				add_ideas = ITA_hidden_ferrea_mole_ns
			}

			army_experience = 50

			add_tech_bonus = {
				name = ITA_ferrea_mole_ferreo_cuore
				bonus = 1
				uses = 2
				category = armor
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				if = {
					limit = {
						has_tech = advanced_medium_tank_chassis
					}
					ITA_add_advanced_medium_tank_templates = yes
				}
				else = {
					custom_effect_tooltip = ITA_ferrea_mole_ferreo_cuore_medium_tempaltes_tt
					effect_tooltip = {
						ITA_add_advanced_medium_tank_templates = yes
					}
				}
				if = {
					limit = {
						has_tech = advanced_heavy_tank_chassis
					}
					ITA_add_advanced_heavy_tank_templates = yes
				}
				else = {
					custom_effect_tooltip = ITA_ferrea_mole_ferreo_cuore_heavy_tempaltes_tt
					effect_tooltip = {
						ITA_add_advanced_heavy_tank_templates = yes
					}
				}
			}
		}
	}


########  ########  ######   ####    ###          ###    ######## ########   #######  ##    ##    ###    ##     ## ######## ####  ######     ###    
##     ## ##       ##    ##   ##    ## ##        ## ##   ##       ##     ## ##     ## ###   ##   ## ##   ##     ##    ##     ##  ##    ##   ## ##   
##     ## ##       ##         ##   ##   ##      ##   ##  ##       ##     ## ##     ## ####  ##  ##   ##  ##     ##    ##     ##  ##        ##   ##  
########  ######   ##   ####  ##  ##     ##    ##     ## ######   ########  ##     ## ## ## ## ##     ## ##     ##    ##     ##  ##       ##     ## 
##   ##   ##       ##    ##   ##  #########    ######### ##       ##   ##   ##     ## ##  #### ######### ##     ##    ##     ##  ##       ######### 
##    ##  ##       ##    ##   ##  ##     ##    ##     ## ##       ##    ##  ##     ## ##   ### ##     ## ##     ##    ##     ##  ##    ## ##     ## 
##     ## ########  ######   #### ##     ##    ##     ## ######## ##     ##  #######  ##    ## ##     ##  #######     ##    ####  ######  ##     ## 


	focus = {
		id = ITA_air_innovations_bba
		icon = GFX_goal_expand_the_luftwaffe

		x = 8
		y = 0
		relative_position_id = ITA_army_primacy_bba
		cost = 5
		available = {
		}

		prerequisite = { focus = ITA_political_build_army }

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 25

			add_tech_bonus = {
				name = ITA_air_innovations_bba #fighter_bonus
				bonus = 0.5
				uses = 1
				category = light_fighter
			}

			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = ITA_citta_dell_aria
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = ITA_air_innovations_bba }

		x = 0
		y = 1
		relative_position_id = ITA_air_innovations_bba
		cost = 4
		available = {
			has_full_control_of_state = 2
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {

			add_tech_bonus = {
				name = ITA_citta_dell_aria
				bonus = 0.25
				uses = 3 # was 4
				category = air_equipment
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					2 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				2 = { #LATIUM (Rome)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 849 117 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			custom_effect_tooltip = ITA_citta_dell_aria_tt
			hidden_effect = {
				IF = {
					limit = { 
						2 = {
							is_fully_controlled_by = ROOT
							air_facility < 1
							land_facility < 1
							naval_facility < 1
							nuclear_facility < 1
						}
					}

					2 = {
						add_building_construction = {
							type = air_facility
							level = 1
							instant_build = yes
							province = 11751 # North of Rome
						}
					}
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				ITA_add_citta_dell_aria_templates = yes
			}
		}
	}

	focus = {
		id = ITA_expand_rome_flying_school
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = ITA_air_innovations_bba }

		mutually_exclusive = { focus = ITA_encourage_the_flight_academy_to_participate_in_labor_activities }

		x = 3
		y = 1
		relative_position_id = ITA_air_innovations_bba
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_ace_generation_chance_factor = 0.05 }
			add_to_variable = { ITA_ra_air_night_penalty = -0.1 }
			add_to_variable = { ITA_ra_air_weather_penalty = -0.1 }
			add_to_variable = { ITA_ra_air_training_xp_gain_factor = 0.05 }
			custom_effect_tooltip = ITA_expand_rome_flying_school_ra_tt

			air_experience = 25

			custom_effect_tooltip = ITA_reduced_chance_of_air_accidents_tt
		}
	}

	focus = {
		id = ITA_encourage_the_flight_academy_to_participate_in_labor_activities
		icon = GFX_focus_HUN_establish_the_mavag_aircraft_factory
		prerequisite = { focus = ITA_air_innovations_bba }

		mutually_exclusive = { focus = ITA_expand_rome_flying_school }

		x = 5
		y = 1
		relative_position_id = ITA_air_innovations_bba
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_ace_generation_chance_factor = 0.05 }
			add_to_variable = { ITA_ra_air_night_penalty = -0.1 }
			add_to_variable = { ITA_ra_air_weather_penalty = -0.1 }
			add_to_variable = { ITA_ra_air_training_xp_gain_factor = 0.05 }
			custom_effect_tooltip = ITA_expand_rome_flying_school_ra_tt

			air_experience = 25

			custom_effect_tooltip = ITA_reduced_chance_of_air_accidents_tt

			hidden_effect = {
				country_event = {
					id = IPUnion_country_event.62
					days = 7
				}
			}
		}
	}

	focus = {
		id = ITA_revive_the_zeppelin
		icon = GFX_focus_zeppelin
		prerequisite = { focus = ITA_expand_rome_flying_school focus = ITA_encourage_the_flight_academy_to_participate_in_labor_activities }

		x = 1
		y = 1
		relative_position_id = ITA_expand_rome_flying_school
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 25
			
		}
	}

	focus = {
		id = ITA_reggianes_exports
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = ITA_citta_dell_aria }

		x = -2
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 5
		available = {
			has_full_control_of_state = 161
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_iri_consumer_goods_factor = -0.02 }
			custom_effect_tooltip = ITA_reggianes_exports_ricostruzione_industriale_tt

			if = {
				limit = {
					161 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				161 = { #EMILIA ROMAGNA (Reggio Emilio)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 162 157 } #TOSCANA as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_reggianes_exports
				bonus = 0.50
				uses = 1
				category = air_equipment #Maybe more specific stuff? (Light/Medium bombers, fighters...)
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_reggianes_exports_templates = yes
			}
		}
	}

	focus = {
		id = ITA_diving_bombers
		icon = GFX_goal_poland_goal
		prerequisite = { focus = ITA_citta_dell_aria }
		prerequisite = { focus = ITA_expand_rome_flying_school focus = ITA_encourage_the_flight_academy_to_participate_in_labor_activities }

		x = 2
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 15
			if = {
				limit = {
					country_exists = GER
					NOT = { has_war_with = GER }
				}
				add_equipment_to_stockpile = { 
					type = small_plane_cas_airframe_1
					amount = 100
					producer = GER
					variant_name = "Ju 87"
				}
			}
			else = {
				add_tech_bonus = {
					name = ITA_diving_bombers
					bonus = 0.5
					uses = 1
					category = cas_bomber
					category = naval_bomber
				}	
			}
			#NTH_Manu: Sends a request to Germany to purchase CAS and/or licensing design templates (historically 100 Ju87)
		}
	}

	focus = {
		id = ITA_superaereo
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = ITA_citta_dell_aria }

		x = 0
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 5
		available = {
			#any_enemy_country = {
			#	is_major_not_original_tag_root = yes
			#}
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_mission_efficiency = 0.05 }
			add_to_variable = { ITA_ra_air_mission_xp_gain_factor = 0.05 }
			add_to_variable = { ITA_ra_air_doctrine_cost_factor = -0.1 }
			custom_effect_tooltip = ITA_superaereo_ra_tt

			air_experience = 50
			#if = {
			#	limit = {
			#		has_dlc = "No Step Back"
			#	}
			#	custom_effect_tooltip = "TODO_Manu: Cost reduction for Airforce spirits. Code support"
			#}

			#Update NS icon
			ITA_improve_regia_aeronautica_dm_effect = yes
		}
	}

	focus = {
		id = ITA_officers_of_the_service_role
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = ITA_superaereo }
		prerequisite = { focus = ITA_expand_rome_flying_school focus = ITA_encourage_the_flight_academy_to_participate_in_labor_activities }

		x = 3
		y = 1
		relative_position_id = ITA_superaereo
		cost = 4
		available = {
			#if = {
			#	limit = {
			#		has_dlc = "By Blood Alone"
			#	}
			#	has_tech = improved_small_airframe
			#	has_tech = improved_medium_airframe
			#}
			#else = {
			#	has_tech = fighter2
			#	has_tech = tactical_bomber2
			#}
			
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_night_penalty = -0.05 }
			add_to_variable = { ITA_ra_air_weather_penalty = -0.05 }
			add_to_variable = { ITA_ra_air_accidents_factor = -0.1 }
			custom_effect_tooltip = ITA_officers_of_the_service_role_ra_tt

			air_experience = 25

			add_ace = {
				type = "fighter_good"
				name = "Adriano"
				surname = "Visconti"
				callsign = "Tigre" #Totally made up
			}
			add_ace = { #Ace is a fighter pilot really
				type = "bomber_unique"
				name = "Vittorio"
				surname = "Sanseverino"
				callsign = "Postino" #Totally made up
			}

			custom_effect_tooltip = ITA_reduced_chance_of_air_accidents_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = ITA_officers_of_the_service_role_tt
		}
	}

	focus = {
		id = ITA_standardization
		icon = GFX_goal_generic_production2
		prerequisite = { focus = ITA_superaereo }
		x = -1
		y = 1
		relative_position_id = ITA_superaereo
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			#More expensive to edit templates, more cheap to produce aircraft
			custom_effect_tooltip = ITA_standardization_ra_tt

			hidden_effect = {
				add_ideas = ITA_hidden_standardization_ns
			}

			add_to_variable = { ITA_iri_consumer_goods_factor = -0.02 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt
		
			add_tech_bonus = {
				name = ITA_standardization
				bonus = 0.75
				uses = 1
				category = tactical_bomber
				category = light_fighter
				category = cat_strategic_bomber
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			#Update NS icon
			ITA_improve_regia_aeronautica_dm_effect = yes
		}
	}

	focus = {
		id = ITA_specialization
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = ITA_superaereo }
		x = 1
		y = 1
		relative_position_id = ITA_superaereo
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			#More expensive to edit templates, more cheap to produce aircraft
			add_to_variable = { ITA_military_industry_air_equipment_upgrade_xp_cost = -0.5 }
			custom_effect_tooltip = ITA_specialization_ra_tt

			hidden_effect = {
			}

			add_to_variable = { ITA_iri_consumer_goods_factor = -0.02 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt

			air_experience = 15
	
			add_tech_bonus = {
				name = ITA_specialization
				bonus = 0.5
				uses = 2
				category = air_equipment
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			#Update NS icon
			ITA_improve_regia_aeronautica_dm_effect = yes
		}
	}


	focus = {
		id = ITA_long_range_aircraft
		icon = GFX_focus_generic_long_range_aircraft
		prerequisite = { focus = ITA_standardization }

		x = -2
		y = 1
		relative_position_id = ITA_standardization
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_ra_strategic_bomb_visibility = -0.05 }
			add_to_variable = { ITA_ra_air_strategic_bomber_bombing_factor = 0.05 }
			add_to_variable = { ITA_ra_air_range_factor = 0.05 }
			custom_effect_tooltip = ITA_long_range_aircraft_ra_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_long_range_aircraft_templates = yes
			}
		}
	}

	focus = {
		id = ITA_bomber_designs
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = ITA_standardization focus = ITA_specialization }

		x = 2
		y = 0
		relative_position_id = ITA_long_range_aircraft
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 25

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_bomber_designs_templates = yes
			}
		}
	}

	focus = {
		id = ITA_fighter_designs
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = ITA_standardization focus = ITA_specialization }

		x = 4
		y = 0
		relative_position_id = ITA_long_range_aircraft
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 25

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_fighter_designs_templates = yes
			}
		}
	}

	focus = {
		id = ITA_multirole_aircraft
		icon = GFX_focus_generic_multi_role_aircraft
		prerequisite = { focus = ITA_specialization }

		x = 6
		y = 0
		relative_position_id = ITA_long_range_aircraft
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_military_industry_air_equipment_upgrade_xp_cost = -0.25 }
			custom_effect_tooltip = ITA_multirole_aircraft_military_industry_tt

			add_to_variable = { ITA_ra_air_mission_xp_gain_factor = 0.1 }
			custom_effect_tooltip = ITA_multirole_aircraft_ra_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_multirole_aircraft_templates = yes
			}
		}
	}

	focus = {
		id = ITA_supremacy_in_the_skies
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = ITA_multirole_aircraft focus = ITA_long_range_aircraft focus = ITA_fighter_designs focus = ITA_bomber_designs }

		x = 1
		y = 1
		relative_position_id = ITA_bomber_designs
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_superiority_bonus_in_combat = 0.05 }
			add_to_variable = { ITA_ra_air_superiority_efficiency = 0.05 }
			add_to_variable = { ITA_ra_air_intercept_efficiency = 0.05 }
			custom_effect_tooltip = ITA_supremacy_in_the_skies_ra_tt

			air_experience = 50

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_supremacy_in_the_skies_templates = yes
			}
		}
	}


########  ########  ######   ####    ###       ##     ##    ###    ########  #### ##    ##    ###    
##     ## ##       ##    ##   ##    ## ##      ###   ###   ## ##   ##     ##  ##  ###   ##   ## ##   
##     ## ##       ##         ##   ##   ##     #### ####  ##   ##  ##     ##  ##  ####  ##  ##   ##  
########  ######   ##   ####  ##  ##     ##    ## ### ## ##     ## ########   ##  ## ## ## ##     ## 
##   ##   ##       ##    ##   ##  #########    ##     ## ######### ##   ##    ##  ##  #### ######### 
##    ##  ##       ##    ##   ##  ##     ##    ##     ## ##     ## ##    ##   ##  ##   ### ##     ## 
##     ## ########  ######   #### ##     ##    ##     ## ##     ## ##     ## #### ##    ## ##     ## 


	focus = {
		id = ITA_naval_power_projection
		icon = GFX_goal_generic_build_navy

		x = 12
		y = 0
		relative_position_id = ITA_air_innovations_bba
		cost = 4
		available = {
		}

		prerequisite = { focus = ITA_political_build_army }

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}				
			}

			add_doctrine_cost_reduction = {
				name = naval_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = ITA_intensify_torpedo_manufacturing
		icon = GFX_focus_generic_torpedo_production
		prerequisite = { focus = ITA_naval_power_projection }

		x = -2
		y = 1
		relative_position_id = ITA_naval_power_projection
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_convoy_raiding_efficiency_factor = 0.05 }
			add_to_variable = { ITA_rm_naval_strike_attack_factor = 0.05 }
			add_to_variable = { ITA_rm_navy_submarine_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_intensify_torpedo_manufacturing_rm_tt

			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = ITA_intensify_torpedo_manufacturing
					bonus = 1.0
					uses = 1
					category = cat_torpedoes
				}
			}
			else = {
				add_doctrine_cost_reduction = {
					name = ITA_intensify_torpedo_manufacturing
					cost_reduction = 0.5
					uses = 2
					category = cat_trade_interdiction
				}
			}
		}
	}

	focus = {
		id = ITA_expand_naval_facilities
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = ITA_naval_power_projection }

		x = 0
		y = 1
		relative_position_id = ITA_naval_power_projection
		cost = 5
		available = {
			OR = {
				has_full_control_of_state = 162
				has_full_control_of_state = 736
				has_full_control_of_state = 114
				has_full_control_of_state = 117
				has_full_control_of_state = 849
				has_full_control_of_state = 852
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					162 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				162 = { #TUSCANY (La Spezia)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 161 2 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					736 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				736 = { #LITORALE (Trieste)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 852 160 161 } #ISTRIA as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			114 = { #SARDINIA (Cagliari, La Maddalena)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 6891 #La Maddalena
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11773 #Cagliari
				}
			}

			117 = { #CAMPAGNA (Napoli)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 819 #Napoli
				}
			}

			849 = { #PUGLIA (Brindisi)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11998
				}
			}

			852 = { #ISTRIA (Fiume)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11564
				}
			}
		}
	}

	focus = {
		id = ITA_oto_naval_guns
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = ITA_naval_power_projection }

		x = 2
		y = 1
		relative_position_id = ITA_naval_power_projection
		cost = 5
		available = {
			has_full_control_of_state = 162
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_navy_capital_ship_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_oto_naval_guns_rm_tt

			if = {
				limit = {
					162 = {
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				162 = { #TUSCANY (La Spezia)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 161 160 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_dlc = "Man the Guns" }
				add_tech_bonus = {
					name = ITA_oto_naval_guns
					bonus = 1.0
					uses = 2
					category = medium_airframe
					#category = cat_ship_heavy_battery
				}
			}
			else = {
				navy_experience = 15
			}
		}
	}

	focus = {
		id = ITA_improve_overseas_naval_bases
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = ITA_expand_naval_facilities }

		x = -4
		y = 1
		relative_position_id = ITA_expand_naval_facilities
		cost = 5
		available = {
			OR = {
				has_full_control_of_state = 448
				has_full_control_of_state = 451
				has_full_control_of_state = 164
				has_full_control_of_state = 550
				has_full_control_of_state = 559
				has_full_control_of_state = 844
				has_full_control_of_state = 447
				has_full_control_of_state = 458
				has_full_control_of_state = 459
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 448
				}
				448 = { #TRIPOLI (Tripoli)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 1149
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 1149
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 451
				}
				451 = { #DERNA (Tobruk)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 1130
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 1130
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 164
				}
				164 = { #DODECANESE (Rhodes)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 10007
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 10007
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 550
				}
				550 = { #ERITREA (Massaua)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12766
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 12766
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 559
				}
				559 = { #SOMALILAND (Mogadishu)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12991
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 12991
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 844
				}
				844 = { #JUBALAND (Kismaayo)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12941
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 12941
					}
				}
			}

			#EXTRA STATES
			if = {
				limit = {
					has_full_control_of_state = 447
				}
				447 = { #ALEXANDRIA (Alexandria)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 4076
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 4076
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 458
				}
				458 = { #TUNISIA (Bizerte)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 9994
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 9994
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 459
				}
				459 = { #ALGIERS (Oran)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 7132
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 7132
					}
				}
			}
		}
	}

	focus = {
		id = ITA_milizia_marittima_di_artiglieria
		icon = GFX_focus_ITA_milizia_marittima_di_artiglieria
		prerequisite = { focus = ITA_expand_naval_facilities }

		x = -2
		y = 1
		relative_position_id = ITA_expand_naval_facilities
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_milizia_marittima_di_artiglieria
				bonus = 1.0
				uses = 1
				category = artillery
			}

			custom_effect_tooltip = ITA_milizia_marittima_di_artiglieria_coastal_forts_tt
			every_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					naval_base > 0
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_supermarina
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = ITA_expand_naval_facilities }

		x = 0
		y = 1
		relative_position_id = ITA_expand_naval_facilities
		cost = 4
		available = {
			#any_enemy_country = {
			#	is_major_not_original_tag_root = yes
			#}
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			add_to_variable = { ITA_rm_naval_doctrine_cost_factor = -0.1 }
			add_to_variable = { ITA_rm_naval_morale_factor = 0.1 }
			add_to_variable = { ITA_rm_strike_force_movement_org_loss = -0.05 }
			custom_effect_tooltip = ITA_supermarina_rm_tt

			navy_experience = 50
			#if = {
			#	limit = {
			#		has_dlc = "No Step Back"
			#	}
			#	custom_effect_tooltip = "TODO_Manu: Cost reduction for Navy spirits. Code support"
			#}

			#Update NS icon
			ITA_improve_regia_marina_dm_effect = yes
		}
	}

	focus = {
		id = ITA_stockpile_fuel
		icon = GFX_focus_generic_stockpile_fuel
		prerequisite = { focus = ITA_expand_naval_facilities }

		x = 2
		y = 1
		relative_position_id = ITA_expand_naval_facilities
		cost = 4
		available = {
			is_at_peace_exiled_countries_excluded = yes
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = ITA_stockpiling_fuel days = 730 }

			if = {
				limit = {
					849 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
				}
				849 = { #PUGLIA (Taranto)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 852 736 } #ISTRIA as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					117 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
				}
				117 = { #Campagna (Napoli)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 162 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					115 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
				}
				115 = { #SICILY (Palermo)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 156 114 } #CALABRIA as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_forza_navale_especiale
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = ITA_expand_naval_facilities }

		x = 4
		y = 1
		relative_position_id = ITA_expand_naval_facilities
		cost = 5
		available = {
			has_tech = marines
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_to_variable = { ITA_rm_special_forces_cap = 0.02 }
			add_to_variable = { ITA_rm_amphibious_invasion = 0.05 }
			add_to_variable = { ITA_rm_naval_invasion_capacity = 10 }
			add_to_variable = { ITA_rm_invasion_preparation = -0.1 }
			custom_effect_tooltip = ITA_forza_navale_especiale_rm_tt

			hidden_effect = {
				if = {
					limit = {
						NOT = { has_template = "Marines" }
					}
					load_oob = "unlock_marines"
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				prioritize = { 2 162 117 158 }
				create_unit = {
					division = "division_template = \"Marines\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = ROOT
					count = 2
				}
			}
			#ASCARI
			if = {
				limit = {
					any_owned_state = {
						is_core_of = ERI
						is_fully_controlled_by = ROOT
					}
				}
				hidden_effect = {
					if = {
						limit = {
							has_tech = improved_infantry_weapons
						}
						division_template = {
							name = "Ascari di Marina"
							override_model = ITA_marine_2_alt_0_entity
							template_counter = 34
							obsolete = yes
							regiments = {
								marine = { x = 0 y = 0 }
								marine = { x = 0 y = 1 }
								marine = { x = 1 y = 0 }
								marine = { x = 1 y = 1 }
							}
						}
					}
					else = {		
						division_template = {
							name = "Ascari di Marina"
							override_model = ITA_marine_alt_0_entity
							template_counter = 34
							obsolete = yes
							regiments = {
								marine = { x = 0 y = 0 }
								marine = { x = 0 y = 1 }
								marine = { x = 1 y = 0 }
								marine = { x = 1 y = 1 }
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ERI
						is_fully_controlled_by = ROOT
					}
					prioritize = { 550 }
					create_unit = {
						division = "name = \"1a Divisione Ascari di Marina\" division_template = \"Ascari di Marina\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
					}
				}
				hidden_effect = {
					if = {
						limit = {
							has_tech = improved_infantry_weapons
						}
						division_template = {
							name = "Ascari di Marina"
							override_model = ITA_marine_2_alt_0_entity
							template_counter = 34
							obsolete = yes
							regiments = {
								marine = { x = 0 y = 0 }
								marine = { x = 0 y = 1 }
								marine = { x = 1 y = 0 }
								marine = { x = 1 y = 1 }
							}
						}
					}
					else = {		
						division_template = {
							name = "Ascari di Marina"
							override_model = ITA_marine_alt_0_entity
							template_counter = 34
							obsolete = yes
							regiments = {
								marine = { x = 0 y = 0 }
								marine = { x = 0 y = 1 }
								marine = { x = 1 y = 0 }
								marine = { x = 1 y = 1 }
							}
						}
					}
				}
				random_subject_country = {
					limit = {
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
					}
					random_owned_controlled_state = {
						limit = {
							is_core_of = ERI
							is_fully_controlled_by = ROOT
						}
						prioritize = { 550 }
						create_unit = {
							division = "name = \"1a Divisione Ascari di Marina\" division_template = \"Ascari di Marina\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}

			add_tech_bonus = {
				name = ITA_forza_navale_especiale
				bonus = 1.0
				uses = 1
				category = marine_tech
				category = tp_tech
			}

			if = {
				limit = {
					NOT = { has_completed_focus = ITA_strengthen_ascari_corps }
					NOT = { has_completed_focus = ITA_forza_navale_especiale }
				}
				custom_effect_tooltip = ITA_strengthen_ascari_corps_ibrahim_farag_mohammed_tt
			}
			show_unit_leaders_tooltip = ITA_ibrahim_farag_mohammed
		}
	}

	focus = {
		id = ITA_naval_air_coordination
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = ITA_supermarina }
		prerequisite = { focus = ITA_expand_rome_flying_school focus = ITA_encourage_the_flight_academy_to_participate_in_labor_activities }

		x = -6
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_naval_coordination = 0.05 }
			add_to_variable = { ITA_rm_spotting_chance = 0.1 }
			add_to_variable = { ITA_rm_naval_strike_agility_factor = 0.05 }
			custom_effect_tooltip = ITA_naval_air_coordination_rm_tt

			air_experience = 25
			navy_experience = 25

			add_tech_bonus = {
				name = ITA_naval_air_coordination
				bonus = 1.0
				uses = 2
				category = naval_bomber
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_naval_air_coordination_templates = yes
			}

			add_ace = {
				type = "support_unique"
				name = "Giulio" #MM: Real name Giulio Cesare Graziani but art won't hook-in with double name :D
				surname = "Graziani"
				callsign = "Torpedo Twin"
			}
			add_ace = {
				type = "support_good"
				name = "Carlo"
				surname = "Faggioni"
				callsign = "Torpedo Twin"
			}
		}
	}

	focus = {
		id = ITA_decima_flottiglia_mas
		icon = GFX_focus_ITA_decima_flottiglia_mas
		prerequisite = { focus = ITA_supermarina }

		x = -4
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			add_to_variable = { ITA_rm_convoy_raiding_efficiency_factor = 0.02 }
			add_to_variable = { ITA_rm_naval_critical_score_chance_factor = 0.02 }
			add_to_variable = { ITA_rm_sub_retreat_speed = 0.05 }
			custom_effect_tooltip = ITA_decima_flottiglia_mas_rm_tt

			navy_experience = 25

			show_unit_leaders_tooltip = ITA_junio_valerio_borghese

			unlock_decision_tooltip = ITA_human_torpedo_raid

			#TODO_Manu: Nice to have -> New Operation for damaging enemy ships docked in nearby docks with human torpedoes
		}
	}

	focus = {
		id = ITA_incrociatori_leggeri
		icon = GFX_focus_generic_cruiser2
		prerequisite = { focus = ITA_supermarina }
		x = -2
		y = 1
		relative_position_id = ITA_supermarina
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			add_to_variable = { ITA_rm_screening_efficiency = 0.05 }
			custom_effect_tooltip = ITA_incrociatori_leggeri_rm_tt
			hidden_effect = {
				add_ideas = ITA_hidden_light_cruisers_production_ns
			}

			add_to_variable = { ITA_iri_consumer_goods_factor = -0.02 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt

			navy_experience = 25

			add_doctrine_cost_reduction = {
				name = ITA_incrociatori_leggeri
				cost_reduction = 0.75
				uses = 2
				category = cat_trade_interdiction
			}

			add_tech_bonus = {
				name = ITA_incrociatori_leggeri
				bonus = 1
				uses = 1
				category = cl_tech
			}

			#Update NS icon
			ITA_improve_regia_marina_dm_effect = yes
		}
	}

	focus = {
		id = ITA_incrociatori_pesanti
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = ITA_supermarina }
		x = 2
		y = 1
		relative_position_id = ITA_supermarina
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			add_to_variable = { ITA_rm_strike_force_movement_org_loss = -0.05 }
			custom_effect_tooltip = ITA_incrociatori_pesanti_rm_tt
			hidden_effect = {
				add_ideas = ITA_hidden_heavy_cruisers_production_ns
			}			

			add_to_variable = { ITA_iri_consumer_goods_factor = -0.02 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt

			navy_experience = 25

			add_doctrine_cost_reduction = {
				name = ITA_incrociatori_pesanti
				cost_reduction = 0.75
				uses = 2
				category = cat_fleet_in_being
			}

			add_tech_bonus = {
				name = ITA_incrociatori_pesanti
				bonus = 1
				uses = 1
				category = ca_tech
			}

			#Update NS icon
			ITA_improve_regia_marina_dm_effect = yes
		}
	}

	focus = {
		id = ITA_expand_naval_intelligence
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = ITA_supermarina }

		x = 4
		y = 1
		relative_position_id = ITA_supermarina
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			add_to_variable = { ITA_rm_decryption_factor = 0.05 }
			add_to_variable = { ITA_rm_navy_intel_factor = 0.1 }
			custom_effect_tooltip = ITA_expand_naval_intelligence_rm_tt

			navy_experience = 25
		}
	}

	focus = {
		id = ITA_cooperation_programs
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = ITA_supermarina }

		x = 6
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 25
			custom_effect_tooltip = ITA_cooperation_programs_decisions_tt
			if = { #Historical agreement with Sweden
				limit = {
					NOT = {
						has_war_with = SWE
						any_enemy_country = { is_in_faction_with = SWE }
					}
				}
				SWE = { country_event = { id = BBA_italy_naval_cooperation_programs.08 hours = 1 } }
				custom_effect_tooltip = if_they_accept
				effect_tooltip = {
					custom_effect_tooltip = ITA_cooperation_programs_deal_sweden_tt
					add_timed_idea = {
						idea = ITA_sold_obsolete_escort_ships_ns
						days = 365
					}
				}
			}
		}
	}

	focus = {
		id = ITA_cruiser_submarines
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = ITA_incrociatori_leggeri }
		x = -4
		y = 1
		relative_position_id = ITA_incrociatori_leggeri
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = ITA_cruiser_submarines
				cost_reduction = 0.5
				uses = 1
				category = trade_interdiction_tree
			}

			add_tech_bonus = {
				name = ITA_cruiser_submarines
				bonus = 1.0
				uses = 1
				category = ss_tech
			}

			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = { cruiser_submarines = 1 }

				create_equipment_variant = {
					name = "Cagni Class"
					type = ship_hull_cruiser_submarine
					allow_without_tech = yes # Display tooltip as if we have the tech.
					name_group = ITA_SS_HISTORICAL #TODO_Manu: Namelist
					parent_version = 0
					allow_without_tech = yes # Display tooltip as if we have the tech.
					modules = {
						fixed_ship_torpedo_slot = ship_torpedo_sub_1
						fixed_ship_engine_slot = sub_ship_engine_2
						front_1_custom_slot = ship_torpedo_sub_1
						mid_1_custom_slot = empty
						rear_1_custom_slot = ship_torpedo_sub_1
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_submarine
						creator = "ITA"
						version_name = "Cagni Class"
					}
					name = "Ammiraglio Cagni"
					requested_factories = 1
					progress = 0.35
					amount = 2
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_submarine
						creator = "ITA"
						version_name = "Cagni Class"
					}
					name = "Ammiraglio Millo"
					requested_factories = 1
					progress = 0.35
					amount = 2
				}
			}
			else = {
				custom_effect_tooltip = ITA_modify_regia_marina_dynamic_modifier_ns_intro
				add_to_variable = { ITA_rm_navy_submarine_attack_factor = 0.05 tooltip = navy_submarine_attack_factor_tt }
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 736 160 } #TRIESTE / VENETO
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_midget_submarines
		icon = GFX_focus_generic_midget_submarines
		prerequisite = { focus = ITA_incrociatori_leggeri }
		x = -2
		y = 1
		relative_position_id = ITA_incrociatori_leggeri
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = ITA_midget_submarines
				cost_reduction = 0.5
				uses = 1
				category = trade_interdiction_tree
			}

			add_tech_bonus = {
				name = ITA_midget_submarines
				bonus = 1.0
				uses = 1
				category = ss_tech
			}

			###########
			### MTG ###
			###########
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = { midget_submarines = 1 }

				create_equipment_variant = {
					name = "CB Class"
					type = ship_hull_midget_submarine
					allow_without_tech = yes # Display tooltip as if we have the tech.
					name_group = ITA_SS_HISTORICAL #TODO_Manu: Namelist
					parent_version = 0
					allow_without_tech = yes # Display tooltip as if we have the tech.
					modules = {
						fixed_ship_torpedo_slot = ship_torpedo_sub_2
						fixed_ship_engine_slot = sub_ship_engine_2
					}
				}

				add_equipment_production = {
					equipment = {
						type = ship_hull_midget_submarine
						creator = "ITA"
						version_name = "CB Class"
					}
					name = "Ammiraglio Millo"
					requested_factories = 1
					progress = 0.35
					amount = 2
				}
			}
			else = {
				custom_effect_tooltip = ITA_modify_regia_marina_dynamic_modifier_ns_intro
				add_to_variable = { ITA_rm_sub_retreat_speed = 0.05 tooltip = sub_retreat_speed_tt }
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 158 } #PIEDMONT (Built by Caproni, potentially in Milano, so Genova due to proximity)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						has_completed_focus = ITA_cooperation_programs
					}
					unlock_decision_tooltip = ITA_export_midget_submarines
				}
				else = {
					custom_effect_tooltip = ITA_midget_submarines_decision_tt
				}
			}
		}
	}

	focus = {
		id = ITA_cacciatorpediniere_di_scorta
		icon = GFX_focus_generic_destroyer
		prerequisite = { focus = ITA_incrociatori_leggeri }

		x = 0
		y = 1
		relative_position_id = ITA_incrociatori_leggeri
		cost = 4
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				has_tech = improved_ship_hull_light
				has_tech = sonar
				#has_tech = improved_ship_torpedo_launcher #Granting it anyways
				#has_tech = improved_depth_charges #Granting it anyways
			}
			else = {
				has_tech = improved_destroyer
			}
			has_tech = decimetric_radar
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = ITA_cacciatorpediniere_di_scorta
				cost_reduction = 0.50
				uses = 2
				category = convoy_defense_tree
			}

			add_tech_bonus = {
				name = ITA_cacciatorpediniere_di_scorta
				bonus = 1.0
				uses = 1
				category = dd_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				#Equipment Variant
				if = {
					limit = {
						has_tech = basic_dp_light_battery
					}
					create_equipment_variant = {
						name = "Comandanti Medaglie d'Oro Class"
						type = ship_hull_light_3
						name_group = ITA_DD_HISTORICAL
						parent_version = 0
						allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
						modules = {
							fixed_ship_battery_slot = dp_light_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_sonar_1
							fixed_ship_radar_slot = ship_radar_1
							fixed_ship_engine_slot = light_ship_engine_2
							fixed_ship_torpedo_slot = ship_torpedo_2
							mid_1_custom_slot = ship_mine_layer_1
							rear_1_custom_slot = ship_depth_charge_2
							front_1_custom_slot = dp_light_battery_2
						}
					}
				}
				else = {
					create_equipment_variant = {
						name = "Comandanti Medaglie d'Oro Class"
						type = ship_hull_light_3
						name_group = ITA_DD_HISTORICAL #TODO_Manu: Name List
						parent_version = 0
						allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
						modules = {
							fixed_ship_battery_slot = ship_light_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_sonar_1
							fixed_ship_radar_slot = ship_radar_1
							fixed_ship_engine_slot = light_ship_engine_2
							fixed_ship_torpedo_slot = ship_torpedo_2
							mid_1_custom_slot = ship_mine_layer_1
							rear_1_custom_slot = ship_depth_charge_2
							front_1_custom_slot = ship_light_battery_2
						}
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_light_3
						creator = "ITA"
						version_name = "Comandanti Medaglie d'Oro Class"
					}
					name = "Comandante Margottini"
					requested_factories = 2
					progress = 0.35
					amount = 3
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				create_equipment_variant = {
					name = "Comandanti Medaglie d'Oro Class"
					type = destroyer_3
					allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
					upgrades = {
						ship_torpedo_upgrade = 2
						destroyer_engine_upgrade = 2
						ship_ASW_upgrade = 2
						ship_anti_air_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = destroyer_3
						creator = "ITA"
						version_name = "Comandanti Medaglie d'Oro Class"
					}
					requested_factories = 2
					progress = 0.35
					amount = 3
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 162 158 } ##TUSCANY (Livorno) / PIEDMONT (Genova) (First ones built in Genova, others in Livorno, but Genova already receives a bunch of buildings)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_ispettorato_dei_mezzi_antisommergibili
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = ITA_incrociatori_leggeri focus = ITA_incrociatori_pesanti }

		x = 2
		y = 1
		relative_position_id = ITA_incrociatori_leggeri
		cost = 4
		available = {
			has_tech = improved_depth_charges
			has_tech = sonar
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_naval_detection = 0.1 }
			custom_effect_tooltip = ITA_ispettorato_dei_mezzi_antisommergibili_rm_tt

			navy_experience = 15

			add_tech_bonus = {
				name = ITA_ispettorato_dei_mezzi_antisommergibili
				ahead_reduction = 2
				uses = 1
				category = asw_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				#Equipment Variant
				if = {
					limit = {
						has_tech = improved_sonar
					}
					create_equipment_variant = {
						name = "Gabbiano Class"
						type = ship_hull_light_1
						name_group = ITA_DD_HISTORICAL
						parent_version = 0
						allow_without_tech = yes #Makes no difference since ITA already has tech, but in order to keep it consistent
						modules = {
							fixed_ship_battery_slot = ship_light_battery_1
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_sonar_2
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = light_ship_engine_1
							fixed_ship_torpedo_slot = ship_torpedo_1
							mid_1_custom_slot = ship_depth_charge_2
							rear_1_custom_slot = ship_depth_charge_2
							#front_1_custom_slot = ship_light_battery_2
						}
					}
				}
				else = {
					create_equipment_variant = {
						name = "Gabbiano Class"
						type = ship_hull_light_1
						name_group = ITA_DD_HISTORICAL #TODO_Manu: Name List
						parent_version = 0
						allow_without_tech = yes #Makes no difference since ITA already has tech, but in order to keep it consistent
						modules = {
							fixed_ship_battery_slot = ship_light_battery_1
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_sonar_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = light_ship_engine_1
							fixed_ship_torpedo_slot = ship_torpedo_1
							mid_1_custom_slot = ship_depth_charge_2
							rear_1_custom_slot = ship_depth_charge_2
							#front_1_custom_slot = ship_light_battery_2
						}
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_light_1
						creator = "ITA"
						version_name = "Gabbiano Class"
					}
					name = "Antilope"
					requested_factories = 1
					progress = 0.35
					amount = 3
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_light_1
						creator = "ITA"
						version_name = "Gabbiano Class"
					}
					name = "Camoscio"
					requested_factories = 1
					progress = 0.35
					amount = 3
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				if = {
					limit = {
						NOT = { has_tech = improved_destroyer }
					}
					set_technology = { improved_destroyer = 1 }
				}
				create_equipment_variant = {
					name = "Gabbiano Class"
					type = destroyer_1
					upgrades = {
						ship_torpedo_upgrade = 1
						destroyer_engine_upgrade = 1
						ship_ASW_upgrade = 3
						ship_anti_air_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = destroyer_1
						creator = "ITA"
						version_name = "Gabbiano Class"
					}
					requested_factories = 2
					progress = 0.35
					amount = 3
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 162 117 } ##TUSCANY (La Spezia) / CAMPANIA (Napoli) (Napoli just to split it up a little bit)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_navi_da_battaglia
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = ITA_incrociatori_pesanti }

		x = 0
		y = 1
		relative_position_id = ITA_incrociatori_pesanti
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = ITA_navi_da_battaglia
				cost_reduction = 0.50
				uses = 2
				category = fleet_in_being_tree
			}

			add_tech_bonus = {
				name = ITA_navi_da_battaglia
				bonus = 1
				uses = 1
				category = bb_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					name = "Roma"
					requested_factories = 1
					progress = 0.45
					amount = 1
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					name = "Impero"
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				add_equipment_production = {
					equipment = {
						type = battleship_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = battleship_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 736 158 } ##LITORALE (Trieste) / PIEDMONT (Genova)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_proper_carriers
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = ITA_incrociatori_pesanti }
		x = 2
		y = 1
		relative_position_id = ITA_incrociatori_pesanti
		cost = 5
		available = {
			if = { # MTG tech
				limit = {
					has_dlc = "Man the Guns"
				}
				has_tech = early_ship_hull_carrier
			}
			else = { #Non-MTG tech
				has_tech = early_carrier
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = ITA_proper_carriers
				bonus = 1.0
				uses = 1
				category = cv_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						NOT = { has_tech = basic_ship_hull_carrier }
					}
					set_technology = { basic_ship_hull_carrier = 1 }
				}

				#Equipment Variant
				create_equipment_variant = {
					name = "Aquila Class"
					type = ship_hull_carrier_1
					name_group = ITA_CV_HISTORICAL
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						front_1_custom_slot = ship_deck_space
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_1
						creator = "ITA"
						version_name = "Aquila Class"
					}
					name = "Aquila"
					requested_factories = 2
					progress = 0.45
					amount = 1
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				if = {
					limit = {
						NOT = { has_tech = basic_carrier }
					}
					set_technology = { basic_carrier = 1 }
				}
				create_equipment_variant = {
					name = "Aquila Class"
					type = carrier_2
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					upgrades = {
						ship_deckspace_upgrade = 3
						carrier_armor_upgrade = 2
						ship_engine_upgrade = 2
						ship_reliability_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = carrier_2
						creator = "ITA"
						version_name = "Aquila Class"
					}
					requested_factories = 2
					progress = 0.45
					amount = 1
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 158 } #PIEDMONT (Genoa)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_refit_civilian_ships
		icon = GFX_focus_generic_refit_civilian_ships
		prerequisite = { focus = ITA_incrociatori_pesanti }
		x = 4
		y = 1
		relative_position_id = ITA_incrociatori_pesanti
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = ITA_refit_civilian_ships_rm_tt
			hidden_effect = {
				add_ideas = ITA_hidden_deck_conversion_production_ns
			}

			navy_experience = 15

			###########
			### MTG ###
			###########
			if = { #MTG
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						NOT = { has_tech = early_ship_hull_carrier }
					}
					set_technology = { early_ship_hull_carrier = 1 }
				}
				#Equipment Variant
				create_equipment_variant = {
					name = "Conte di Savoia Class - Converted Liner"
					type = ship_hull_carrier_conversion_ca
					name_group = ITA_CV_HISTORICAL #TODO_Manu: Namelist (Conte di Savoia, Rex, Neptunia, Oceania, Conte Rosso, Conte Grande, Saturnia, Vulcania, Conte Biancamo, Duilio, Conte verde, Giulio Cesare, Colombo, Tel Aviv) Excluded Roma (Aquila) and Augustus (Sparviero)
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_1
						fixed_ship_secondaries_slot = ship_secondaries_1
					}
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_conversion_ca
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					name = "Conte di Savoia"
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_conversion_ca
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					name = "Rex"
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
			}
			##############
			### NO MTG ###
			##############
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_carrier }
					}
					set_technology = { early_carrier = 1 }
				}
				create_equipment_variant = {
					name = "Conte di Savoia Class - Converted Liner"
					type = carrier_1
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					upgrades = {
						ship_deckspace_upgrade = 2
						carrier_armor_upgrade = 1
						ship_engine_upgrade = 2
						ship_reliability_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = carrier_1
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = carrier_1
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 158 } #PIEDMONT (Genoa)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_flotta_d_evasione
		icon = GFX_focus_ITA_new_horizons
		prerequisite = { focus = ITA_ispettorato_dei_mezzi_antisommergibili focus = ITA_cacciatorpediniere_di_scorta focus = ITA_navi_da_battaglia }

		x = 0
		y = 1
		relative_position_id = ITA_ispettorato_dei_mezzi_antisommergibili
		cost = 10
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				has_tech = basic_ship_hull_cruiser
			}
			else = {
				has_tech = basic_light_cruiser
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			custom_effect_tooltip = ITA_flotta_d_evasione_admiral_traits_tt
			#Stupid tooltips oh my god I hate this game
			hidden_effect = {
				#First admiral trait
				if = { #Try to select high level admirals
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
						add_unit_leader_trait = bold
					}
				}
				else_if = {
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
						}
						add_unit_leader_trait = bold
					}
				}

				#Second admiral trait
				if = { #Try to select high level admirals
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
						add_unit_leader_trait = bold
					}
				}
				else_if = {
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
						}
						add_unit_leader_trait = bold
					}
				}
			}
			
			navy_experience = 50

			###########
			### MTG ###
			###########
			if = { #MTG
				limit = {
					has_dlc = "Man the Guns"
				}
				if = { #CRUISER HULL III
					limit = {
						has_tech = improved_ship_hull_cruiser
					}
					if = {
						limit = {
							has_tech = basic_dp_light_battery
						}
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_3
							name_group = ITA_CL_HISTORICAL
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_light_medium_battery_3
								mid_1_custom_slot = ship_torpedo_2
								mid_2_custom_slot = dp_ship_secondaries_2
								rear_1_custom_slot = ship_anti_air_3
								rear_2_custom_slot = ship_airplane_launcher_2
								fixed_ship_battery_slot = ship_light_medium_battery_3
								fixed_ship_anti_air_slot = ship_anti_air_3
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = ship_sonar_1
								fixed_ship_engine_slot = cruiser_ship_engine_3
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_3
							}
						}
					}
					else = {
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_3
							name_group = ITA_CL_HISTORICAL
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_light_medium_battery_3
								mid_1_custom_slot = ship_torpedo_2
								mid_2_custom_slot = ship_secondaries_2
								rear_1_custom_slot = ship_anti_air_3
								rear_2_custom_slot = ship_airplane_launcher_2
								fixed_ship_battery_slot = ship_light_medium_battery_3
								fixed_ship_anti_air_slot = ship_anti_air_3
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = ship_sonar_1
								fixed_ship_engine_slot = cruiser_ship_engine_3
								fixed_ship_secondaries_slot = ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_3
							}
						}
					}

					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_3
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Constanzo Ciano"
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_3
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Luigi Rizzo"
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
				else = { #CRUISER HULL II
					if = {
						limit = {
							has_tech = basic_dp_light_battery
						}
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_2
							name_group = ITA_CL_HISTORICAL #TODO_Manu: Namelist (Conte di Savoia, Rex, Neptunia, Oceania, Conte Rosso, Conte Grande, Saturnia, Vulcania, Conte Biancamo, Duilio, Conte verde, Giulio Cesare, Colombo, Tel Aviv) Excluded Roma (Aquila) and Augustus (Sparviero)
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_anti_air_2
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_2
								rear_1_custom_slot = ship_light_medium_battery_2
								fixed_ship_battery_slot = ship_light_medium_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_2
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_2
							}
						}
					}
					else = {
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_2
							name_group = ITA_CL_HISTORICAL #TODO_Manu: Namelist (Conte di Savoia, Rex, Neptunia, Oceania, Conte Rosso, Conte Grande, Saturnia, Vulcania, Conte Biancamo, Duilio, Conte verde, Giulio Cesare, Colombo, Tel Aviv) Excluded Roma (Aquila) and Augustus (Sparviero)
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_anti_air_2
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_2
								rear_1_custom_slot = ship_light_medium_battery_2
								fixed_ship_battery_slot = ship_light_medium_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_2
								fixed_ship_secondaries_slot = ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_2
							}
						}
					}

					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_2
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Constanzo Ciano"
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_2
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Luigi Rizzo"
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
			}
			##############
			### NO MTG ###
			##############
			else = {
				if = {
					limit = {
						has_tech = improved_light_cruiser
					}
					create_equipment_variant = {
						name = "Costanzo Ciano Class"
						type = light_cruiser_3
						allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 3
							ship_anti_air_upgrade = 3
							ship_gun_upgrade = 3
						}
					}
					add_equipment_production = {
						equipment = {
							type = light_cruiser_3
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = light_cruiser_3
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
				else = {
					create_equipment_variant = {
						name = "Costanzo Ciano Class"
						type = light_cruiser_2
						allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_anti_air_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = light_cruiser_2
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = light_cruiser_2
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
			}

			### CORES
			#ROME
			if = {
				limit = {
					has_full_control_of_state = 2
				}
				2 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#PUGLIA
			if = {
				limit = {
					has_full_control_of_state = 849
				}
				849 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#SICILIA
			if = {
				limit = {
					has_full_control_of_state = 115
				}
				115 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			### COLONIES
			#TRIPOLI
			if = {
				limit = {
					has_full_control_of_state = 448
				}
				448 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#ERITREA
			if = {
				limit = {
					has_full_control_of_state = 550
				}
				550 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#SOMALILAND
			if = {
				limit = {
					has_full_control_of_state = 559
				}
				559 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			### EXTRA STUFF
			#GIBRALTAR
			if = {
				limit = {
					has_full_control_of_state = 118
				}
				118 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#ALGIERS
			if = {
				limit = {
					has_full_control_of_state = 459
				}
				459 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#TUNISIA
			if = {
				limit = {
					has_full_control_of_state = 458
				}
				458 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#ALEXANDRIA
			if = {
				limit = {
					has_full_control_of_state = 447
				}
				447 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#LISBON
			if = {
				limit = {
					has_full_control_of_state = 112
				}
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#SEVILLA
			if = {
				limit = {
					has_full_control_of_state = 169
				}
				169 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#BORDEAUX
			if = {
				limit = {
					has_full_control_of_state = 19
				}
				19 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#BRITTANY
			if = {
				limit = {
					has_full_control_of_state = 14
				}
				14 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = ITA_flotta_d_evasione_dockyards_tt #TODO_Manu: Dynamic tooltip
		}
	}



##     ## ####  ######  ########  #######  ########  ####  ######     ###    ##       
##     ##  ##  ##    ##    ##    ##     ## ##     ##  ##  ##    ##   ## ##   ##       
##     ##  ##  ##          ##    ##     ## ##     ##  ##  ##        ##   ##  ##       
#########  ##   ######     ##    ##     ## ########   ##  ##       ##     ## ##       
##     ##  ##        ##    ##    ##     ## ##   ##    ##  ##       ######### ##       
##     ##  ##  ##    ##    ##    ##     ## ##    ##   ##  ##    ## ##     ## ##       
##     ## ####  ######     ##     #######  ##     ## ####  ######  ##     ## ######## 


	focus = {
		id = ITA_the_abyssinian_fiasco
		icon = GFX_focus_generic_anti_fascist_diplomacy
		mutually_exclusive = { focus = ITA_solid_progress focus = ITA_struggle_in_ethiopia }
		x = 30
		y = 0
		relative_position_id = ITA_naval_power_projection
		cost = 5

		allow_branch = {
			has_dlc = "By Blood Alone"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				is_ai = yes
			}
		}

		offset = {
			x = 0
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ITA_defy_the_duce
			}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_the_abyssinian_fiasco_completion_tt
				always = no
			}
		}

		search_filters = {}

		completion_reward = {
			add_popularity = {
				ideology = fascism 
				popularity = -0.15
			}
			add_war_support = -0.03
		}
	}

	focus = {
		id = ITA_solid_progress
		icon = GFX_focus_generic_attack_ethiopia
		mutually_exclusive = { focus = ITA_the_abyssinian_fiasco focus = ITA_struggle_in_ethiopia }
		x = 2
		y = 0
		offset = {
			x = -20
			y = 0
			trigger = {
				OR = {
					NOT = { has_dlc = "By Blood Alone" }
					AND = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
						#OR = {
						#	has_completed_focus = ITA_culto_del_duce
						#	has_completed_focus = ITA_convene_the_grand_council
						#}
						#has_completed_focus = ITA_Clear_the_Square_flag
						has_country_flag = hide_defy_the_duce_focus_flag
					}
				}
			}
		}

		relative_position_id = ITA_the_abyssinian_fiasco
		cost = 5

		bypass = {
			ITA_has_peaced_out_eth_on_startup = yes
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_solid_progress_completion_tt
				always = no
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_popularity = {
				ideology = fascism 
				popularity = 0.05
			}
			add_war_support = 0.03
			add_stability = 0.03
			add_political_power = 25
		}
	}

	focus = {
		id = ITA_struggle_in_ethiopia
		icon = GFX_goal_generic_major_war
		mutually_exclusive = { focus = ITA_the_abyssinian_fiasco focus = ITA_solid_progress }
		x = 2
		y = 0
		relative_position_id = ITA_solid_progress
		cost = 5
		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_the_abyssinian_fiasco_completion_tt
				always = no
			}
		}

		search_filters = {}

		completion_reward = {
			add_popularity = {
				ideology = fascism 
				popularity = -0.05
			}
			add_stability = -0.03
			add_political_power = -25
		}
	}

	focus = {
		id = ITA_undermine_the_duce
		icon = GFX_focus_eng_move_to_secure_the_dominions
		prerequisite = { focus = ITA_struggle_in_ethiopia }
		x = 6
		y = 1
		relative_position_id = ITA_struggle_in_ethiopia
		cost = 5
		available = {
		}

		allow_branch = {
			has_dlc = "By Blood Alone"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = ITA_defy_the_duce }
			}
			is_ai = yes
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_war_support = -0.05
			add_political_power = 50

			if = {
				limit = {
					has_any_power_balance = no
				}
				set_power_balance = {
					id = ITA_power_balance
					left_side = ITA_grand_council_side # will keep the last set side if not specified
					right_side = ITA_mussolini_side # will keep the last set side if not specified
					#set_default = yes # whether or not to reset the power balance to the initial value, default = no
					set_value = 0.2
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = ITA_undermine_the_duce }
				}
				ITA_bop_medium_decrease_effect = yes
			}
			else = {
				effect_tooltip = {
					set_power_balance = {
						id = ITA_power_balance
						left_side = ITA_grand_council_side # will keep the last set side if not specified
						right_side = ITA_mussolini_side # will keep the last set side if not specified
						set_value = 0.2
					}
				}
			}
			if = {
				limit = {
					has_completed_focus = ITA_struggle_in_ethiopia
				}
				unlock_decision_tooltip = ITA_bop_slander_the_duce
				unlock_decision_tooltip = ITA_bop_criticize_the_war
			}
		}
	}

	focus = {
		id = ITA_servizio_informazione_militare
		icon = GFX_focus_generic_secret_service_agency
		prerequisite = { focus = ITA_solid_progress focus = ITA_the_abyssinian_fiasco focus = ITA_struggle_in_ethiopia }

		x = 0
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				OR = {
					NOT = { has_dlc = "By Blood Alone" }
					AND = {
						has_dlc = "By Blood Alone"
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
						has_country_flag = hide_defy_the_duce_focus_flag
					}
				}
			}
		}
		relative_position_id = ITA_solid_progress
		cost = 0
		available = {
		}

		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ETH_deescalate_the_war_effect = yes
			}
			
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						has_intelligence_agency = no
					}
					create_intelligence_agency = yes
				}
				add_ideas = ITA_servizio_informazione_militare_ns

				ITA_create_rosa_dainelli_operative = yes
			}
			else = {
				add_ideas = ITA_servizio_informazione_militare_ns_vanilla
			}
		}
	}

	focus = {
		id = ITA_conspiracies_in_the_shadows
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = ITA_undermine_the_duce }
		x = 0
		y = 1
		relative_position_id = ITA_undermine_the_duce
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 25
			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}

			ITA_bop_low_decrease_effect = yes

			if = {
				limit = {
					has_completed_focus = ITA_struggle_in_ethiopia
				}
				unlock_decision_tooltip = ITA_bop_question_the_army
				unlock_decision_tooltip = ITA_bop_question_the_airforce
				unlock_decision_tooltip = ITA_bop_question_the_navy
			}
		}
	}

	focus = {
		id = ITA_triumph_in_africa_bba
		icon = GFX_focus_ETH_the_second_italo_ethiopian_war
		prerequisite = { focus = ITA_servizio_informazione_militare }

		x = 0
		y = 1
		relative_position_id = ITA_servizio_informazione_militare
		cost = 1

		bypass = {
			OR = {
				has_country_flag = ITA_defeat_in_ethiopia_flag
				ITA_has_peaced_out_eth_on_startup = yes
			}
		}

		available = {
			NOT = { has_global_flag = second_italo_ethiopian_war_flag }
			NOT = { has_country_flag = ITA_defeat_in_ethiopia_flag }
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_war_support = 0.05
			add_stability = 0.05
			add_political_power = 50

			unlock_decision_category_tooltip = ETH_italian_occupation_category

			hidden_effect = {
				every_controlled_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_core_of = ETH
					}
					set_state_flag = ITA_can_electrify_state_flag
				}
			}

			if = {
				limit = {
					has_any_power_balance = no
				}
				if = {
					limit = {
						NOT = { has_completed_focus = ITA_defy_the_duce	}
					}
					ITA_initiate_balance_of_power_effect = yes
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = ITA_triumph_in_africa_bba }
				}
				ITA_bop_very_low_increase_effect = yes
			}
			else = {
				effect_tooltip = {
					set_power_balance = {
						id = ITA_power_balance
						left_side = ITA_grand_council_side # will keep the last set side if not specified
						right_side = ITA_mussolini_side # will keep the last set side if not specified
						set_default = yes # whether or not to reset the power balance to the initial value, default = no
					}
				}
			}

			if = {
				limit = {
					has_completed_focus = ITA_solid_progress
				}
				unlock_decision_tooltip = ITA_bop_slander_the_duce
				unlock_decision_tooltip = ITA_bop_criticize_the_war
			}
		}
	}


	focus = {
		id = ITA_convene_the_grand_council
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = { focus = ITA_triumph_in_africa_bba focus = ITA_conspiracies_in_the_shadows }

		mutually_exclusive = { focus = ITA_culto_del_duce focus = ITA_defy_the_duce }

		allow_branch = {
			has_dlc = "By Blood Alone"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = ITA_defy_the_duce	}
			}
			is_ai = yes
		}

		x = 20
		y = 2
		relative_position_id = ITA_triumph_in_africa_bba

		offset = {
			x = -12
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ITA_culto_del_duce
			}
		}

		offset = {
			x = -12
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ITA_convene_the_grand_council
			}
		}

		cost = 5
		available = {
			is_at_peace_exiled_countries_excluded = yes
			power_balance_value = {
				id = ITA_power_balance
				value < 0.01
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_stability = -0.05
			add_political_power = 25

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_pietro_d_acquarone	

			ITA_bop_low_decrease_effect = yes		

			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}


	focus = {
		id = ITA_devaluate_the_lire
		icon = GFX_focus_ITA_devaluate_the_lire
		prerequisite = { focus = ITA_triumph_in_africa_bba }

		x = -3
		y = 1
		relative_position_id = ITA_triumph_in_africa_bba
		cost = 1
		available = {
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_stability = 0.02
			add_timed_idea = { idea = ITA_devaluated_lira days = 365 }
		}
	}

	focus = {
		id = ITA_anglo_italian_agreements
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = ITA_triumph_in_africa_bba }

		x = -1
		y = 1
		relative_position_id = ITA_triumph_in_africa_bba
		cost = 5

		bypass = {
			NOT = { has_country_flag = SUEZ_SANCTIONS_FLAG }
			OR = {
				NOT = { country_exists = ETH }
				has_subject = ETH
			}
		} 

		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_anglo_italian_agreements_suez_tt
				OR = {
					NOT = { has_country_flag = SUEZ_SANCTIONS_FLAG }
					has_country_flag = { flag = SUEZ_SANCTIONS_FLAG days > 365 }
				}
			}

			core_compliance = {
				occupied_country_tag = ETH
				value > 40
			}
		}

		search_filters = {}

		completion_reward = {
			#Suez Canal access
			if = {
				limit = {
					has_country_flag = SUEZ_SANCTIONS_FLAG
				}
				clr_country_flag = SUEZ_SANCTIONS_FLAG
				custom_effect_tooltip = ITA_anglo_italian_agreements_suez_unlocked_tt
			}

			#Deescalation
			add_to_variable = { ETH.ETH_war_escalation_level = -1 }
			custom_effect_tooltip = ETH_war_deescalation_inc_tt
		}
	}

	focus = {
		id = ITA_topple_amhara_rulers
		icon = GFX_focus_ITA_topple_amhara_rulers
		prerequisite = { focus = ITA_triumph_in_africa_bba }

		x = 1
		y = 1
		relative_position_id = ITA_triumph_in_africa_bba
		cost = 4
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			has_full_control_of_state = 835
			has_full_control_of_state = 836
			has_full_control_of_state = 837
			has_full_control_of_state = 838
			NOT = { has_global_flag = ITA_antifascist_civil_war_triggered_flag }
			hidden_trigger = { NOT = { has_completed_focus = ITA_defy_the_duce } }
		}

		search_filters = {}

		completion_reward = {#Changing stuff here will require changing stuff in History file for 1939 bookmark
			effect_tooltip = {
				if = {
					limit = {
						country_exists = ETH
					}
					ETH = {
						add_legitimacy = -10
					}
				}
			}
			if = {
				limit = {
					835 = { has_resistance = yes } 
				}
				835 = { #HARARGHE
					add_compliance = 10
				}
			}
			else_if = {
				limit = {
					NOT = { controls_state = 835 }
				}
				effect_tooltip = {
					835 = {
						add_compliance = 10
					}
				}
			}

			if = {
				limit = {
					836 = { has_resistance = yes } 
				}
				836 = { #BALE
					add_compliance = 10
				}
			}
			else_if = {
				limit = {
					NOT = { controls_state = 836 }
				}
				effect_tooltip = {
					836 = {
						add_compliance = 10
					}
				}
			}

			if = {
				limit = {
					837 = { has_resistance = yes } 
				}
				837 = { #SIDAMO
					add_compliance = 10
				}
			}
			else_if = {
				limit = {
					NOT = { controls_state = 837 }
				}
				effect_tooltip = {
					837 = {
						add_compliance = 10
					}
				}
			}

			if = {
				limit = {
					838 = { has_resistance = yes } 
				}
				838 = { #ILLUBABOR
					add_compliance = 10
				}
			}
			else_if = {
				limit = {
					NOT = { controls_state = 838 }
				}
				effect_tooltip = {
					838 = {
						add_compliance = 10
					}
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = ITA_topple_amhara_rulers_event_chain_tt
				hidden_effect = {
					ITA_haile_selassie_gugsa_doppleganger = { unit_leader_event = BBA_italy_local_rulers.1 }
				}
			}
			hidden_effect = {
				ETH = {
					country_event = { id = BBA_italo_ethiopian_war_events.510 hours = 6 }
				}
			}

		}
	}

	focus = {
		id = ITA_the_new_emperor_of_ethiopia
		icon = GFX_focus_ITA_the_new_emperor_of_ethiopia
		prerequisite = { focus = ITA_triumph_in_africa_bba }

		x = 3
		y = 1
		relative_position_id = ITA_triumph_in_africa_bba
		cost = 1
		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_all_eth_initial_states_controlled_tt
				NOT = {
					any_state = {
						is_initial_ethiopian_state = yes
						is_controlled_by_ROOT_or_subject = no
					}
				}
			}
			
			OR = {
				custom_trigger_tooltip = {
					tooltip = ITA_the_new_emperor_of_ethiopia_has_idea_vittorio_emanuele_tt
					OR = {
						has_idea = vittorio_emanuele
						has_idea = vittorio_emanuele_king_of_albania
					}
				}
				has_country_leader = {
					character = ITA_vittorio_emanuele_iii
					ruling_only = yes
				}
				has_completed_focus = ITA_capo_supremo
				has_completed_focus = ITA_divino_duce
			}
			is_subject = no
		}

		search_filters = {FOCUS_FILTER_STABILITY}

		completion_reward = {
			# The king is an idea
			if = {
				limit = {
					has_idea = vittorio_emanuele
				}
				swap_ideas = {
					remove_idea = vittorio_emanuele
					add_idea = vittorio_emanuele_emperor_of_ethiopia
				}
			}
			else_if = {
				limit = {
					has_idea = vittorio_emanuele_king_of_albania
				}
				swap_ideas = {
					remove_idea = vittorio_emanuele_king_of_albania
					add_idea = vittorio_emanuele_albania_ethiopia
				}
			}

			custom_effect_tooltip = ITA_the_new_emperor_of_ethiopia_king_trait_tt
			ITA_vittorio_emanuele_iii = { 
				add_country_leader_trait = emperor_of_ethiopia
			}

			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}

			unlock_decision_tooltip = ITA_discredit_haile_selassie

			if = {
				limit = {
					country_exists = ETH
				}
				ETH = {
					add_legitimacy = -10
				}
			}

			every_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_core_of = ETH
				}
				add_compliance = 5
			}
		}
	}

	focus = {
		id = ITA_culto_del_duce
		icon = GFX_focus_ITA_culto_del_duce
		prerequisite = { focus = ITA_triumph_in_africa_bba }

		mutually_exclusive = { focus = ITA_convene_the_grand_council focus = ITA_defy_the_duce }

		allow_branch = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = ITA_defy_the_duce }
				NOT = { has_completed_focus = ITA_convene_the_grand_council }
			}
		}

		x = 0
		y = 2
		relative_position_id = ITA_triumph_in_africa_bba
		cost = 5
		available = {
			#has_country_leader = {
			#	character = ITA_benito_mussolini
			#	ruling_only = yes
			#}
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_country_leader_trait = lion_tamer

			ITA_bop_very_low_increase_effect = yes

			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				mark_focus_tree_layout_dirty = yes
			}
			add_ideas = idea_ITA_GIL
		}
	}
	
	focus = {
		id = ITA_the_man_of_providence
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = ITA_heroes_of_the_nation focus = ITA_capo_supremo }
		x = -3
		y = 2
		relative_position_id = ITA_culto_del_duce
		cost = 5
		available = {
			#has_country_leader = {
			#	character = ITA_benito_mussolini
			#	ruling_only = yes
			#}
			#power_balance_value = {
			#	id = ITA_power_balance
			#	value > 0.499
			#}
			custom_trigger_tooltip = {
				tooltip = "Requires 50+ value towards Mussolini in the Balance of Power"
				always = yes
			}
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 25
			if = {
				limit = {
					has_completed_focus = ITA_strengthen_the_regime
				}
				swap_ruler_traits = {
					remove = il_duce_strengthen
					add = il_duce_providence_strengthen
				}
			}
			else = {
				swap_ruler_traits = {
					remove = il_duce
					add = il_duce_providence
				}
			}

			ITA_bop_very_low_increase_effect = yes
		}
	}

	focus = {
		id = ITA_legge_bottai
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = ITA_the_man_of_providence }

		x = 0
		y = 1
		relative_position_id = ITA_the_man_of_providence
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_political_power = 50
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_stability = 0.02

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_giuseppe_bottai
		}
	}

	focus = {
		id = ITA_boost_the_grand_council_of_fascism
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = ITA_the_man_of_providence }
		mutually_exclusive = { focus = ITA_to_live_as_a_lion }
		x = -1
		y = 3
		relative_position_id = ITA_the_man_of_providence
		cost = 5
		available = {
			#power_balance_value = {
			#	id = ITA_power_balance
			#	value > 0.699
			#}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_ITA_MISSIOLINI}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05

			ITA_bop_very_low_decrease_effect = yes

			custom_effect_tooltip = ITA_boost_the_grand_council_of_fascism_missiolinis_tt
		}
	}

	focus = {
		id = ITA_to_live_as_a_lion
		icon = GFX_focus_ITA_to_live_as_a_lion
		prerequisite = { focus = ITA_the_man_of_providence }
		mutually_exclusive = { focus = ITA_boost_the_grand_council_of_fascism }
		x = 2
		y = 0
		relative_position_id = ITA_boost_the_grand_council_of_fascism
		cost = 5
		available = {
			#has_country_leader = {
			#	character = ITA_benito_mussolini
			#	ruling_only = yes
			#}
			#power_balance_value = {
			#	id = ITA_power_balance
			#	value > 0.649
			#}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_ITA_MISSIOLINI}

		completion_reward = {
			add_political_power = 50

			swap_ruler_traits = {
				remove = lion_tamer
				add = lion_tamer_2
			}

			ITA_bop_very_low_increase_effect = yes

			#Reduce time for Missiolinis
			set_variable = { ITA_missiolinis_default_days = 350 }
			custom_effect_tooltip = ITA_to_live_as_a_lion_missiolinis_tt
		}
	}

	focus = {
		id = ITA_la_battaglia_del_grano
		icon = GFX_focus_SOV_breadbasket_of_the_union
		#prerequisite = { focus = ITA_culto_del_duce }
		prerequisite = { focus = ITA_heroes_of_the_nation focus = ITA_capo_supremo }
		x = -1
		y = 2
		relative_position_id = ITA_culto_del_duce
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = ITA_battaglia_del_grano days = 730 }
		}
	}

	focus = {
		id = ITA_la_battaglia_per_la_terra
		icon = GFX_focus_generic_land_reclamation
		#prerequisite = { focus = ITA_culto_del_duce }
		prerequisite = { focus = ITA_heroes_of_the_nation focus = ITA_capo_supremo }
		x = 1
		y = 2
		relative_position_id = ITA_culto_del_duce
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

		completion_reward = {
			if = { #Latium
				limit = {
					2 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				2 = {
					add_extra_state_shared_building_slots = 2
				}
			}
			if = { #Campania
				limit = {
					117 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				117 = {
					add_extra_state_shared_building_slots = 2
				}
			}

			if = { #Tuscany
				limit = {
					162 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				162 = {
					add_extra_state_shared_building_slots = 2
				}
			}

			add_timed_idea = { idea = ITA_battaglia_per_la_terra days = 730 }
		}
	}

	focus = {
		id = ITA_la_battaglia_per_le_nascite
		icon = GFX_focus_generic_population_growth
		prerequisite = { focus = ITA_la_battaglia_del_grano focus = ITA_la_battaglia_per_la_terra }

		x = 1
		y = 2
		relative_position_id = ITA_la_battaglia_del_grano
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_timed_idea = { idea = ITA_battaglia_per_la_nascite days = 730 }
			add_political_power = 25
		}
	}

	focus = {
		id = ITA_strengthen_the_regime
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = ITA_la_battaglia_per_le_nascite }

		x = 0
		y = 5
		relative_position_id = ITA_la_battaglia_per_le_nascite
		cost = 4
		available = {
			#has_country_leader = {
			#	character = ITA_benito_mussolini
			#	ruling_only = yes
			#}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05
			add_war_support = 0.05

			if = {
				limit = {
					has_completed_focus = ITA_the_man_of_providence
				}
				swap_ruler_traits = {
					remove = il_duce_providence
					add = il_duce_providence_strengthen
				}
			}
			else = {
				swap_ruler_traits = {
					remove = il_duce
					add = il_duce_strengthen
				}
			}
		}
	}

	focus = {
		id = ITA_devotion
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = ITA_to_live_as_a_lion focus = ITA_boost_the_grand_council_of_fascism }
		prerequisite = { focus = ITA_strengthen_the_regime }

		x = -3
		y = 1
		relative_position_id = ITA_strengthen_the_regime
		cost = 5
		available = {
			#has_country_leader = {
			#	character = ITA_benito_mussolini
			#	ruling_only = yes
			#}
			#power_balance_value = {
			#	id = ITA_power_balance
			#	value > 0.799
			#}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 50

			swap_ruler_traits = {
				remove = il_duce_providence_strengthen
				add = il_duce_devotion 
			}

			ITA_bop_very_low_increase_effect = yes
		}
	}

	focus = {
		id = ITA_ministero_della_cultura_popolare #Alt name would be Ministry of Popular Culture (1937-1943)
		icon = GFX_focus_generic_italy_propaganda
		#prerequisite = { focus = ITA_culto_del_duce focus = ITA_convene_the_grand_council }
		prerequisite = { focus = ITA_heroes_of_the_nation focus = ITA_capo_supremo focus = ITA_convene_the_grand_council }

		x = 3
		y = 2
		relative_position_id = ITA_culto_del_duce

		offset = {
			x = -10
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ITA_convene_the_grand_council
			}
		}

		cost = 5
		available = {
			has_government = fascism
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = { #Propaganda System? NOPE :D
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_war_support = 0.03
			add_political_power = 25

			ITA_bop_very_low_increase_effect = yes #Works for every Duce

			hidden_effect = {
				set_country_flag = SOV_debug_unlock_propaganda_campaigns_flag
				SOV_unlock_propaganda_campaign_slot_effect = yes
				SOV_unlock_propaganda_campaign_slot_effect = yes
				SOV_unlock_propaganda_campaign_slot_effect = yes
				SOV_unlock_propaganda_campaign_slot_effect = yes
			}

			unlock_decision_category_tooltip = ITA_propaganda_campaigns
		}
	}

	focus = {
		id = ITA_believe_obey_fight
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = ITA_ministero_della_cultura_popolare }

		x = 0
		y = 1
		relative_position_id = ITA_ministero_della_cultura_popolare
		cost = 5
		available = {
			has_government = fascism
		}

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_to_variable = { ITA_re_conscription_factor = 0.1 }
			custom_effect_tooltip = ITA_believe_obey_fight_re_tt

			if = {
				limit = {
					NOT = { 
							has_country_leader =  {
								ruling_only = yes 
								character = ITA_dino_grandi
							}
						}
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = ITA_dino_grandi
			}

			add_political_power = 75
			add_war_support = 0.02
			add_stability = 0.02
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
		}
	}

	focus = {
		id = ITA_banda_carita
		icon = GFX_focus_ITA_banda_carita
		prerequisite = { focus = ITA_believe_obey_fight }

		x = 0
		y = 2
		relative_position_id = ITA_believe_obey_fight
		cost = 10

		allow_branch = {
			OR = {
				has_dlc = "La Resistance"
				has_dlc = "Waking the Tiger"
			}
			if = {
				limit = {
					has_dlc = "By Blood Alone"
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = ITA_defy_the_duce }
			}
		}

		available = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				agency_upgrade_number > 4
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = { 
			IF = {
				limit = { has_dlc = "La Resistance" }
				swap_ideas = {
					remove_idea = ITA_servizio_informazione_militare_ns
					add_idea = ITA_servizio_informazione_militare_banda_carita
				}
				ITA_create_padre_ildefonso_operative = yes
			}
			IF = {
				limit = {
					NOT = {
						has_dlc = "La Resistance"
					}
				}
				add_ideas = ITA_banda_carita_non_la_resistance
			}
			 

			custom_effect_tooltip = banda_carita_tt
			
		}
	}
	

	focus = {
		id = ITA_banda_koch
		icon = GFX_focus_generic_national_security
		prerequisite = { focus = ITA_banda_carita }

		x = 0
		y = 2
		relative_position_id = ITA_banda_carita
		cost = 10

		allow_branch = {
			has_dlc = "La Resistance"
			if = {
				limit = {
					has_dlc = "By Blood Alone"
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = ITA_defy_the_duce }
			}
		}

		available = {
			agency_upgrade_number > 9
		}

		search_filters = {}

		completion_reward = {
			swap_ideas = {
				remove_idea = ITA_servizio_informazione_militare_banda_carita
				add_idea = ITA_servizio_informazione_militare_banda_koch
			}
			ITA_create_pietro_koch_operative = yes
		}
	}


	focus = {
		id = ITA_security_militias
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = ITA_culto_del_duce focus = ITA_convene_the_grand_council }

		x = 6
		y = 2
		relative_position_id = ITA_culto_del_duce

		offset = {
			x = -11
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ITA_convene_the_grand_council
			}
		}

		cost = 5
		available = {
			has_government = fascism
			ITA_has_disbanded_blackshirts = no
			#set_technology = { militia_tech = 1 }
		}

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_ideas = ITA_camicie_nere
			hidden_effect = {
				set_technology = {
					camicie_nere_security_militias = 1
					popup = no
				}
			}
			if = {
				limit = {
					NOT = { has_completed_focus = ITA_disband_the_blackshirts }
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = ITA_renato_ricci
			}
			set_technology = { militia_tech = 1 }
		}
	}

	focus = {
		id = ITA_battaglioni_d_assalto
		icon = GFX_focus_ITA_blackshirts
		prerequisite = { focus = ITA_security_militias }
		x = -1
		y = 2
		relative_position_id = ITA_security_militias

		offset = {
			x = 0
			y = -1
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ITA_convene_the_grand_council
			}
		}

		cost = 10
		available = {
			has_government = fascism
			ITA_has_disbanded_blackshirts = no
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_battaglioni_d_assalto_tt
			hidden_effect = {
				set_technology = { blackshirt_assault_battalion_tech = 1 popup = no }
			}
		}
	}

	focus = {
		id = ITA_strengthen_the_blackshirts
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = ITA_security_militias }
		
		x = 2
		y = 0
		relative_position_id = ITA_battaglioni_d_assalto
		cost = 10
		available = {
			has_government = fascism
			any_owned_state = {
				is_core_of = ROOT
				is_fully_controlled_by = ROOT
			}
			ITA_has_disbanded_blackshirts = no
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			swap_ideas = {
				remove_idea = ITA_camicie_nere
				add_idea = ITA_camicie_nere_strengthened
			}

			#custom_effect_tooltip = ITA_strengthen_the_blackshirts_template_tt
			#hidden_effect = {
			#	add_to_variable = { ITA_militias_cap = 12 }
			#	set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }#
				#add_units_to_division_template = {
				#	template_name = "Camicie Nere"
				#	support = { 
				#		artillery = 0
				#	}
				#}
			#}
			clear_division_template_cap = {
				division_template = "Camicie Nere"
			}
			set_division_template_lock = {
				division_template = "Camicie Nere"
				is_locked = no
			}
			add_units_to_division_template = {
				template_name = "Camicie Nere"
				regiments = {
					artillery_brigade = 1
				}
			}
			random_controlled_state = { #Create a few more Blackshirt Divs
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				prioritize = { 2 }
				custom_effect_tooltip = ITA_strengthen_the_blackshirts_spawn_divs_tt
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Camicie Nere\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 3
					}
				}
			}
		}
	}

	focus = {
		id = ITA_milizia_coloniale
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = ITA_battaglioni_d_assalto focus = ITA_strengthen_the_blackshirts }

		x = 1
		y = 2
		relative_position_id = ITA_battaglioni_d_assalto
		cost = 10
		available = {
			has_government = fascism
			ITA_has_disbanded_blackshirts = no
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			if = {
				limit = {
					has_idea = ITA_camicie_nere_strengthened
				}
				swap_ideas = {
					remove_idea = ITA_camicie_nere_strengthened
					add_idea = ITA_camicie_nere_milizia_coloniale
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ITA_camicie_nere
					add_idea = ITA_camicie_nere_milizia_coloniale
				}
			}
			#custom_effect_tooltip = ITA_blackshirts_div_cap_12_tt
			#hidden_effect = {
			#	add_to_variable = { ITA_militias_cap = 12 }
			#	set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }
			#}
			custom_effect_tooltip = ITA_unlock_colonial_militia_tt
			ITA = { set_occupation_law_where_available = colonial_militia }
		}
	}

	focus = {
		id = ITA_towards_a_greater_italy
		icon = GFX_focus_ITA_greater_italy
		prerequisite = { focus = ITA_strengthen_the_regime focus = ITA_blackshirt_loyalty focus = ITA_setting_course }
		mutually_exclusive = { 
			focus = ITA_keep_the_course
			focus = ITA_mare_nostrum_bba
			focus = ITA_helmsman_died
			focus = ITA_ciano_reinstated
			focus = ITA_standard_of_truth
		}

		x = 0
		y = 1
		relative_position_id = ITA_strengthen_the_regime
		cost = 5

		offset = {
			x = 8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ITA_convene_the_grand_council
			}
		}

		bypass = {
			458 = { is_claimed_by = ROOT }
			665 = { is_claimed_by = ROOT }
			103 = { is_claimed_by = ROOT }
			105 = { is_claimed_by = ROOT }
			44 = { is_claimed_by = ROOT }
			805 = { is_claimed_by = ROOT }
			934 = { is_claimed_by = ROOT }
		}

		available = {
			is_subject = no
		}

		search_filters = {}

		completion_reward = {
			#TODO_Manu: Need to do something here because it is super redundant with everything else

			custom_effect_tooltip = form_greater_italy_tt

			#TODO_Manu: What if Italian allies/subjects control these?

			#TODO_Manu: Re-arrange script so that tooltips are clearer
			#CLAIMS IN TUNISIA
			if = {
				limit = {
					458 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 458 #TUNISIA
				if = {
					limit = {
						458 = {
							controller = {
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					if = { #Same controller for both Tunisian states
						limit = {
							458 = {
								controller = {
									controls_state = 665
								}
							}
						}
						create_wargoal = {
							type = take_state_focus
							target = 458.controller
							generator = { 458 665 }
						}
					}
					else = { #Each Tunisian states have different controllers
						create_wargoal = {
							type = take_state_focus
							target = 458.controller
							generator = { 458 }
						}
					}
				}
			}
			if = {
				limit = {
					665 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 665 #GABÈS
				if = {
					limit = {
						665 = {
							controller = {
								NOT = { controls_state = 458 } #Otherwise already received the wargoal above
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					create_wargoal = {
						type = take_state_focus
						target = 665.controller
						generator = { 665 }
					}
				}
			}

			#CLAIMS IN DALMATIAN COAST (Yugoslavia)
			if = {
				limit = {
					103 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 103 #DALMATIA
				if = {
					limit = {
						103 = {
							controller = {
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					if = { #Same controller for both Yugoslavian states
						limit = {
							103 = {
								controller = {
									controls_state = 105
								}
							}
						}
						create_wargoal = {
							type = take_state_focus
							target = 103.controller
							generator = { 103 105 }
						}
					}
					else = { #Each Yugoslavian states have different controllers
						create_wargoal = {
							type = take_state_focus
							target = 103.controller
							generator = { 103 }
						}
					}
					
				}
			}
			if = {
				limit = {
					105 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 105 #MONTENEGRO
				if = {
					limit = {
						105 = {
							controller = {
								NOT = { controls_state = 103 } #Otherwise already received the wargoal above
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					create_wargoal = {
						type = take_state_focus
						target = 105.controller
						generator = { 105 }
					}
				}
			}

			#CLAIMS IN ALBANIA
			if = {
				limit = {
					44 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 44 #ALBANIA
				if = {
					limit = {
						44 = {
							controller = {
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					if = { #Same controller for both Albanian states
						limit = {
							44 = {
								controller = {
									controls_state = 805
								}
							}
						}
						create_wargoal = {
							type = take_state_focus
							target = 44.controller
							generator = { 44 805 }
						}
					}
					else = { #Each Albanian states have different controllers
						create_wargoal = {
							type = take_state_focus
							target = 44.controller
							generator = { 44 }
						}
					}
					
				}
			}
			if = {
				limit = {
					805 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 805 #NORTHERN EPIRUS
				if = {
					limit = {
						805 = {
							controller = {
								NOT = { controls_state = 44 } #Otherwise already received the wargoal above
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					create_wargoal = {
						type = take_state_focus
						target = 805.controller
						generator = { 805 }
					}
				}
			}

			if = {
				limit = {
					934 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 934 #SHKÖDER
				if = {
					limit = {
						934 = {
							controller = {
								NOT = { controls_state = 44 } #Otherwise already received the wargoal above
								NOT = { controls_state = 805 } #Otherwise already received the wargoal above
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					create_wargoal = {
						type = take_state_focus
						target = 934.controller
						generator = { 934 }
					}
				}
			}
		}
	}

	focus = {
		id = ITA_heroes_of_the_nation
		icon = GFX_focus_generic_military_dictatorship
		#prerequisite = { focus = ITA_towards_a_greater_italy }
		#prerequisite = { focus = ITA_devotion }
		prerequisite = { focus = ITA_culto_del_duce }
		mutually_exclusive = { focus = ITA_capo_supremo }
		x = 1
		y = 1
		relative_position_id = ITA_culto_del_duce
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_ARMY_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			
			add_to_variable = { ITA_re_promote_cost_factor = -0.2 }
			add_to_variable = { ITA_re_command_power_gain_mult = 0.15 }
			custom_effect_tooltip = ITA_heroes_of_the_nation_re_tt

			army_experience = 25
			navy_experience = 25
			air_experience = 25
			add_war_support = 0.05

			if = {
				limit = {
					has_country_leader = {
						character = ITA_benito_mussolini
						ruling_only = yes
					}
				}
				swap_ruler_traits = {
					remove = il_duce_devotion
					add =  il_duce_heroes
				}
			}

			custom_effect_tooltip = ITA_heroes_of_the_nation_general_traits_tt
			#Stupid tooltips oh my god I hate this game
			hidden_effect = {
				if = {
					limit = {
						any_unit_leader = {
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
					}
					random_unit_leader = {
						limit = {
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
						add_unit_leader_trait = war_hero
					}
				}
				else = {
					random_unit_leader = {
						limit = {
							NOT = { has_trait = war_hero }
						}
						add_unit_leader_trait = war_hero
					}	
				}

				if = {
					limit = {
						any_unit_leader = {
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
					}
					random_unit_leader = {
						limit = {
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
						add_unit_leader_trait = war_hero
					}
				}
				else = {
					random_unit_leader = {
						limit = {
							NOT = { has_trait = war_hero }
						}
						add_unit_leader_trait = war_hero
					}	
				}

				if = {
					limit = {
						any_unit_leader = {
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
					}
					random_unit_leader = {
						limit = {
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
						add_unit_leader_trait = war_hero
					}
				}
				else = {
					random_unit_leader = {
						limit = {
							NOT = { has_trait = war_hero }
						}
						add_unit_leader_trait = war_hero
					}	
				}
			}
			add_country_leader_trait = ITA_duce_ffs_sfp
		}
	}

	focus = {
		id = ITA_capo_supremo
		icon = GFX_focus_ITA_capo_supremo
		#prerequisite = { focus = ITA_towards_a_greater_italy }
		#prerequisite = { focus = ITA_devotion }
		prerequisite = { focus = ITA_culto_del_duce }
		x = -1
		y = 1
		cancelable = no
		relative_position_id = ITA_culto_del_duce
		cost = 262.6
		available = {
			#has_country_leader = {
			#	character = ITA_benito_mussolini
			#	ruling_only = yes
			#}
			#power_balance_value = {
			#	id = ITA_power_balance
			#	value > 0.949
			#}
			is_ai = no
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_war_support = 0.05
			add_stability = -0.05
			add_political_power = 75
			add_command_power = 50
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}

			#add_ideas = idea_ITA_party_command_guns

			add_country_leader_trait = capo_supremo

			custom_effect_tooltip = ITA_mussolini_becomes_field_marshal_tt #Has to start as unit leader so that you cannot give him traits via unit_leader events (missiolinis)

			hidden_effect = {
				ITA_benito_mussolini = {
					promote_leader = yes
					add_unit_leader_trait = old_guard
					add_unit_leader_trait = politically_connected
					add_unit_leader_trait = media_personality
					add_unit_leader_trait = harsh_leader
				}
				#play_song = "VogliamoScolpireUnaLapide"
			}

			set_cosmetic_tag = ITA_rsi

			ITA_remove_king_vittorio_emanuele_as_idea = yes

			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				if = {
					limit = {
						has_tech = super_heavy_tank_chassis
					}
					#SH template
					ITA_add_il_duce_sh_tank_template_and_production = yes
				}
				else = {
					add_tech_bonus = {
						name = ITA_capo_supremo
						ahead_reduction = 2
						bonus = 1.0
						uses = 1
						technology = super_heavy_tank_chassis
					}
					custom_effect_tooltip = ITA_focus_sh_tank_template_tt
					effect_tooltip = {
						ITA_add_il_duce_sh_tank_template_and_production = yes
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = ITA_capo_supremo
					ahead_reduction = 2
					bonus = 1.0
					uses = 1
					technology = super_heavy_tank
					technology = super_heavy_td
					technology = super_heavy_art
					technology = super_heavy_spaa
				}
			}

			ITA_bop_very_low_increase_effect = yes

			#Names for NSs
			hidden_effect = {
				ITA_replace_stuff_based_on_ideology_effect = yes
			}
			add_country_leader_trait = ITA_duce_ffs_sfp
			custom_effect_tooltip = IPUnion_Ita_Cosmetic_Tags_tt
			retire_character = ITA_pietro_badoglio

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = ITA_better_choice_tt
		}
	}

	focus = {
		id = ITA_motherland_of_our_movement
		icon = GFX_focus_rom_royal_dictatorship
		relative_position_id = ITA_devotion
		x = 0
		y = 2
		cost = 2
		prerequisite = {
			focus = ITA_devotion
		}
		available = {
			has_army_manpower = { size > 2000000 }
			custom_trigger_tooltip = {
				tooltip = ITA_new_industrialization_program_factories_required_tt
				NOT = { num_of_controlled_factories < 150 }
			}
			custom_trigger_tooltip = {
				tooltip = ITA_motherland_of_our_movement_tt
				ITA = {
					controls_state = 1049
				}
			}
		}
		completion_reward = {
			country_event = IPUnion_country_event.2
			hidden_effect = {
				play_song = "AllarmiSiamFascisti"
			}
			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = ITA_propaganda_rebuild_to_glory
		}
	}

	focus = {
		id = ITA_bend_the_bars
		icon = GFX_focus_ITA_bend_the_bars
		prerequisite = { focus = ITA_towards_a_greater_italy }

		x = 0
		y = 1
		relative_position_id = ITA_towards_a_greater_italy
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			#CLAIM IN CORSICA
			if = {
				limit = {
					1 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 1 #CORSICA
				if = {
					limit = {
						1 = {
							controller = {
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					if = { #Same controller for Corsica and Tunisian states
						limit = {
							1 = {
								controller = {
									controls_state = 458
									controls_state = 665
								}
							}
						}
						create_wargoal = {
							type = take_state_focus
							target = 1.controller
							generator = { 1 458 }
						}
					}
					else = { #Corsica and Tunisian states have different controllers
						create_wargoal = {
							type = take_state_focus
							target = 1.controller
							generator = { 1 }
						}
					}
				}
			}

			#CLAIMS IN TUNISIA
			if = {
				limit = {
					458 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 458 #TUNISIA
				if = {
					limit = {
						458 = {
							controller = {
								ROOT = { NOT = { has_wargoal_against = PREV } } #Didn't get wargoal from Corsica script above
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					if = { #Same controller for both Tunisian states
						limit = {
							458 = {
								controller = {
									controls_state = 665
								}
							}
						}
						create_wargoal = {
							type = take_state_focus
							target = 458.controller
							generator = { 458 665 }
						}
					}
					else = { #Each Tunisian states have different controllers
						create_wargoal = {
							type = take_state_focus
							target = 458.controller
							generator = { 458 }
						}
					}
				}
			}
			if = {
				limit = {
					665 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 665 #GABÈS
				if = {
					limit = {
						665 = {
							controller = {
								ROOT = { NOT = { has_wargoal_against = PREV } } #Didn't get wargoal from Corsica script above
								NOT = { controls_state = 458 } #Otherwise already received the wargoal above
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					create_wargoal = {
						type = take_state_focus
						target = 665.controller
						generator = { 665 }
					}
				}
			}

			#CLAIMS IN BRITISH ISLANDS
			if = {
				limit = {
					116 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 116 #MALTA
				if = {
					limit = {
						116 = {
							controller = {
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					if = { #Same controller for both Malta and Cyprus
						limit = {
							116 = {
								controller = {
									controls_state = 183
								}
							}
						}
						create_wargoal = {
							type = take_state_focus
							target = 116.controller
							generator = { 116 183 }
						}
					}
					else = { #Malta and Cyprus have different controllers
						create_wargoal = {
							type = take_state_focus
							target = 116.controller
							generator = { 116 }
						}
					}
				}
			}
			if = {
				limit = {
					183 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 183 #CYPRUS
				if = {
					limit = {
						183 = {
							controller = {
								NOT = { controls_state = 116 } #Otherwise already received the wargoal above
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					create_wargoal = {
						type = take_state_focus
						target = 183.controller
						generator = { 183 }
					}
				}
			}
		}
	}

	focus = {
		id = ITA_subdue_the_sentinels
		icon = GFX_focus_ITA_subdue_the_sentinels
		prerequisite = { focus = ITA_bend_the_bars }

		x = 0
		y = 1
		relative_position_id = ITA_bend_the_bars
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			#CLAIMS IN GIBRALTAR AND SUEZ CANAL
			if = {
				limit = {
					118 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 118 #GIBRALTAR
				if = {
					limit = {
						118 = {
							controller = {
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					if = { #Same controller for both states
						limit = {
							118 = {
								controller = {
									controls_state = 446
								}
							}
						}
						create_wargoal = {
							type = take_state_focus
							target = 118.controller
							generator = { 118 446 }
						}
					}
					else = { #Each state have different controllers
						create_wargoal = {
							type = take_state_focus
							target = 118.controller
							generator = { 118 }
						}
					}
					
				}
			}
			if = {
				limit = {
					446 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 446 #CAIRO (Suez Canal)
				if = {
					limit = {
						446 = {
							controller = {
								NOT = { controls_state = 118 } #Otherwise already received the wargoal above
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					create_wargoal = {
						type = take_state_focus
						target = 446.controller
						generator = { 446 }
					}
				}
			}
		}
	}

	focus = {
		id = ITA_a_colonial_empire
		icon = GFX_focus_ITA_a_colonial_empire
		prerequisite = { focus = ITA_subdue_the_sentinels }

		x = 0
		y = 1
		relative_position_id = ITA_subdue_the_sentinels
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_to_variable = { ITA_re_non_core_manpower = 0.15 }
			custom_effect_tooltip = ITA_a_colonial_empire_re_tt

		#TODO_Manu: Really need code support for something like this
#			create_wargoal = {
#				type = take_state_focus
#				target = FRA
#				generator = { FRA.core_states }
#			}
#
#			create_wargoal = {
#				type = take_state_focus
#				target = FRA
#				generator = { ROOT.ITA_array_of_states }
#			}
#
#			create_wargoal = {
#				type = take_state_focus
#				target = FRA
#				generator = {
#					all_states = yes
#					limit_to_claimed_by_root = yes
#					limit_to_cores_by_root = yes
#					limit_to_cored_by_target = yes
#					limit_to_non_cored_by_target = yes
#				}
#			}

			custom_effect_tooltip = ITA_a_colonial_empire_claims_tt
			every_state = {
				limit = {
					OR = {
						is_core_of = EGY
						is_core_of = KEN
						is_core_of = SUD
						is_core_of = SOM
						is_core_of = DJI
						is_core_of = ETH
						is_core_of = ERI
						is_core_of = UGA
					}
					NOT = { is_owned_by = ROOT }
					NOT = { is_claimed_by = ROOT }
				}
				hidden_effect ={
					ROOT = { add_state_claim = PREV }
				}
				custom_effect_tooltip = generic_ROOT_gains_claim_tt
			}
		}
	}

	focus = {
		id = ITA_by_blood_alone
		icon = GFX_focus_ITA_by_blood_alone
		prerequisite = { focus = ITA_a_colonial_empire }

		x = 0
		y = 1
		relative_position_id = ITA_a_colonial_empire
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			# REGIO ESERCITO
			add_to_variable = { ITA_re_army_morale_factor = 0.05 }
			add_to_variable = { ITA_re_conscription_factor = 0.05 }
			add_to_variable = { ITA_re_army_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_by_blood_alone_re_tt

			#REGIA AERONAUTICA
			add_to_variable = { ITA_ra_air_superiority_bonus_in_combat = 0.05 }
			custom_effect_tooltip = ITA_by_blood_alone_ra_tt

			#REGIA MARINA
			add_to_variable = { ITA_rm_naval_morale_factor = 0.05 }
			custom_effect_tooltip = ITA_by_blood_alone_rm_tt

			add_stability = -0.1
			add_war_support = 0.1
			if = {
				limit = {
					NOT = { has_rule = can_use_kamikaze_pilots }
				}
				set_rule = { can_use_kamikaze_pilots = yes }
			}
		}
	}

	focus = {
		id = ITA_masters_of_the_aegean
		icon = GFX_focus_generic_aegean_sea_focus
		prerequisite = { focus = ITA_bend_the_bars }

		x = 2
		y = 1
		relative_position_id = ITA_bend_the_bars
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_masters_of_the_aegean_claims_tt
			every_state = {
				limit = {
					BUL_state_is_in_the_aegean_sea = yes
					NOT = { is_owned_by = ROOT }
					NOT = { is_claimed_by = ROOT }
				}
				hidden_effect ={
					ROOT = { add_state_claim = PREV }
				}
				custom_effect_tooltip = generic_ROOT_gains_claim_tt
			}
		}
	}

	#focus = {
	#	id = ITA_masters_of_the_mediterranean
	#	icon = GFX_focus_generic_mediterranean_sea_focus
	#	prerequisite = { focus = ITA_masters_of_the_aegean }

	#	x = 0
	#	y = 1
	#	relative_position_id = ITA_masters_of_the_aegean
	#	cost = 10
	#	available = {
	#	}

	#	search_filters = {}

	#	completion_reward = {
	#		custom_effect_tooltip = ITA_masters_of_the_mediterranean_claims_tt
	#		every_state = {
	#			limit = {
	#				state_is_in_the_mediterranean_sea = yes
	#				NOT = { is_owned_by = ROOT }
	#				NOT = { is_claimed_by = ROOT }
	#			}
	##			hidden_effect ={
	#				ROOT = { add_state_claim = PREV }
	#			}
	#			custom_effect_tooltip = generic_ROOT_gains_claim_tt
	#		}
	#	}
	#}


###############
###############
# ALT FASCISM #
###############
###############

	focus = {
		id = ITA_depose_mussolini
		icon = GFX_focus_ITA_depose_mussolini
		prerequisite = { focus = ITA_convene_the_grand_council }
		relative_position_id = ITA_convene_the_grand_council

		allow_branch = {
			has_dlc = "By Blood Alone"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = ITA_culto_del_duce }
				NOT = { has_completed_focus = ITA_defy_the_duce }
			}
			is_ai = yes
		}

		x = 0
		y = 1
		
		cost = 5
		available = {
			has_government = fascism
			power_balance_value = {
				id = ITA_power_balance
				value < -0.09
			}		
		}

		bypass = {
			NOT = {
				has_character = ITA_benito_mussolini
			}
		}

		search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 50

			if = {
				limit = {
					has_character = ITA_grand_council
				}
				promote_character = ITA_grand_council
			}
			add_ideas = ITA_shadow_of_mussolini
			ITA_bop_low_decrease_effect = yes 
		}
	}

	focus = {
		id = ITA_italo_balbo_focus
		icon = GFX_focus_ITA_italo_balbo
		prerequisite = { focus = ITA_depose_mussolini }
		mutually_exclusive = { focus = ITA_dino_grandi_focus focus = ITA_monarchia_d_italia }
		relative_position_id = ITA_depose_mussolini
		x = -10
		y = 1

		cost = 5
		available = {
			has_character = ITA_italo_balbo
			has_government = fascism
			GER = {
				NOT = {
					has_completed_focus = GER_assassinate_mussolini
				}
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			set_power_balance = {
				id = ITA_power_balance
				right_side = ITA_balbo_side 
			}
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = ITA_deposed_leader_flag
					}
					clr_country_flag = ITA_deposed_leader_flag
				}
				mark_focus_tree_layout_dirty = yes
			}
			custom_effect_tooltip = ITA_remove_balbo_as_advisor_tt
			add_country_leader_role = {
				character = ITA_italo_balbo
				promote_leader = yes
				country_leader = {
					ideology = fascism_ideology
					expire = 1965.1.1.1
					traits =  {	aviation_hero }
				}
			}
			hidden_effect = {
				add_ideas = ITA_italo_balbo_traits
			}

			ITA_italo_balbo = {	set_character_flag = ITA_has_new_duce_flag }

			add_political_power = 75
			add_war_support = 0.1
			add_stability = 0.05
			ITA_bop_medium_increase_balbo_side_effect = yes
		}
	}

	focus = {
		id = ITA_dino_grandi_focus
		icon = GFX_focus_ITA_dino_grandi
		prerequisite = { focus = ITA_depose_mussolini }
		mutually_exclusive = { focus = ITA_italo_balbo_focus focus = ITA_monarchia_d_italia }
		relative_position_id = ITA_depose_mussolini
		x = 0
		y = 1

		cost = 5
		available = {
			has_character = ITA_dino_grandi
			has_government = fascism
			GER = {
				NOT = {
					has_completed_focus = GER_assassinate_mussolini
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = ITA_deposed_leader_flag
					}
					clr_country_flag = ITA_deposed_leader_flag
				}
				mark_focus_tree_layout_dirty = yes
			}
			set_power_balance = {
				id = ITA_power_balance
				right_side = ITA_grandi_side
			}
			custom_effect_tooltip = ITA_remove_grandi_as_advisor_tt
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_country_leader_role = {
					character = ITA_dino_grandi
					promote_leader = yes
					country_leader = {
						ideology = fascism_ideology
						expire = 1965.1.1.1
						traits =  {
							silver_tongue
						}
					}
				}
			}
			else = {
				add_country_leader_role = {
					character = ITA_dino_grandi
					promote_leader = yes
					country_leader = {
						ideology = fascism_ideology
						expire = 1965.1.1.1
						traits =  {
							silver_tongue_no_lar
						}
					}
				}
			}

			ITA_dino_grandi = {	set_character_flag = ITA_has_new_duce_flag }

			add_political_power = 75
			add_war_support = 0.05
			add_stability = 0.1
			ITA_bop_medium_increase_grandi_side_effect = yes
		}
	}

	#####################
	# SHARED SUB-BRANCH #
	#####################
	focus = {
		id = ITA_stop_the_squandering
		icon = GFX_focus_mex_privatisation
		prerequisite = { focus = ITA_italo_balbo_focus focus = ITA_dino_grandi_focus }
		relative_position_id = ITA_italo_balbo_focus
		x = 5
		y = 1

		cost = 10
		available = {}
		

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_to_variable = { ITA_iri_production_speed_arms_factory_factor = 0.05 } 
			custom_effect_tooltip = ITA_stop_the_squandering_ricostruzione_industriale_tt
			add_to_variable = { ITA_military_industry_dm_factory_max_efficiency_factor = 0.05 }
			custom_effect_tooltip = ITA_stop_the_squandering_military_industry_tt

			if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_balbo_side
					}
				}
				ITA_bop_very_low_increase_balbo_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_grandi_side
					}
				}
				ITA_bop_very_low_increase_grandi_side_effect = yes
			}
			else = {
				ITA_bop_very_low_increase_effect = yes
			}
		}
	}

	focus = {
		id = ITA_consolidate_power
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = ITA_italo_balbo_focus focus = ITA_dino_grandi_focus }
		relative_position_id = ITA_stop_the_squandering
		x = 2
		y = 0

		cost = 10
		available = {}
		

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_popularity = {
				ideology = fascism 
				popularity = 0.05
			}
			add_war_support = 0.05
			add_stability = 0.05
			add_political_power = 50
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_balbo_side
					}
				}
				ITA_bop_very_low_increase_balbo_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_grandi_side
					}
				}
				ITA_bop_very_low_increase_grandi_side_effect = yes
			}
			else = {
				ITA_bop_very_low_increase_effect = yes
			}
		}
	}

	focus = {
		id = ITA_purge_the_party
		icon = GFX_focus_generic_conspiracy
		prerequisite = { focus = ITA_consolidate_power }
		prerequisite = { focus = ITA_stop_the_squandering}
		relative_position_id = ITA_stop_the_squandering
		x = 1
		y = 1

		cost = 5
		available = {
			has_government = fascism
		}
		

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			ROOT = { 
				country_event = { id = BBA_italy_purge_the_party.1 hours = 8 random_hours = 6 } 
			} 
		}
	}

	focus = {
		id = ITA_the_fate_of_mussolini
		icon = GFX_focus_ger_assassinate_mussolini
		prerequisite = { focus = ITA_purge_the_party }
		relative_position_id = ITA_purge_the_party
		x = 0
		y = 1

		cost = 5
		available = {
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			ROOT = { 
				country_event = { id = BBA_italy_decide_the_fate_of_mussolini.1 hours = 6 random_hours = 2 } 
			}
		}
	}

	focus = {
		id = ITA_divino_duce
		icon = GFX_focus_generic_fascist_propaganda
		prerequisite = { focus = ITA_the_fate_of_mussolini }
		relative_position_id = ITA_the_fate_of_mussolini
		x = -1
		y = 1

		cost = 10
		available = {
			has_government = fascism
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 100
			add_popularity = {
				ideology = fascism 
				popularity = 0.05
			}
			add_war_support = 0.1
			add_ideas = ITA_divino_duce_1
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_balbo_side
					}
				}
				ITA_bop_medium_increase_balbo_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_grandi_side
					}
				}
				ITA_bop_medium_increase_grandi_side_effect = yes
			}
			else = {
				ITA_bop_medium_increase_effect = yes
			}
		}
	}

	focus = {
		id = ITA_blackshirt_loyalty
		icon = GFX_focus_generic_fascist_troops
		prerequisite = { focus = ITA_divino_duce }
		relative_position_id = ITA_divino_duce
		x = 0
		y = 2

		cost = 10
		available = {}
		
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			swap_ideas = {
				remove_idea = ITA_divino_duce_1
				add_idea = ITA_divino_duce_2
			}
		}
	}

	focus = {
		id = ITA_a_greater_purpose
		icon = GFX_goal_support_fascism
		prerequisite = { focus = ITA_the_fate_of_mussolini }
		relative_position_id = ITA_the_fate_of_mussolini
		x = 1
		y = 1

		cost = 10
		available = {
			has_government = fascism
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 100
			add_popularity = {
				ideology = fascism 
				popularity = 0.05
			}
			add_stability = 0.05
			add_war_support = 0.05
			add_ideas = ITA_italian_hegemony_master_1
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_balbo_side
					}
				}
				ITA_bop_medium_increase_balbo_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_grandi_side
					}
				}
				ITA_bop_medium_increase_grandi_side_effect = yes
			}
			else = {
				ITA_bop_medium_increase_effect = yes
			}
		}
	}

	focus = {
		id = ITA_spreading_the_eagles_wings
		icon = GFX_focus_generic_spread_fascism
		prerequisite = { focus = ITA_a_greater_purpose }
		relative_position_id = ITA_a_greater_purpose
		x = 0
		y = 1

		cost = 10
		available = {}
		
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			hidden_effect = {
				every_other_country = {
					limit = {
						is_neighbor_of = ROOT
						NOT = { is_in_faction_with = ROOT }
						NOT = { is_guaranteed_by = ROOT }
						NOT = { has_non_aggression_pact_with = ROOT }
						capital_scope = { is_on_continent = europe }
					}
					ROOT = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
						}
					}
				}
			}
			custom_effect_tooltip = ITA_spreading_the_eagles_wings_tt
			every_other_country = {
				limit = {
					is_neighbor_of = ROOT
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }	
					capital_scope = { is_on_continent = europe }
				}
			}
			swap_ideas = {
				remove_idea = ITA_italian_hegemony_master_1
				add_idea = ITA_italian_hegemony_master_2
			}
		}
	}

	focus = {
		id = ITA_italian_hegemony
		icon = GFX_focus_ITA_italian_hegemony
		prerequisite = { focus = ITA_spreading_the_eagles_wings }
		relative_position_id = ITA_a_greater_purpose
		x = 0
		y = 2

		cost = 10
		available = {
			num_subjects > 0
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}

		completion_reward = {
			swap_ideas = {
				remove_idea = ITA_italian_hegemony_master_2
				add_idea = ITA_italian_hegemony_master_3
			}
			add_to_tech_sharing_group = ITA_italian_hegemony_program
			custom_effect_tooltip = ITA_italian_hegemony_subjects_tt
			if = {
				limit = {
						num_subjects > 0
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					add_ideas = ITA_italian_hegemony_subjects
					add_to_tech_sharing_group = ITA_italian_hegemony_program
				}
			}
			else = { 
				effect_tooltip = {
					add_ideas = ITA_italian_hegemony_subjects
					add_to_tech_sharing_group = ITA_italian_hegemony_program
				}
			}
		}
	}



	###############
	# Italo Balbo #
	###############

	focus = {
		id = ITA_reorganize_regio_esercito
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = ITA_italo_balbo_focus }
		prerequisite = { focus =  ITA_stop_the_squandering }
		relative_position_id = ITA_italo_balbo_focus
		x = -1
		y = 2

		cost = 10
		available = {
			has_completed_focus = ITA_stop_the_squandering
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			army_experience = 25
			add_timed_idea = { 
				idea = ITA_prioritizing_the_military 
				days = 365 
			}
			add_to_variable = { ITA_re_infantry_attack = 0.05 }
			add_to_variable = { ITA_re_motorized_attack = 0.05 }
			add_to_variable = { ITA_re_mechanized_attack = 0.05 }
			custom_effect_tooltip = ITA_reorganize_regio_esercito_re_tt
			ITA_bop_very_low_increase_balbo_side_effect = yes
		}
	}

	focus = {
		id = ITA_reinforce_regia_aeronautica
		icon = GFX_focus_SOV_flying_clubs
		prerequisite = { focus = ITA_italo_balbo_focus }
		prerequisite = { focus =  ITA_stop_the_squandering }
		relative_position_id = ITA_italo_balbo_focus
		x = 1
		y = 2		
		relative_position_id = ITA_italo_balbo_focus

		cost = 10
		available = {}		

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			air_experience = 25
			add_timed_idea = { 
				idea = ITA_prioritizing_the_military 
				days = 365 
			}
			add_to_variable = { ITA_ra_air_accidents_factor = -0.1 }
			add_to_variable = { ITA_ra_air_agility_factor = 0.05 }
			add_to_variable = { ITA_ra_air_attack = 0.05 }
			add_to_variable = { ITA_ra_air_superiority_bonus_in_combat = 0.05 }
			custom_effect_tooltip = ITA_reinforce_aeronautica_ra_tt
			ITA_bop_very_low_increase_balbo_side_effect = yes
		}
	}

	focus = { 
		id = ITA_compagnie_auto_avio_sahariane
		icon = GFX_focus_generic_armored_air_support
		prerequisite = { focus = ITA_reorganize_regio_esercito focus = ITA_reinforce_regia_aeronautica }
		relative_position_id = ITA_reorganize_regio_esercito
		x = 1
		y = 1

		cost = 10
		available = {}
		
		search_filters = {}

		completion_reward = {
			add_to_variable = { ITA_ra_ground_attack_factor = 0.05 }
			add_to_variable = { ITA_ra_air_interception = 0.05 }
			custom_effect_tooltip = ITA_compagnie_auto_avio_sahariane_ra_tt
			add_to_variable = {  ITA_re_org_loss_when_moving = -0.05 }
			add_to_variable = {  ITA_re_out_of_supply = -0.05 }
			custom_effect_tooltip = ITA_compagnie_auto_avio_sahariane_re_tt
		}
	}

	focus = {
		id = ITA_combined_land_and_air_warfare
		icon = GFX_focus_generic_tank_air_support
		prerequisite = { focus = ITA_compagnie_auto_avio_sahariane }
		relative_position_id = ITA_reorganize_regio_esercito
		x = 1
		y = 2

		cost = 10
		available = {}
		
		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_country_leader_trait = military_modernizer
			add_to_variable = {  ITA_ra_air_mission_efficiency = 0.05 }
			add_to_variable = {  ITA_ra_air_cas_present_factor = 0.05 }
			custom_effect_tooltip = ITA_combined_land_and_air_warfare_ra_tt
			add_to_variable = {  ITA_re_army_army_org_factor = 0.05 }
			add_to_variable = {  ITA_re_armor_attack = 0.05 }
			custom_effect_tooltip = ITA_combined_land_and_air_warfare_re_tt
		}
	}

	focus = {
		id = ITA_the_fourth_shore
		icon = GFX_focus_generic_develop_libya
		prerequisite = { focus = ITA_italo_balbo_focus }
		prerequisite = { focus = ITA_stop_the_squandering }
		relative_position_id = ITA_italo_balbo_focus
		x = 3
		y = 2

		cost = 10
		available = {
			OR = {
				any_controlled_state = {
					is_core_of = LBA
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = LBA
						is_fully_controlled_by = PREV
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					448 = { #TRIPOLI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				448 = { 
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					449 = { #EL AGHEILA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				449 = { 
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					450 = { #BENGHASI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				450 = { 
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					451 = { #DERNA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				451 = { #TRIPOLI
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_oil_in_tripoli
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = ITA_the_fourth_shore }
		relative_position_id = ITA_the_fourth_shore
		x = -1
		y = 1

		cost = 5
		available = {}		

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		available = {
			has_tech = excavation3
			448 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		completion_reward = {
			if = {
				limit = {
					448 = { 
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				add_resource = {
			    	type = oil
			    	amount = 8
			    	state = 448   
				}
				448 = { #TRIPOLI
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = {
						has_tech = synth_oil_experiments
					}
					448 = { #TRIPOLI
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = synthetic_refinery
							level = 1
							instant_build = yes
						}
					}
				}
				else = {
					custom_effect_tooltip = ITA_potential_refinery_in_libya_tt
				}
				add_tech_bonus = {
					name = ITA_oil_in_tripoli
    				bonus = 1
   					uses = 1
    				category = synth_resources
				}
				unlock_decision_tooltip = develop_tripoli_oil_fields
			}
		}
	}

	focus = {
		id = ITA_steel_in_tripoli
		icon = GFX_focus_generic_steel
		prerequisite = { focus = ITA_the_fourth_shore }
		relative_position_id = ITA_the_fourth_shore
		x = 1
		y = 1

		cost = 5
		available = {}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		available = {
			has_tech = excavation3
			448 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		completion_reward = {
			if = {
				limit = {
					448 = { 
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}	
				add_resource = {
				    type = steel
				    amount = 16
				    state = 448  
				}
				448 = { #TRIPOLI
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				add_tech_bonus = {
					name = ITA_steel_in_tripoli
    				bonus = 1
   					uses = 1
    				category = excavation_tech
				}
				unlock_decision_tooltip = develop_tripoli_steel_deposits
			}
		}
	}

	focus = {
		id = ITA_novus_ordo
		icon = GFX_focus_ITA_strengthen_ascari_corps #ITA_ministry_of_italian_africa?
		prerequisite = { focus = ITA_steel_in_tripoli focus = ITA_oil_in_tripoli }
		relative_position_id = ITA_the_fourth_shore
		x = 0
		y = 2

		cost = 10
		available = {
			OR = {
				any_controlled_state = {
					is_core_of = LBA
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = LBA
						is_fully_controlled_by = PREV
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_to_variable = { ITA_iri_consumer_goods_factor = -0.05 }
			custom_effect_tooltip = ITA_novus_ordo_ricostruzione_industriale_tt
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_factory = 0.05 }
			add_to_variable = { ITA_military_industry_dm_production_factory_efficiency_gain_factor = 0.05 }
			custom_effect_tooltip = ITA_novus_ordo_military_industry_tt
			add_to_variable = { ITA_re_irregular_org = 0.05 }
			custom_effect_tooltip = ITA_novus_ordo_irregulars_tt
			
			if = {
				limit = {
					448 = { #TRIPOLI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				448 = { 
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					449 = { #EL AGHEILA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				449 = { 
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = {
					450 = { #BENGHASI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				450 = { 
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					451 = { #DERNA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				451 = { #TRIPOLI
					add_extra_state_shared_building_slots = 1
				}
			}

			every_state = { 
				limit = {
					OR = {
						state = 448
						state = 449
						state = 450
						state = 451
					}
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				add_dynamic_modifier = {
					modifier = ITA_novus_ordo_modifier
				}
			}

			custom_effect_tooltip = ITA_novus_ordo_forts_tt
			hidden_effect = {
				if = {
					limit = {
						448 = { 
							state_is_fully_controlled_by_ROOT_or_subject = yes
						}
					}
					448 = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 12039
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						451 = { 
							state_is_fully_controlled_by_ROOT_or_subject = yes
						}
					}
					451 = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 10120
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						661 = { 
							state_is_fully_controlled_by_ROOT_or_subject = yes
						}
					}
					661 = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 10067
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 7154
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						663 = { 
							state_is_fully_controlled_by_ROOT_or_subject = yes
						}
					}
					663 = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4060
							instant_build = yes
						}
					}
				}
			}

			custom_effect_tooltip = ITA_novus_ordo_create_units_tt
			hidden_effect = {
				if = {
					limit = {
						NOT = { has_template = "Divisione Ascari Libica" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_ascari_templates_flag }
						}
						division_template = { 
							name = "Divisione Ascari Libica" 
							division_names_group = ITA_COL_01
							override_model = ITA_infantry_alt_0_entity
							template_counter = 67
							#is_locked = yes
							obsolete = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
							}

							priority = 0 
						}
					}
					else = {
						division_template = { 
							name = "Divisione Ascari Libica" 
							division_names_group = ITA_COL_01
							override_model = ITA_infantry_alt_0_entity
							template_counter = 67
							#is_locked = yes
							obsolete = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
							}

							support = {
								armored_car_recon = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}

							priority = 0 
						}
					}
				}
			}
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
					prioritize = { 448 } #TRIPOLI (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_novus_ordo_irregular_troops_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Divisione Ascari Libica\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 5
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
						prioritize = { 448 } #TRIPOLI (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_novus_ordo_irregular_troops_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Divisione Ascari Libica\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 5
							}
						}
					}
				}
			}
			ITA_bop_low_increase_balbo_side_effect = yes
		}
	}

	###############
	# Dino Grandi #
	###############
	focus = {
		id = ITA_seek_british_military_cooperation
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = ITA_dino_grandi_focus focus = ITA_monarchia_d_italia }
		relative_position_id = ITA_dino_grandi_focus
		x = 2
		y = 1

		cost = 10
		available = {
			is_subject = no
			ENG = { 
				is_subject = no
				NOT = { has_war_with = ROOT }
				NOT = { is_justifying_wargoal_against = ROOT }
				has_opinion	= {
					target = ROOT
					value > 9
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_equipment_subsidy = {
					cic = 1000
					equipment_type = small_plane_airframe
					seller_tags = { ENG }
				}
			}
			ENG = { 
				country_event = { id = BBA_italy_research_agreement.1 hours = 6 random_hours = 2 } 
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = { 
				ITA_anglo_italian_cooperation_effect = yes
			}
		}
	}

	focus = {
		id = ITA_anglo_italian_pact
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = ITA_seek_british_military_cooperation }
		relative_position_id = ITA_seek_british_military_cooperation
		x = 0
		y = 1

		cost = 5
		available = {
			is_subject = no
			ENG = { 
				is_subject = no
				NOT = { has_war_with = ROOT }
				NOT = { is_justifying_wargoal_against = ROOT }
				NOT = { has_government = communism }
				has_opinion	= {
					target = ROOT
					value > 49
				}
			}
		}
		Bypass = { is_in_faction_with = ENG }	

		search_filters = {}

		completion_reward = {
			ENG = { 
				country_event = { id = BBA_italy_pact.1 hours = 12 random_hours = 6 } 
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				ITA_non_aggression_pact_effect = yes
			}
		}
	}	

	focus = {
		id = ITA_invite_france_to_military_partnership
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = ITA_dino_grandi_focus focus = ITA_monarchia_d_italia }
		relative_position_id = ITA_seek_british_military_cooperation
		x = 2
		y = 0

		cost = 10
		available = {
			is_subject = no
			FRA = { 
				is_subject = no
				NOT = { has_war_with = ROOT }
				NOT = { is_justifying_wargoal_against = ROOT }
				has_opinion	= {
					target = ROOT
					value > 9
				}
			}
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_equipment_subsidy = {
					cic = 500
					equipment_type = light_tank_chassis
					seller_tags = { FRA }
				}
				add_equipment_subsidy = {
					cic = 500
					equipment_type = infantry_equipment
					seller_tags = { FRA }
				}
			}
			FRA = { 
				country_event = { id = BBA_italy_research_agreement.1 hours = 6 random_hours = 2 } 
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = { 
				ITA_franco_italian_cooperation_effect = yes
			}
		}
	}

	focus = {
		id = ITA_franco_italian_pact
		icon = GFX_focus_chi_reach_out_to_france
		prerequisite = { focus = ITA_invite_france_to_military_partnership }
		relative_position_id = ITA_seek_british_military_cooperation
		x = 2
		y = 1

		cost = 5
		available = {
			is_subject = no
			FRA = { 
				is_subject = no
				NOT = { has_war_with = ROOT }
				NOT = { is_justifying_wargoal_against = ROOT }
				NOT = { has_government = communism }
				has_opinion	= {
					target = ROOT
					value > 49
				}
			}
		}
		Bypass = { is_in_faction_with = FRA }
		
		search_filters = {}

		completion_reward = {
			FRA = { 
				country_event = { id = BBA_italy_pact.1 hours = 12 random_hours = 6 } 
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				ITA_non_aggression_pact_effect = yes
			}
		}
	}	

	focus = {
		id = ITA_proclaim_the_italian_empire
		icon = GFX_focus_ITA_imperial_recognition
		prerequisite = { focus = ITA_anglo_italian_pact focus = ITA_franco_italian_pact }
		relative_position_id = ITA_seek_british_military_cooperation
		x = 1
		y = 2

		cost = 10
		available = {
			is_subject = no
			OR = { #ADD A TOOLTIP INSTEAD??
				any_controlled_state = {
					is_core_of = ETH
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = ETH
						is_fully_controlled_by = PREV
					}
				}
			}
			OR = {
				any_controlled_state = {
					is_core_of = LBA
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = LBA
						is_fully_controlled_by = PREV
					}
				}
			}
			OR = {
				550 = {	is_fully_controlled_by = ROOT }
				any_subject_country = {
					has_full_control_of_state = 550
				}
			}
			OR = {
				559 = { is_fully_controlled_by = ROOT }
				any_subject_country = {
					has_full_control_of_state = 559
				}
				844 = { is_fully_controlled_by = ROOT }
				any_subject_country = {
					has_full_control_of_state = 884
				}
			}
			OR = {
				has_non_aggression_pact_with = ENG
				is_in_faction_with = ENG
				has_non_aggression_pact_with = FRA
				is_in_faction_with = FRA
			}
			has_army_manpower = { size > 999999 }
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {

			every_other_country = {
				limit = { is_major = yes }
				country_event = { id = BBA_italy_recognize_the_empire.1 hours = 12 random_hours = 6 } 
			}

			custom_effect_tooltip = ITA_italy_will_guarantee_tt
			effect_tooltip = {			
				every_other_country = {
					limit = { 
						AND  = {
							is_major = yes
							has_non_aggression_pact_with = ROOT
						}
					}
					give_guarantee = ROOT
					ROOT = { give_guarantee = PREV }
				}				
			}
			
			add_political_power = 75
			add_war_support = 0.05

			custom_effect_tooltip = ITA_african_conquests_tt #Annex cost reduction TT

			add_ideas = ITA_impero_italiano
			if = { 
				limit = {
					has_country_leader = {
						character = ITA_dino_grandi
						ruling_only = yes
					}
				}
				add_country_leader_trait = father_of_the_empire
				ITA_bop_low_increase_grandi_side_effect = yes
			}
			else_if = {
				limit = {
					has_country_leader = {
						character = ITA_vittorio_emanuele_iii
						ruling_only = yes
					}
				}
				ITA_bop_low_increase_king_side_effect = yes
			}
			else = {
				custom_effect_tooltip = ITA_bop_will_shift
			}
			
			
			set_cosmetic_tag = ITA_italian_empire
		}
	}	

	focus = {
		id = ITA_reorganize_the_party
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = ITA_dino_grandi_focus }
		prerequisite = { focus = ITA_consolidate_power }
		relative_position_id = ITA_dino_grandi_focus
		x = -1
		y = 2

		cost = 10
		available = {
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_country_leader_trait = political_reformer_1
			add_political_power = 100
			ITA_bop_very_low_increase_grandi_side_effect = yes
		}
	}

	focus = {
		id = ITA_meritocracy
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = ITA_reorganize_the_party }
		prerequisite = { focus = ITA_purge_the_party }
		relative_position_id = ITA_reorganize_the_party
		x = 0
		y = 2

		cost = 10
		available = {
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"					
				}
				swap_ruler_traits = {
					remove = political_reformer_1
					add = political_reformer_2
				}
			}
			else = {
				swap_ruler_traits = {
					remove = political_reformer_1
					add = political_reformer_2_no_lar
				}
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_enrico_fermi
			show_ideas_tooltip = ITA_vittorio_emanuele_orlando

			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = ITA_giovanni_duca

			show_unit_leaders_tooltip = ITA_giovanni_duca
			
			if = {
				limit = {
					has_dlc = "La Resistance"					
				}
				ITA_create_edgardo_sogno_operative = yes
			}
			add_tech_bonus = {
				name = ITA_meritocracy
				bonus = 1
				uses = 1
				category = nuclear
			}
			ITA_bop_very_low_increase_grandi_side_effect = yes
		}
	}

	focus = {
		id = ITA_economic_reforms
		icon = GFX_focus_usa_reestablish_the_gold_standard
		prerequisite = { focus = ITA_reorganize_the_party }

		#icon = 
		relative_position_id = ITA_reorganize_the_party
		x = 2
		y = 1

		cost = 10
		available = {}
		

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_iri_consumer_goods_factor = -0.05 }
			add_to_variable = { ITA_iri_production_speed_arms_factory_factor = 0.05 }
			add_to_variable = { ITA_iri_production_speed_industrial_complex_factor = 0.05 }
			custom_effect_tooltip = ITA_economic_reforms_ricostruzione_industriale_tt
		}
	}

	focus = {
		id = ITA_improve_the_industries
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = ITA_economic_reforms }
		relative_position_id = ITA_economic_reforms
		x = 0
		y = 1

		cost = 10
		available = {}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = {  ITA_iri_conversion_cost_civ_to_mil_factor = -0.1 }
			custom_effect_tooltip = ITA_improve_the_industries_ricostruzione_industriale_tt
			add_to_variable = {  ITA_military_industry_dm_production_factory_start_efficiency_factor = 0.05 }
			add_to_variable = {  ITA_military_industry_dm_line_change_production_efficiency_factor = 0.05 }
			add_to_variable = { ITA_military_industry_dm_production_factory_efficiency_gain_factor = 0.05 }
			custom_effect_tooltip = ITA_improve_the_industries_military_industry_tt
		}
	}

	focus = {
		id = ITA_expanded_corporatism
		icon = GFX_focus_ITA_generic_fascist_workers
		prerequisite = { focus = ITA_meritocracy }
		prerequisite = { focus = ITA_improve_the_industries }
		relative_position_id = ITA_reorganize_the_party
		x = 1
		y = 3

		cost = 10
		available = {}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_iri_production_speed_arms_factory_factor = 0.05 }
			add_to_variable = { ITA_iri_production_speed_industrial_complex_factor = 0.05 }
			custom_effect_tooltip = ITA_expanded_corporatism_ricostruzione_industriale_tt

			add_to_variable = { ITA_military_industry_dm_production_lack_of_resource_penalty_factor = -0.05 }
			custom_effect_tooltip = ITA_expanded_corporatism_military_industry_tt

			every_owned_state = {
				limit = {
					NOT = {	is_core_of = ROOT }
					is_fully_controlled_by = ROOT
				}
				add_dynamic_modifier = {
					modifier = ITA_expanded_corporatism_modifier
					scope = ITA
				}
			}
			if = {
				limit = {
					2 = { 
						is_fully_controlled_by = ROOT
						free_building_slots = { #Preventing Lazio state from getting overcrowded
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				2 = { #LATIUM
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 849 115 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					117 = { 
						is_fully_controlled_by = ROOT
					}
				}
				117 = { #CAMPANIA
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					161 = { 
						is_fully_controlled_by = ROOT
					}
				}
				161 = { #EMILIA ROMAGNA
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					162 = { 
						is_fully_controlled_by = ROOT
					}
				}
				162 = { #TUSCANY
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}



##     ##  #######  ##    ##    ###    ########   ######  ##     ## ####  ######  ######## 
###   ### ##     ## ###   ##   ## ##   ##     ## ##    ## ##     ##  ##  ##    ##    ##    
#### #### ##     ## ####  ##  ##   ##  ##     ## ##       ##     ##  ##  ##          ##    
## ### ## ##     ## ## ## ## ##     ## ########  ##       #########  ##   ######     ##    
##     ## ##     ## ##  #### ######### ##   ##   ##       ##     ##  ##        ##    ##    
##     ## ##     ## ##   ### ##     ## ##    ##  ##    ## ##     ##  ##  ##    ##    ##    
##     ##  #######  ##    ## ##     ## ##     ##  ######  ##     ## ####  ######     ##    



	focus = {
		id = ITA_monarchia_d_italia
		icon = GFX_focus_generic_monarchy_1
		prerequisite = { focus = ITA_depose_mussolini }

		mutually_exclusive = { focus = ITA_dino_grandi_focus focus = ITA_italo_balbo_focus }

		x = 9
		y = 1
		relative_position_id = ITA_depose_mussolini
		cost = 5
		available = {
			neutrality > 0.25
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			every_owned_state = { #Compensating for ideology swap auto-eating half compliance
				limit = {
					has_resistance = yes
				}
				add_compliance = 10
			}

			hidden_effect = {
				if = {
					limit = {
						has_country_flag = ITA_deposed_leader_flag
					}
					clr_country_flag = ITA_deposed_leader_flag
				}
				mark_focus_tree_layout_dirty = yes
			}
			add_political_power = 50

			set_politics = {
				ruling_party = neutrality
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_vittorio_emanuele_orlando
			
			show_unit_leaders_tooltip = ITA_giuseppe_de_stefanis

			#BoP
			set_power_balance = {
				id = ITA_power_balance
				right_side = ITA_king_side
			}
			ITA_bop_low_increase_king_side_effect = yes
		}
	}

	focus = {
		id = ITA_extraction_industry
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = ITA_monarchia_d_italia }

		x = -2
		y = 1
		relative_position_id = ITA_monarchia_d_italia
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			#IRI
			add_to_variable = { ITA_iri_local_resources_factor = 0.1 }
			custom_effect_tooltip = ITA_extraction_industry_iri_tt

			#MILITARY INDUSTRY
			add_to_variable = { ITA_military_industry_dm_production_lack_of_resource_penalty_factor = -0.15 }
			custom_effect_tooltip = ITA_extraction_industry_military_industry_tt
			
			117 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_resource = {
						type = steel
						amount = 8
					}
				}
			}

			custom_effect_tooltip = ITA_extraction_industry_oil_tt

			if = {
				limit = {
					any_controlled_state = {
						is_fully_controlled_by = ROOT
						has_resources_amount = {
							resource = oil
							amount > 0
						}
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_controlled_state = {
					limit = {
						is_fully_controlled_by = ROOT
						has_resources_amount = {
							resource = oil
							amount > 0
						}
					}
					add_resource = {
						type = oil
						amount = 2
					}
				}
			}
		}
	}

	focus = {
		id = ITA_new_corporations
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = ITA_extraction_industry }

		x = -1
		y = 1
		relative_position_id = ITA_extraction_industry
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_iri_conversion_cost_civ_to_mil_factor = -0.15 }
			custom_effect_tooltip = ITA_new_corporations_iri_tt

			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				random_select_amount = 3

				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_prepare_for_the_coming_wars
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = ITA_extraction_industry }

		x = 0
		y = 2
		relative_position_id = ITA_extraction_industry
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				set_state_flag = ITA_prepare_for_the_coming_wars
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					NOT = { has_state_flag = ITA_prepare_for_the_coming_wars }
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				set_state_flag = ITA_prepare_for_the_coming_wars
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					NOT = { has_state_flag = ITA_prepare_for_the_coming_wars }
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				set_state_flag = ITA_prepare_for_the_coming_wars
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			#Clear stuff thanks
			hidden_effect = {
				every_core_state = {
					limit = {
						has_state_flag = ITA_prepare_for_the_coming_wars
					}
					clr_state_flag = ITA_prepare_for_the_coming_wars
				}
			}
		}
	}

	focus = {
		id = ITA_mobilize_the_railway_guns
		icon = GFX_focus_generic_railway_gun
		prerequisite = { focus = ITA_prepare_for_the_coming_wars }

		x = -1
		y = 1
		relative_position_id = ITA_prepare_for_the_coming_wars
		cost = 5

		allow_branch = {
			has_dlc = "By Blood Alone"
			has_dlc = "No Step Back"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = ITA_culto_del_duce }
				NOT = { has_completed_focus = ITA_defy_the_duce }
			}
			is_ai = yes
		}

		available = {
			has_tech = armored_train
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			custom_effect_tooltip = ITA_mobilize_the_railway_guns_military_industry_dm_tt
			hidden_effect = {
				add_ideas = ITA_hidden_railway_gun_production_ns
			}

			if = {
				limit = {
					NOT = { has_tech = railway_gun }
				}
				set_technology = { railway_gun = 1 }
			}
			ITA_mobilize_railway_guns = yes
		}
	}

	focus = {
		id = ITA_bring_back_old_glories
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = ITA_prepare_for_the_coming_wars }

		x = 1
		y = 1
		relative_position_id = ITA_prepare_for_the_coming_wars
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = { coastal_defense_ships = 1 popup = no }
				set_technology = { pre_dreadnoughts = 1 popup = no }

				#QUARTO and LIBIA - Pre-Dreadnoughts
				create_equipment_variant = {
					name = "Vecchio Esploratore Class"
					type = ship_hull_pre_dreadnought
					name_group = ITA_BC_HISTORICAL
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_secondaries_1
						rear_1_custom_slot = empty
						fixed_ship_battery_slot = ship_heavy_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_1
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_1
					}
					obsolete = yes
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_pre_dreadnought
						creator = "ITA"
						version_name = "Vecchio Esploratore Class"
					}
					name = "Quarto"
					requested_factories = 1
					progress = 0.8
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_pre_dreadnought
						creator = "ITA"
						version_name = "Vecchio Esploratore Class"
					}
					name = "Libia"
					requested_factories = 1
					progress = 0.6
					amount = 1
				}
				
				#ALESSANDRO POERIO Class - Destroyers
				create_equipment_variant = {
					name = "Alessandro Poerio Class"
					type = ship_hull_light_1
					name_group = ITA_DD_HISTORICAL
					parent_version = 0
					allow_without_tech = yes #Makes no difference since appropriate tech is already researched, but it improves tooltip
					modules = {
						mid_1_custom_slot = ship_anti_air_1
						rear_1_custom_slot = ship_mine_layer_1
						fixed_ship_battery_slot = ship_light_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_torpedo_slot = ship_torpedo_1
						fixed_ship_engine_slot = light_ship_engine_1
					}
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_light_1
						creator = "ITA"
						version_name = "Alessandro Poerio Class"
					}
					name = "Alessandro Poerio"
					requested_factories = 1
					progress = 0.7
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_light_1
						creator = "ITA"
						version_name = "Alessandro Poerio Class"
					}
					name = "Guglielmo Pepe"
					requested_factories = 1
					progress = 0.7
					amount = 1
				}
				
				#ERITREA - Coastal Defense Ship
				create_equipment_variant = {
					name = "Eritrea Class"
					type = ship_hull_cruiser_coastal_defense_ship
					name_group = ITA_BC_HISTORICAL
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_secondaries_1
						rear_1_custom_slot = empty
						fixed_ship_battery_slot = ship_medium_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_cruiser_1
					}
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_coastal_defense_ship
						creator = "ITA"
						version_name = "Eritrea Class"
					}
					name = "Eritrea"
					requested_factories = 1
					progress = 0.7
					amount = 1
				}
			}
			else = {
				#VECHIO ESPLORATORE CLASS (Quarto and Libia) - CA
				create_equipment_variant = {
					name = "Vecchio Esploratore Class"
					type = heavy_cruiser_1
					allow_without_tech = yes #Makes no difference since focus appropriate tech is already researched but it improves tooltip
					upgrades = {
						ship_reliability_upgrade = 2
						ship_engine_upgrade = 1
						ship_armor_upgrade = 2
						ship_gun_upgrade = 1
					}
				}
				add_equipment_production = {
					equipment = {
						type = heavy_cruiser_1
						creator = "ITA"
						version_name = "Vecchio Esploratore Class"
					}
					name = "Quarto"
					requested_factories = 1
					progress = 0.8
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = heavy_cruiser_1
						creator = "ITA"
						version_name = "Vecchio Esploratore Class"
					}
					name = "Libia"
					requested_factories = 1
					progress = 0.6
					amount = 1
				}

				#ALESSANDRO POERIO CLASS - DD
				create_equipment_variant = {
					name = "Alessandro Poerio Class"
					type = destroyer_1
					allow_without_tech = yes #Makes no difference since focus appropriate tech is already researched but it improves tooltip
					upgrades = {
						ship_torpedo_upgrade = 1
						destroyer_engine_upgrade = 1
						ship_ASW_upgrade = 0
						ship_anti_air_upgrade = 1
					}
				}
				add_equipment_production = {
					equipment = {
						type = destroyer_1
						creator = "ITA"
						version_name = "Alessandro Poerio Class"
					}
					name = "Alessandro Poerio"
					requested_factories = 1
					progress = 0.7
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = destroyer_1
						creator = "ITA"
						version_name = "Alessandro Poerio Class"
					}
					name = "Guglielmo Pepe"
					requested_factories = 1
					progress = 0.7
					amount = 1
				}

				#ERITREA CLASS - DD
				create_equipment_variant = {
					name = "Eritrea Class"
					type = destroyer_1
					allow_without_tech = yes #Makes no difference since focus appropriate tech is already researched but it improves tooltip
					upgrades = {
						ship_torpedo_upgrade = 1
						destroyer_engine_upgrade = 2
						ship_ASW_upgrade = 0
						ship_anti_air_upgrade = 1
					}
				}
				add_equipment_production = {
					equipment = {
						type = destroyer_1
						creator = "ITA"
						version_name = "Eritrea Class"
					}
					name = "Eritrea"
					requested_factories = 1
					progress = 0.7
					amount = 1
				}
			}
		}
	}

	focus = {
		id = ITA_new_forms_of_weaponry
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = ITA_prepare_for_the_coming_wars }

		x = 0
		y = 2
		relative_position_id = ITA_prepare_for_the_coming_wars
		cost = 10
		available = {
			has_tech = atomic_research
			if = {
				limit = {
					NOT = { has_country_flag = ITA_late_to_the_atomic_party_flag }
				}
				has_country_flag = ITA_pioneer_in_atomic_research_flag
			}
			else = {
				NOT = { has_country_flag = ITA_late_to_the_atomic_party_flag }
			}
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_timed_idea = {
				idea = ITA_nuclear_research
				days = 1095
			}
			add_tech_bonus = {
				name = ITA_new_forms_of_weaponry
				bonus = 1
				uses = 1
				category = nuclear
			}
		}
	}

	focus = {
		id = ITA_revoke_the_acerbo_law
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = ITA_monarchia_d_italia }
		mutually_exclusive = { focus = ITA_power_to_the_king }
		x = 1
		y = 1
		relative_position_id = ITA_monarchia_d_italia
		cost = 5
		available = {
			is_subject = no
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			every_owned_state = { #Compensating for ideology swap auto-eating half compliance
				limit = {
					has_resistance = yes
				}
				add_compliance = 5
			}
			add_political_power = 50
			add_ideas = ITA_political_reforms
			add_popularity = {
				ideology = democratic
				popularity = 0.15
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_alcide_de_gasperi
			show_ideas_tooltip = ITA_luigi_einaudi

			unlock_decision_tooltip = ITA_bop_constitutional_draft
		}
	}

	focus = {
		id = ITA_christian_democracy
		icon = GFX_focus_ITA_alcide_de_gasperi
		prerequisite = { focus = ITA_revoke_the_acerbo_law }
		mutually_exclusive = { focus = ITA_democratic_king }
		x = -1
		y = 1
		relative_position_id = ITA_revoke_the_acerbo_law
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY}

		completion_reward = {
			every_owned_state = { #Compensating for ideology swap auto-eating half compliance
				limit = {
					has_resistance = yes
				}
				add_compliance = 10
			}

			add_political_power = 50
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
			}
			set_party_name = {
				ideology = democratic
				name = ITA_democrazia_cristiana
				long_name = ITA_democrazia_cristiana_long
			}

			if = {
				limit = {
					has_character = ITA_vittorio_emanuele_iii
				}
				ITA_add_king_vittorio_emanuele_back_as_idea = yes
			}

			if = {
				limit = {
					has_character = ITA_alcide_de_gasperi
				}
				promote_character = ITA_alcide_de_gasperi
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_mario_scelba

			hidden_effect = {
				set_cosmetic_tag = ITA_neutrality
			}
		}
	}

	focus = {
		id = ITA_democratic_king
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = ITA_revoke_the_acerbo_law }
		mutually_exclusive = { focus = ITA_christian_democracy }
		x = 1
		y = 1
		relative_position_id = ITA_revoke_the_acerbo_law
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_ARMY_XP FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			every_owned_state = { #Compensating for ideology swap auto-eating half compliance
				limit = {
					has_resistance = yes
				}
				add_compliance = 10
			}
			
			add_political_power = 50
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
			}
			if = {
				limit = {
					has_character = ITA_vittorio_emanuele_iii
				}
				add_country_leader_role = {
					character = ITA_vittorio_emanuele_iii
					promote_leader = yes
					country_leader = {
						ideology = conservatism
						traits = { the_soldier_king }
						expire = "1965.1.1.1"
						id = -1
					}
				}
			}
			else = {
				ITA_promote_umberto_to_country_leader = yes
			}

			hidden_effect = {
				set_cosmetic_tag = ITA_neutrality
			}
		}
	}

	focus = {
		id = ITA_cooperate_with_moderates
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = ITA_christian_democracy focus = ITA_democratic_king }

		x = 0
		y = 1
		relative_position_id = ITA_christian_democracy
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_guido_de_ruggiero
			show_ideas_tooltip = ITA_alberto_de_stefani
			show_ideas_tooltip = ITA_curzio_malaparte
		}
	}

	focus = {
		id = ITA_expand_intelligence_services
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = ITA_democratic_king focus = ITA_christian_democracy }

		x = 0
		y = 1
		relative_position_id = ITA_democratic_king
		cost = 5
		available = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				has_intelligence_agency = yes
			}
		}

		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				swap_ideas = {
					remove_idea = ITA_political_reforms
					add_idea = ITA_political_reforms_intelligence
				}
				ITA_create_edgardo_sogno_operative = yes
			}
			else = {
				swap_ideas = {
					remove_idea = ITA_political_reforms
					add_idea = ITA_political_reforms_intelligence_no_lar
				}
			}
		}
	}

	focus = {
		id = ITA_crush_opposition
		icon = GFX_focus_eng_move_to_secure_the_dominions
		prerequisite = { focus = ITA_cooperate_with_moderates focus = ITA_expand_intelligence_services }

		x = 1
		y = 1
		relative_position_id = ITA_cooperate_with_moderates
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = ITA_gloria_al_regno_d_italia }
				}
				remove_ideas = ITA_shadow_of_mussolini
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_king_side
					}
				}
				ITA_bop_high_increase_king_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_king_umberto_side
					}
				}
				ITA_bop_high_increase_king_umberto_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_democratic_side
					}
				}
				ITA_bop_high_increase_democratic_side_effect = yes
			}
			else = {
				ITA_bop_high_increase_effect = yes
			}

			if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_grand_council_side
					}
				}
				hidden_effect = { #Remove all BoP modifiers from losing states
					ITA_bop_remove_lost_core_modifier = yes
				}
				custom_effect_tooltip = ITA_crush_opposition_bop_tt
			}
		}
	}

	focus = {
		id = ITA_power_to_the_king
		icon = GFX_focus_ITA_king_vittorio
		prerequisite = { focus = ITA_monarchia_d_italia }
		mutually_exclusive = { focus = ITA_revoke_the_acerbo_law }
		x = 5
		y = 0
		relative_position_id = ITA_revoke_the_acerbo_law
		cost = 5
		available = {
			neutrality > 0.5
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 75
			add_ideas = ITA_political_reforms_monarchist
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			unlock_decision_tooltip = ITA_vittorio_abdicate

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_alberto_de_stefani

			unlock_decision_tooltip = ITA_bop_privileges_for_the_elites
			unlock_decision_tooltip = ITA_bop_revoke_the_lateran_treaty
		}
	}

	focus = {
		id = ITA_disband_the_blackshirts
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		prerequisite = { focus = ITA_power_to_the_king focus = ITA_revoke_the_acerbo_law }
		mutually_exclusive = { focus = ITA_utilize_the_blackshirts }
		x = -2
		y = 1
		relative_position_id = ITA_power_to_the_king
		cost = 5
		available = {
			NOT = { has_completed_focus = ITA_battaglioni_d_assalto }
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = -0.5
			}
			delete_unit_template_and_units = {
				division_template = "Camicie Nere"
				disband = yes
			}

			if = {
				limit = {
					NOT = { has_completed_focus = ITA_revoke_the_acerbo_law }
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = ITA_alcide_de_gasperi

				custom_effect_tooltip = remove_political_advisor
				show_ideas_tooltip = ITA_renato_ricci
				show_ideas_tooltip = ITA_achille_starace
				show_ideas_tooltip = ITA_adelchi_serena
			}

			if = {
				limit = {
					has_completed_focus = ITA_seek_papal_support
				}
				unlock_decision_tooltip = ITA_bop_condemn_fascism
			}
		}
	}

	focus = {
		id = ITA_utilize_the_blackshirts
		icon = GFX_focus_generic_fascist_troops
		prerequisite = { focus = ITA_power_to_the_king }
		mutually_exclusive = { focus = ITA_disband_the_blackshirts }
		x = 0
		y = 1
		relative_position_id = ITA_power_to_the_king
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_stability = -0.05
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			army_experience = 15
			
			custom_effect_tooltip = ITA_blackshirts_div_cap_8_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 8 }
				set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				ITA_create_carmelo_borg_pisani_operative = yes
			}
		}
	}

	focus = {
		id = ITA_expand_the_royal_guard
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = ITA_disband_the_blackshirts focus = ITA_utilize_the_blackshirts }

		x = 1
		y = 1
		relative_position_id = ITA_disband_the_blackshirts
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}

		completion_reward = {
			custom_effect_tooltip = ITA_expand_the_royal_guard_re_tt
			add_to_variable = { ITA_re_modifier_army_sub_unit_cavalry_defence_factor = 0.05 }

			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}

			army_experience = 15

			show_unit_leaders_tooltip = ITA_giuseppe_pieche

			division_template = { 
				name = "Reggimento Corazzieri" 
				division_names_group = ITA_INF_01 #TODO_Manu

				regiments = { 
					cavalry = { x = 0 y = 0 }
					cavalry = { x = 0 y = 1 }
					cavalry = { x = 0 y = 2 }
					cavalry = { x = 1 y = 0 }
					cavalry = { x = 1 y = 1 }
					cavalry = { x = 1 y = 2 }
					mot_artillery_brigade = { x = 2 y = 0 }
				}
				support = {
					engineer = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
					anti_air = { x = 0 y = 2 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "division_template = \"Reggimento Corazzieri\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
					owner = ROOT
					count = 3
				}
			}
		}
	}

	focus = {
		id = ITA_gloria_al_regno_d_italia
		icon = GFX_focus_rom_royal_dictatorship
		prerequisite = { focus = ITA_expand_the_royal_guard focus = ITA_democratic_king }

		x = -2
		y = 1
		relative_position_id = ITA_expand_the_royal_guard
		cost = 5
		available = {
			ITA_is_ruled_by_a_monarchy = yes
			44 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			103 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 50
			if = {
				limit = {
					ITA_is_ruled_by_a_monarchy = yes
				}
				add_country_leader_trait = constitutional_monarch
			}
			else = {
				add_country_leader_trait = war_industrialist
			}

			if = {
				limit = {
					has_government = democratic
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					has_government = neutrality
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
			}

			if = {
				limit = {
					NOT = { has_completed_focus = ITA_crush_opposition }
				}
				remove_ideas = ITA_shadow_of_mussolini
			}

			if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_king_side
					}
				}
				ITA_bop_high_increase_king_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_king_umberto_side
					}
				}
				ITA_bop_high_increase_king_umberto_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_democratic_side
					}
				}
				ITA_bop_high_increase_democratic_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ITA_power_balance
						side = ITA_pope_side
					}
				}
				ITA_bop_high_increase_pope_side_effect = yes
			}
			else = {
				ITA_bop_high_increase_effect = yes
			}
		}
	}

	focus = {
		id = ITA_paramilitary_training
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = ITA_expand_the_royal_guard }
		prerequisite = { focus = ITA_utilize_the_blackshirts }

		x = 1
		y = 1
		relative_position_id = ITA_expand_the_royal_guard
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_paramilitary_training_re_tt
			add_to_variable = { ITA_re_modifier_army_sub_unit_militia_defence_factor = 0.05 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_militia_attack_factor = 0.05 }

			custom_effect_tooltip = ITA_blackshirts_div_cap_8_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 8 }
				set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }
			}
			show_unit_leaders_tooltip = ITA_prince_filiberto
		}
	}

	focus = {
		id = ITA_seek_papal_support
		icon = GFX_focus_por_concordat
		prerequisite = { focus = ITA_power_to_the_king }

		x = 2
		y = 1
		relative_position_id = ITA_power_to_the_king
		cost = 5
		available = {
			NOT = { has_country_flag = ITA_revoked_lateran_treaty_flag }
			NOT = { country_exists = PAP }
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_ideas = ITA_papal_support

			#BoP
			set_power_balance = {
				id = ITA_power_balance
				left_side = ITA_pope_side
			}
			#If BoP was towards Grand Council, set it to 0
			if = {
				limit = {
					power_balance_value = {
						id = ITA_power_balance
						value < 0 # accepts <, > or =
					}
				}
				set_power_balance = {
					id = ITA_power_balance
					set_value = 0
				}
			}
			hidden_effect = { #Remove all BoP modifiers from losing states
				ITA_bop_remove_lost_core_modifier = yes
			}
			unlock_decision_tooltip = ITA_bop_expand_the_lateran_treaty
			if = {
				limit = {
					has_completed_focus = ITA_disband_the_blackshirts
				}
				unlock_decision_tooltip = ITA_bop_condemn_fascism
			}

			custom_effect_tooltip = ITA_cannot_release_pap_tt
		}
	}

	focus = {
		id = ITA_agents_of_the_church
		icon = GFX_focus_generic_vatican_agents
		prerequisite = { focus = ITA_seek_papal_support }

		x = 0
		y = 1
		relative_position_id = ITA_seek_papal_support
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			swap_ideas = { 
				remove_idea = ITA_papal_support
				add_idea = ITA_papal_support_agents
			}
			ITA_create_hugh_o_flaherty_operative = yes
		}
		else = {
			swap_ideas = {
				remove_idea = ITA_papal_support
				add_idea = ITA_papal_support_agents_no_lar
			}
		}


			ITA_bop_very_low_increase_pope_side_effect = yes
		}
	}

	focus = {
		id = ITA_strengthen_the_papacy
		icon = GFX_focus_generic_pope
		prerequisite = { focus = ITA_agents_of_the_church }

		x = 0
		y = 1
		relative_position_id = ITA_agents_of_the_church
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				swap_ideas = {
					remove_idea = ITA_papal_support_agents
					add_idea = ITA_papal_support_strengthened
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ITA_papal_support_agents_no_lar
					add_idea = ITA_papal_support_strengthened_no_lar
				}
			}
			
			ITA_bop_medium_increase_pope_side_effect = yes

			unlock_decision_tooltip = ITA_bop_liturgical_reforms
		}
	}

	focus = {
		id = ITA_setting_course
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = ITA_gloria_al_regno_d_italia focus = ITA_crush_opposition focus = ITA_strengthen_the_papacy }

		x = -1
		y = 2
		relative_position_id = ITA_gloria_al_regno_d_italia
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_war_support = 0.05
			army_experience = 25
			air_experience = 25
			navy_experience = 25
			add_timed_idea = {
				idea = ITA_setting_course_ns
				days = 365
			}
			
		}
	}

	focus = {
		id = ITA_mare_nostrum_bba
		icon = GFX_focus_ITA_mare_nostrum
		prerequisite = { focus = ITA_setting_course focus = ITA_strengthen_the_regime focus = ITA_blackshirt_loyalty }
		mutually_exclusive = { 
			focus = ITA_towards_a_greater_italy
			focus = ITA_keep_the_course
			focus = ITA_helmsman_died
			focus = ITA_ciano_reinstated
			focus = ITA_standard_of_truth
		}
		x = 31
		y = 0
		offset = {
			x = -25
			y = 0
			trigger = {
				OR = {
					NOT = { has_dlc = "By Blood Alone" }
					AND = {
						has_dlc = "By Blood Alone"
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
						OR = {
							has_completed_focus = ITA_convene_the_grand_council
							has_completed_focus = ITA_culto_del_duce
						}
					}
					is_ai = no
				}
				#is_ai = no
			}
		}
		#relative_position_id = ITA_setting_course #Better to use the other one for hiding branches
		relative_position_id = ITA_towards_a_greater_italy
		cost = 5
		available = {
			any_owned_state = {
				is_controlled_by = ROOT
				dockyard > 0
			}
			is_subject = no

			custom_trigger_tooltip = {

			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_rule = can_create_factions }
				}
				set_rule = { can_create_factions = yes }
			}
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = "italy_empire_faction"
			}

			unlock_decision_tooltip = form_roman_empire

			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}

			add_tech_bonus = { #Changed to require the tech to complete this focus, and give template and production line
				name = ITA_mare_nostrum_bba
				ahead_reduction = 2
				bonus = 1.0
				uses = 1
				technology = super_heavy_tank_chassis
			}
			add_tech_bonus = { #Changed to require the tech to complete this focus, and give template and production line
				name = ITA_mare_nostrum_bba
				ahead_reduction = 2
				bonus = 1.0
				uses = 1
				category = heavy_air
			}
			add_tech_bonus = { #Changed to require the tech to complete this focus, and give template and production line
				name = ITA_mare_nostrum_bba
				bonus = 1.0
				uses = 1
				technology = ship_hull_super_heavy
			}

			if = {
				limit = {
					has_rule = can_only_justify_war_on_threat_country
				}
				set_rule = { can_only_justify_war_on_threat_country = no }
			}
			if = {
				limit = {
					NOT = { has_rule = can_declare_war_on_same_ideology }
				}
				set_rule = { can_declare_war_on_same_ideology = yes }
			}
			if = {
				limit = {
					NOT = { has_rule = can_send_volunteers }
				}
				set_rule = { can_send_volunteers = yes }
			}
		}
	}

	focus = {
		id = ITA_auxiliaries
		icon = GFX_focus_ETH_peacekeeping_forces
		prerequisite = { focus = ITA_mare_nostrum_bba }

		x = -2
		y = 1
		relative_position_id = ITA_mare_nostrum_bba
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_ITA_auxiliaries_re_tt
			add_to_variable = { ITA_re_modifier_army_sub_unit_militia_speed_factor = 0.05 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_militia_attack_factor = 0.03 }

			custom_effect_tooltip = ITA_blackshirts_div_cap_12_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 12 }
				set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }
			}
		}
	}

	focus = {
		id = ITA_the_italian_legions
		icon = GFX_focus_generic_fascist_troops
		prerequisite = { focus = ITA_mare_nostrum_bba }

		x = 0
		y = 1
		relative_position_id = ITA_mare_nostrum_bba
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_the_italian_legions_re_tt
			add_to_variable = { ITA_re_army_core_defence_factor = 0.05 }
			add_to_variable = { ITA_re_army_speed_factor = 0.05 }
			add_to_variable = { ITA_re_max_command_power_mult = 0.15 }
		}
	}

	focus = {
		id = ITA_new_roman_citizens
		icon = GFX_focus_ETH_invite_italian_settlers
		prerequisite = { focus = ITA_mare_nostrum_bba }

		x = 2
		y = 1
		relative_position_id = ITA_mare_nostrum_bba
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			every_controlled_state = {
				limit = {
					resistance > 0
					is_fully_controlled_by = ROOT
				}
				add_compliance = 5
				add_resistance_target = -10
			}
		}
	}

	focus = {
		id = ITA_all_roads_lead_to_rome
		icon = GFX_focus_generic_spread_fascism
		prerequisite = { focus = ITA_the_italian_legions }

		x = 0
		y = 1
		relative_position_id = ITA_the_italian_legions
		cost = 10
		available = {
			has_full_control_of_state = 2
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			custom_effect_tooltip = ITA_all_roads_lead_to_rome_iri_tt
			add_to_variable = { ITA_iri_production_speed_infrastructure_factor = 0.1 }

			custom_effect_tooltip = ITA_all_roads_lead_to_rome_re_tt
			add_to_variable = { ITA_re_supply_node_range = 0.1 }

			custom_effect_tooltip = ITA_all_roads_lead_to_rome_wargoals_tt
			if = {
				limit = {
					any_other_country = {
						capital_scope = { is_on_continent = europe }
						NOT = {
							is_in_faction_with = ROOT
							has_guaranteed = ROOT
							is_guaranteed_by = ROOT
							has_non_aggression_pact_with = ROOT
							has_war_with = ROOT
						}
					}
				}
				custom_effect_tooltip = generic_current_effects
				custom_effect_tooltip = generic_ROOT_gains_wargoal_tt
				every_neighbor_country = {
					limit = {
						capital_scope = { is_on_continent = europe }
						NOT = {
							is_in_faction_with = ROOT
							has_guaranteed = ROOT
							is_guaranteed_by = ROOT
							has_non_aggression_pact_with = ROOT
							has_war_with = ROOT
						}
					}
					hidden_effect = {
						ROOT = {
							create_wargoal = {
								type = annex_everything
								target = PREV
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_the_king_of_the_skies
		icon = GFX_focus_generic_long_range_aircraft
		prerequisite = { focus = ITA_all_roads_lead_to_rome }

		x = -2
		y = 1
		relative_position_id = ITA_all_roads_lead_to_rome
		cost = 10
		available = {
			has_full_control_of_state = 2
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				has_tech = advanced_large_airframe
				has_tech = engines_4
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = ITA_the_king_of_the_skies
				ahead_reduction = 2
				bonus = 1.0
				uses = 1
				category = heavy_air
			}
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = ITA_the_king_of_the_skies_military_industry_dm_tt
				hidden_effect = {
					add_ideas = ITA_hidden_super_heavy_aircraft_ns
				}

				ITA_add_the_king_of_the_skies_template_production_and_wing = yes
			}
		}
	}

	focus = {
		id = ITA_modern_musculus
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = ITA_all_roads_lead_to_rome }

		x = 0
		y = 1
		relative_position_id = ITA_all_roads_lead_to_rome
		cost = 10
		available = {
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				has_tech = super_heavy_tank_chassis
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				#add_tech_bonus = { #Changed to require the tech to complete this focus, and give template and production line
				#	name = ITA_modern_musculus
				#	ahead_reduction = 2
				#	bonus = 1.0
				#	uses = 1
				#	technology = super_heavy_tank_chassis
				#}
				custom_effect_tooltip = ITA_modern_musculus_military_industry_dm_tt
				hidden_effect = {
					add_ideas = ITA_hidden_super_heavy_tank_ns
				}
				ITA_add_modern_musculus_sh_tank_template_and_production = yes
			}
			else = {
				add_tech_bonus = {
					name = ITA_modern_musculus
					ahead_reduction = 2
					bonus = 1.0
					uses = 1
					technology = super_heavy_tank
					technology = super_heavy_td
					technology = super_heavy_art
					technology = super_heavy_spaa
				}
			}
		}
	}

	focus = {
		id = ITA_caligulas_pride
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = ITA_all_roads_lead_to_rome }

		x = 2
		y = 1
		relative_position_id = ITA_all_roads_lead_to_rome
		cost = 5
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				has_tech = ship_hull_super_heavy
			}
			else = {
				has_tech = heavy_battleship
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = ITA_caligulas_pride
					ahead_reduction = 2
					bonus = 1.0
					uses = 1
					category = bb_tech
					category = bc_tech
					category = cat_ship_heavy_battery
				}
				custom_effect_tooltip = ITA_caligulas_pride_military_industry_dm_tt
				hidden_effect = {
					add_ideas = ITA_hidden_super_heavy_bb_ns
				}

				create_equipment_variant = {
					name = "Neptunus Class"
					type = ship_hull_super_heavy_1
					name_group = ITA_BB_HISTORICAL #TODO_Manu: Namelist?
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
					modules = {
						front_1_custom_slot = ship_anti_air_2
						front_2_custom_slot = ship_super_heavy_battery_1
						mid_1_custom_slot = ship_secondaries_2
						mid_2_custom_slot = ship_secondaries_2
						mid_3_custom_slot = ship_anti_air_2
						rear_1_custom_slot = ship_super_heavy_battery_1
						rear_2_custom_slot = ship_airplane_launcher_2
						fixed_ship_battery_slot = ship_super_heavy_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = ship_radar_1
						fixed_ship_engine_slot = heavy_ship_engine_3
						fixed_ship_secondaries_slot = dp_ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_shbb
					}
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "ITA"
						version_name = "Neptunus Class"
					}
					name = "Neptunus"
					requested_factories = 2
					progress = 0.6
					amount = 1
				}
			}
			else = {
				if = {
					limit = {
						NOT = { has_tech = heavy_battleship2 }
					}
					add_tech_bonus = {
						name = ITA_caligulas_pride
						ahead_reduction = 2
						bonus = 1.0
						uses = 1
						category = shbb_tech
					}
				}

				create_equipment_variant = {
					name = "Neptunus Class"
					type = SH_battleship_1
					allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
					upgrades = {
						ship_reliability_upgrade = 2
						ship_engine_upgrade = 2
						ship_armor_upgrade = 3
						ship_gun_upgrade = 3
					}
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = SH_battleship_1
						creator = "ITA"
						version_name = "Neptunus Class"
					}
					name = "Neptunus"
					requested_factories = 2
					progress = 0.6
					amount = 1
				}
			}
		}
	}

	focus = {
		id = ITA_iberian_protection
		icon = GFX_focus_generic_free_iberia
		prerequisite = { focus = ITA_mare_nostrum_bba focus = ITA_deus_vult }

		x = 4
		y = 2
		relative_position_id = ITA_mare_nostrum_bba
		cost = 5
		available = {
			any_country = {
				OR = {
					original_tag = POR
					original_tag = SPR
				}
				exists = yes
				has_civil_war = no
				is_in_faction = no
				NOT = {
					has_war_with = ROOT
					is_justifying_wargoal_against = ROOT
				}
			}
		}

		search_filters = {}

		completion_reward = { 
			every_country = {
				limit = {
					OR = {
						original_tag = POR
						original_tag = SPR 
					}
					has_civil_war = no
					is_in_faction = no
					NOT = {
						has_war_with = ROOT
						is_justifying_wargoal_against = ROOT
					}
				}
				country_event = {
				    id = BBA_italy_interaction_events.41
				    days = 2
				    random = 6
				}
			}
			IF = {
				limit = {
					has_completed_focus = ITA_deus_vult
					is_faction_leader = no
				}
				create_faction = ITA_papal_faction 
			}
			IF = {
				limit = {
					has_completed_focus = ITA_mare_nostrum_bba
					is_faction_leader = no
				}
				create_faction = ITA_roman_faction
			}
		}
	}

	focus = {
		id = ITA_south_american_alliances
		icon = GFX_focus_por_recover_latin_america
		prerequisite = { focus = ITA_iberian_protection }

		x = 0
		y = 1
		relative_position_id = ITA_iberian_protection
		cost = 10
		available = {
			#NOT adding requirements here since it's a final focus and it would really overrcrowd tt
		}

		search_filters = {}

		completion_reward = {
			every_country = {
				limit = {
					exists = yes
					OR = {
						original_tag = BRA
						original_tag = ARG
						original_tag = URG
						original_tag = PAR
						original_tag = CHL
						original_tag = BOL
						original_tag = PRU
						original_tag = ECU
						original_tag = COL
						original_tag = VEN
						original_tag = CRC
						original_tag = TRI
						original_tag = GYA
						original_tag = SUR
						original_tag = CAY
						original_tag = PAN
					}
					is_in_faction = no
					NOT = {
						has_war_with = ROOT
						is_justifying_wargoal_against = ROOT
					}
				}
				add_opinion_modifier = {
				    target = ITA
				    modifier = ITA_latin_initiatives
				}
				country_event = { 
				    id = BBA_italy_interaction_events.44
				    days = 2
				    random = 6
				}
			}
		}
	}

	focus = {
		id = ITA_the_papacy_reborn
		icon = GFX_focus_generic_vatican_state
		prerequisite = { focus = ITA_strengthen_the_papacy }
		x = 0
		y = 3
		relative_position_id = ITA_strengthen_the_papacy
		cost = 5

		allow_branch = {
			has_country_flag = ITA_pope_took_over_italy_flag
		}

		available = {
			ITA_is_ruled_by_a_pope = yes
			is_subject = no
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_rule = can_create_factions
				}
				set_rule = { can_create_factions = yes }
			}

			add_political_power = 75
			add_popularity = {
				ideology = neutrality
				popularity = 0.15
			}
			2 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = bunker
					level = 3
					province = 9904
					instant_build = yes
				}
				if = {
					limit = {
						anti_air_building < 5
					}
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}
			set_cosmetic_tag = papal_states

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				swap_ideas = {
					remove_idea = ITA_papal_support_strengthened
					add_idea = ITA_papal_state
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ITA_papal_support_strengthened_no_lar
					add_idea = ITA_papal_state_no_lar
				}
			}
			
			ITA_bop_low_increase_pope_side_effect = yes
		}
	}

	focus = {
		id = ITA_deus_vult
		icon = GFX_focus_spr_torchbearers_of_tomorrow
		prerequisite = { focus = ITA_the_papacy_reborn }

		x = 0
		y = 1
		relative_position_id = ITA_the_papacy_reborn
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				swap_ideas = {
					remove_idea = ITA_papal_state
					add_idea = ITA_papal_state_deus_vult
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ITA_papal_state_no_lar
					add_idea = ITA_papal_state_deus_vult_no_lar
				}
			}
		}
	}

	focus = {
		id = ITA_il_vento_aureo
		icon = GFX_focus_generic_air_defense
		prerequisite = { focus = ITA_deus_vult }

		x = 4
		y = 1
		relative_position_id = ITA_deus_vult
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 15

			add_ideas = ITA_vento_aureo
			
			if = {
				limit = {
					has_rule = can_only_justify_war_on_threat_country
				}
				set_rule = { can_use_kamikaze_pilots = yes }
			}
		}
	}

	focus = {
		id = ITA_catholic_action
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = ITA_the_papacy_reborn }

		x = 2
		y = 1
		relative_position_id = ITA_the_papacy_reborn
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			set_variable = { ITA_re_army_morale_factor = 0.05 }
			set_variable = { ITA_re_conscription_factor = 0.1 }
			custom_effect_tooltip = ITA_catholic_action_re_tt
		}
	}

	focus = {
		id = ITA_a_time_for_war
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = ITA_deus_vult }

		x = 0
		y = 1
		relative_position_id = ITA_deus_vult
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = ITA_a_time_for_war_tt
			if = {
				limit = {
					any_other_country = {
						capital_scope = {
							is_on_continent = europe
						}
						NOT = {
							is_in_faction_with = ROOT
							is_guaranteed_by = ROOT
							has_guaranteed = ROOT
							has_non_aggression_pact_with = ROOT
						}
						ITA_is_protestant_or_orthodox_country_in_europe_for_pope = yes
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_other_country = {
					limit = {
						capital_scope = {
							is_on_continent = europe
						}
						NOT = {
							is_in_faction_with = ROOT
							is_guaranteed_by = ROOT
							has_guaranteed = ROOT
							has_non_aggression_pact_with = ROOT
						}
						ITA_is_protestant_or_orthodox_country_in_europe_for_pope = yes
					}
					ROOT = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV 
						}
					}
				}
			}
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				
				custom_effect_tooltip = ITA_modern_musculus_military_industry_dm_tt
				hidden_effect = {
					add_ideas = ITA_hidden_super_heavy_tank_ns
				}

				if = {
					limit = {
						has_tech = super_heavy_tank_chassis
					}
					#SH template
					ITA_add_hand_of_god_sh_tank_template_and_production = yes
				}
				else = {
					custom_effect_tooltip = ITA_focus_sh_tank_template_tt
					effect_tooltip = {
						ITA_add_hand_of_god_sh_tank_template_and_production = yes
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = ITA_a_time_for_war
					ahead_reduction = 2
					bonus = 1.0
					uses = 1
					technology = super_heavy_tank
					technology = super_heavy_td
					technology = super_heavy_art
					technology = super_heavy_spaa
				}
			}
		}
	}

	focus = {
		id = ITA_the_holy_lands
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = ITA_deus_vult }

		x = 2
		y = 1
		relative_position_id = ITA_deus_vult
		cost = 10
		available = {
			OR = {
				AND = {
					owns_state = 454
					has_full_control_of_state = 454
				}
				454 = {
					is_fully_controlled_by = owner
					owner = {
						NOT = {
							has_war_with = ROOT
						}
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					NOT = { owns_state = 454 }
					454 = {
						is_fully_controlled_by = owner
						owner = {
							NOT = {
								has_war_with = ROOT
							}
						}
					}
				}
				454 = {
					owner = {
						country_event = { id = BBA_italy_interaction_events.666 hours = 6 random_hours = 2 }
					}
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					transfer_state = 454 #PALESTINE
					add_war_support = 0.03
					454 = {
						set_state_category = town
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = bunker
							level = 2
							province = 4206
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 1086
							instant_build = yes
						}
						if = {
							limit = {
								anti_air_building < 5
							}
							add_building_construction = {
								type = anti_air_building
								level = 1
								instant_build = yes
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 454
					has_full_control_of_state = 454
				}
				add_war_support = 0.03
				454 = {
					set_state_category = town
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = bunker
						level = 2
						province = 4206
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 1086
						instant_build = yes
					}
					if = {
						limit = {
							anti_air_building < 5
						}
						add_building_construction = {
							type = anti_air_building
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_the_catholic_dominion
		icon = GFX_focus_generic_catholic_dominion
		prerequisite = { focus = ITA_a_time_for_war }
		prerequisite = { focus = ITA_the_holy_lands }

		x = 1
		y = 1
		relative_position_id = ITA_a_time_for_war
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			unlock_decision_tooltip = form_roman_empire
			if = {
				limit = {
					has_dlc = "La Resistance"					
				}
				swap_ideas = {
					remove_idea = ITA_papal_state_deus_vult
					add_idea = ITA_papal_state_catholic_dominion
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ITA_papal_state_deus_vult_no_lar
					add_idea = ITA_papal_state_catholic_dominion_no_lar
				}
			}
			custom_effect_tooltip = ITA_papal_state_catholic_dominion_puppet_discount_tt

			ITA_bop_medium_increase_pope_side_effect = yes
		}
	}






########  #######  ########  ######## ####  ######   ##    ##    ########   #######  ##       #### ######## ####  ######   ######     ########  ####  ######   ##     ## ######## 
##       ##     ## ##     ## ##        ##  ##    ##  ###   ##    ##     ## ##     ## ##        ##     ##     ##  ##    ## ##    ##    ##     ##  ##  ##    ##  ##     ##    ##    
##       ##     ## ##     ## ##        ##  ##        ####  ##    ##     ## ##     ## ##        ##     ##     ##  ##       ##          ##     ##  ##  ##        ##     ##    ##    
######   ##     ## ########  ######    ##  ##   #### ## ## ##    ########  ##     ## ##        ##     ##     ##  ##        ######     ########   ##  ##   #### #########    ##    
##       ##     ## ##   ##   ##        ##  ##    ##  ##  ####    ##        ##     ## ##        ##     ##     ##  ##             ##    ##   ##    ##  ##    ##  ##     ##    ##    
##       ##     ## ##    ##  ##        ##  ##    ##  ##   ###    ##        ##     ## ##        ##     ##     ##  ##    ## ##    ##    ##    ##   ##  ##    ##  ##     ##    ##    
##        #######  ##     ## ######## ####  ######   ##    ##    ##         #######  ######## ####    ##    ####  ######   ######     ##     ## ####  ######   ##     ##    ##    


	focus = {
		id = ITA_foreign_affairs
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = ITA_triumph_in_africa_bba focus = ITA_conspiracies_in_the_shadows }

		allow_branch = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = ITA_defy_the_duce }
			}
		}

		x = 56
		y = 1
		offset = {
			x = -33
			y = 0
			trigger = {
				OR = {
					NOT = { has_dlc = "By Blood Alone" }
					AND = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
						has_completed_focus = ITA_culto_del_duce
					}
					is_ai = no
				}
			}
		}
		offset = {
			x = -12
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ITA_convene_the_grand_council
			}
		}
		relative_position_id = ITA_triumph_in_africa_bba
		cost = 4
		available = {
			NOT = {
				has_completed_focus = ITA_unite_the_opposition
				has_completed_focus = ITA_defy_the_duce
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_gian_galeazzo_ciano

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = ITA_foreign_affairs_focus_lock_tt
			}
		}
	}

	focus = {
		id = ITA_balkan_ambition
		icon = GFX_focus_generic_balkans_focus
		prerequisite = { focus = ITA_foreign_affairs }
		mutually_exclusive = { focus = ITA_potential_allies_in_the_balkans }

		x = -1
		y = 1
		relative_position_id = ITA_foreign_affairs
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			add_state_claim = 102 #NORTH SLOVENIA
			add_state_claim = 853 #LJUBLJANA
			add_state_claim = 103 #DALMATIA
			add_state_claim = 105 #MONTENEGRO

			if = {
				limit = {
					country_exists = CRO
					OR = {
						103 = { is_fully_controlled_by = CRO }
						105 = { is_fully_controlled_by = CRO }
					}
				}
				activate_targeted_decision = { target = CRO decision = ITA_send_ultimatum_to_country_balkan }
			}
			if = {
				limit = {
					country_exists = MNT
					OR = {
						103 = { is_fully_controlled_by = MNT }
						105 = { is_fully_controlled_by = MNT }
					}
				}
				activate_targeted_decision = { target = MNT decision = ITA_send_ultimatum_to_country_balkan }
			}
			if = {
				limit = {
					country_exists = YUG
					OR = {
						103 = { is_fully_controlled_by = YUG }
						105 = { is_fully_controlled_by = YUG }
					}
				}
				activate_targeted_decision = { target = YUG decision = ITA_send_ultimatum_to_country_balkan }
			}	
		}
	}

	focus = {
		id = ITA_potential_allies_in_the_balkans
		icon = GFX_focus_generic_balkan_diplomacy
		prerequisite = { focus = ITA_foreign_affairs }
		mutually_exclusive = { focus = ITA_balkan_ambition }

		x = 1
		y = 1
		relative_position_id = ITA_foreign_affairs
		cost = 1
		available = {
		}

		search_filters = {}

		completion_reward = { #Changing stuff here will require changing stuff in History file for 1939 bookmark
			YUG = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = neutrality } }
					add_timed_idea = { idea = neutrality_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
			ROM = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = neutrality } }
					add_timed_idea = { idea = neutrality_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
			BUL = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = neutrality } }
					add_timed_idea = { idea = neutrality_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}


			activate_targeted_decision = { target = YUG decision = ITA_pressure_country_government_balkan }
			activate_targeted_decision = { target = ROM decision = ITA_pressure_country_government_balkan }
			activate_targeted_decision = { target = BUL decision = ITA_pressure_country_government_balkan }
			activate_targeted_decision = { target = YUG decision = ITA_promote_ideology_rallies_balkan }
			activate_targeted_decision = { target = ROM decision = ITA_promote_ideology_rallies_balkan }
			activate_targeted_decision = { target = BUL decision = ITA_promote_ideology_rallies_balkan }
		}
	}

	focus = {
		id = ITA_albanian_occupation
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = ITA_potential_allies_in_the_balkans focus = ITA_balkan_ambition }

		x = -12
		y = 1
		relative_position_id = ITA_potential_allies_in_the_balkans
		cost = 2
		available = {
		}

		bypass = {
			44 = { state_is_fully_controlled_by_ROOT_or_subject = yes }
		}

		search_filters = {FOCUS_FILTER_ANNEXATION FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER}

		completion_reward = {
			if = {
				limit = {
					ALB = { has_war = no }
				}
				ALB = { country_event = { id = italy.3 hours = 1 } }
			}
			else = {
				create_wargoal = {
					type = take_state_focus
					target = ALB
					generator = { 44 }
				}
			}

			effect_tooltip = {
				custom_effect_tooltip = if_they_accept_tt
				annex_country = { target = ALB }
				add_named_threat = { threat = 2 name = ITA_albania_war_goal }
				# The king is an idea
				if = {
					limit = {
						has_idea = vittorio_emanuele
					}
					swap_ideas = {
						remove_idea = vittorio_emanuele
						add_idea = vittorio_emanuele_king_of_albania
					}
				}
				else_if = {
					limit = {
						has_idea = vittorio_emanuele_emperor_of_ethiopia
					}
					swap_ideas = {
						remove_idea = vittorio_emanuele_emperor_of_ethiopia
						add_idea = vittorio_emanuele_albania_ethiopia
					}
				}
				if = {
					limit = {
				 		has_character = ITA_vittorio_emanuele_iii
					}
					ITA_vittorio_emanuele_iii = { add_country_leader_trait = king_of_albania }
				}
			}
		}
	}

	focus = {
		id = ITA_albanian_oil
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = ITA_albanian_occupation }

		x = -2
		y = 1
		relative_position_id = ITA_albanian_occupation
		cost = 2
		available = {
			44 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			has_tech = synth_oil_experiments
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			44 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = oil
					amount = 2
				}
			}
		}
	}

	focus = {
		id = ITA_support_albanian_irredentism
		icon = GFX_focus_ITA_albanian_irredentism
		prerequisite = { focus = ITA_albanian_occupation }

		x = 0
		y = 1
		relative_position_id = ITA_albanian_occupation
		cost = 2
		available = {
			44 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {}

		completion_reward = {
			add_state_claim = 802 #KOSOVO
			add_state_claim = 106 #MACEDONIA
			add_state_claim = 185 #EPIRUS
			add_state_claim = 105 #MONTENEGRO

			hidden_effect = { #Representing the Albanian Irredentism recognized by ITA.
				ALB = {
					add_state_claim = 802 #KOSOVO
					add_state_claim = 106 #MACEDONIA
					add_state_claim = 185 #EPIRUS
					add_state_claim = 105 #MONTENEGRO
				}
			}

			every_state = {
				limit = {
					OR = {
						is_core_of = ALB
						is_claimed_by = ALB
					}
					is_fully_controlled_by = ROOT
				}
				add_compliance = 10
			}

			if = {
				limit = {
					ALB = { is_subject_of = ROOT }
				}
				ALB = {
					add_opinion_modifier = { target = ROOT modifier = ITA_supports_albanian_irredentism }
					add_autonomy_score = {
						value = -30
						localization = ITA_support_albanian_irredentism
					}
					if = {
						limit = { ROOT = { has_government = fascism } }
						add_timed_idea = { idea = fascist_influence days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = democratic } }
						add_timed_idea = { idea = democratic_influence days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = communism } }
						add_timed_idea = { idea = communist_influence days = 1095 }
					}
					country_event = { id = generic.1 }
				}
			}
			else = {
				custom_effect_tooltip = ITA_support_albanian_irredentism_subject_effects_tt
				effect_tooltip = {
					ALB = {
						add_opinion_modifier = { target = ROOT modifier = ITA_supports_albanian_irredentism }
						add_autonomy_score = {
							value = -30
							localization = ITA_support_albanian_irredentism
						}
						if = {
							limit = { ROOT = { has_government = fascism } }
							add_timed_idea = { idea = fascist_influence days = 1095 }
						}
						if = {
							limit = { ROOT = { has_government = democratic } }
							add_timed_idea = { idea = democratic_influence days = 1095 }
						}
						if = {
							limit = { ROOT = { has_government = communism } }
							add_timed_idea = { idea = communist_influence days = 1095 }
						}
						country_event = { id = generic.1 }
					}
				}
			}
		}
	}

	focus = {
		id = ITA_albanian_fascist_militia
		icon = GFX_focus_ITA_albanian_fascist_militia
		prerequisite = { focus = ITA_support_albanian_irredentism }

		x = 0
		y = 1
		relative_position_id = ITA_support_albanian_irredentism
		cost = 2
		available = {
			44 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = ITA_regional_development }
				}
				custom_effect_tooltip = ITA_albanian_fascist_militia_occupation_law_full_tt
				show_ideas_tooltip = ITA_fake_colonial_police_law
			}
			else = {
				custom_effect_tooltip = ITA_albanian_fascist_militia_occupation_law_tt
			}

			every_controlled_state = {
				limit = {
					is_core_of = ALB
					is_fully_controlled_by = ROOT
				}
				#set_occupation_law = colonial_police #MM: Not working
				add_compliance = 10
			}

			#custom_effect_tooltip = ITA_blackshirts_div_cap_8_tt
			#hidden_effect = {
			#	add_to_variable = { ITA_militias_cap = 8 }
			#	set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }
			#}

			44 = {
				custom_effect_tooltip = ITA_albanian_fascist_militia_spawn_divs_tt
				hidden_effect = {
					create_unit = { #Historically 14 battalions
						division = "division_template = \"Camicie Nere\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 3
					}
				}
			}
		}
	}

	focus = {
		id = ITA_guarantee_austrian_independence
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = ITA_potential_allies_in_the_balkans focus = ITA_balkan_ambition }
		mutually_exclusive = { focus = ITA_pact_of_steel focus = ITA_italy_first }
		x = -10
		y = 1
		relative_position_id = ITA_potential_allies_in_the_balkans
		cost = 5
		available = {
			country_exists = AUS
			NOT = { has_war_with = AUS }
		}		 

		search_filters = {} 

		completion_reward = {
			give_guarantee = AUS
			custom_effect_tooltip = ITA_austrian_guarantees_tt
		}
	}


	focus = {
		id = ITA_negotiate_italian_claims
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = ITA_guarantee_austrian_independence }

		x = 0
		y = 1
		relative_position_id = ITA_guarantee_austrian_independence
		cost = 10
		available = { 
			NOT = {
				has_war_with = ENG
				has_war_with = FRA
			}
		}

		bypass = {
			OR = {
				ENG = {
					OR = {
						country_exists = no
						is_subject = yes
					}
				}
				FRA = {
					OR = {
						country_exists = no
						is_subject = yes
					}
				}
				AND = {
					custom_trigger_tooltip = {
						tooltip = ITA_ENG_must_control_necessary_states_tt
						ENG = {
							NOT = {
								controls_state = 269 
								controls_state = 903
								controls_state = 906
								controls_state = 116 
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = ITA_FRA_must_control_necessary_states_tt
						FRA = {
							NOT = {
								controls_state = 268
								controls_state = 458
								controls_state = 665
							}
						}
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			if = { #Send this event if ETH is hosted by ENG and ITA is at war with ETH
				limit = { #UK or an ally is hosting exiled Ethiopia
					ITA_hosting_exiled_ethiopia = yes
					ROOT = {
						has_war_with = ETH
					}
				}
				ENG = {
					country_event = { id = BBA_italy_interaction_events.50 hours = 1 }
				}
			}
			else_if = { #Send this event if ITA isn't at war with ETH or ETH isn't hosted by ENG
				limit = {
					ENG = {
						controls_state = 269
						controls_state = 903	
					}
				}
				ENG = {
					country_event = { id = BBA_italy_interaction_events.31 hours = 1 }
				}
			}
			else_if = { #If Britain didn't have the necessary state(s), send this event
				limit = {
					FRA = {
						controls_state = 268
					}
				}
				FRA = {
					country_event = {
					    id = BBA_italy_interaction_events.32
					    days = 3
					    random = 6
					}
				}
			}
			else_if = { #If France didn't have the necessary state(s), send this event
				limit = {
					ENG = {
						controls_state = 906
					}
				}
				ENG = {
					country_event = {
					    id = BBA_italy_interaction_events.33
					    days = 3
					    random = 6
					}
				}
			}
			else_if = { #If Britain didn't have the necessary state(s), send this event
				limit = {
					FRA = {
						controls_state = 458
						controls_state = 665
					}
				}
				FRA = {
					country_event = {
					    id = BBA_italy_interaction_events.34
					    days = 3
					    random = 6
					}
				}
			}
			else_if = { #If France didn't have the necessary state(s), send this event
				limit = {
					ENG = {
						controls_state = 116
					}
				}
				ENG = {
					country_event = {
					    id = BBA_italy_interaction_events.35
					    days = 3
					    random = 6
					}
				}
			}
			else = { #If Britain didn't have the necessary state(s), send this event
				FRA = {
					country_event = { #Balkan claims event
					    id = BBA_italy_interaction_events.36
					    days = 3
					    random = 6
					}
				}
			}
		}
	}

	focus = {
		id = ITA_ratify_the_stresa_front
		icon = GFX_focus_focus_fra_ratify_stresa
		prerequisite = { focus = ITA_negotiate_italian_claims }

		x = 0
		y = 1
		relative_position_id = ITA_negotiate_italian_claims
		cost = 10
		available = {
			OR = {
				AND = {
					NOT = {
						has_war_with = ENG
						has_war_with = FRA
					}
					FRA = {
						is_in_faction_with = ENG
					} 
				}
				AND = {
					NOT = {
						has_war_with = FRA
					}
					FRA = {
						NOT = {
							is_in_faction_with = ENG
						}
					}
				}
			}
		}

		bypass = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = FRA
			}
		}

		search_filters = {}

		completion_reward = {
			FRA = {
				country_event = {
					id = BBA_italy_interaction_events.40
				    days = 3
				    random = 6
				}
			}
			effect_tooltip = {
				every_country = { #If Italy has any wargoal on other countries, remove them so they can join the faction
					limit = {
						OR = {
							is_in_faction_with = FRA
							tag = FRA
						} 
						ROOT = {
							has_wargoal_against = PREV
						}
					}
					custom_effect_tooltip = if_they_accept_tt
					ROOT = {
						remove_wargoal = {
							type = all
							target = PREV 
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_joint_military_programs
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = ITA_ratify_the_stresa_front }

		x = -2
		y = 1
		relative_position_id = ITA_ratify_the_stresa_front
		cost = 2
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = FRA
			}
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					is_in_faction_with = ENG
					is_in_faction_with = FRA
				}
				army_experience = 30
				navy_experience = 30
				air_experience = 30
				add_tech_bonus = {
					name = ITA_joint_military_programs
					bonus = 0.5
					uses = 2
					category = ship_modules_tech
				}
				add_tech_bonus = {
					name = ITA_joint_military_programs
					bonus = 0.5
					uses = 2
					category = light_air
				}
				add_tech_bonus = {
					name = ITA_joint_military_programs
					bonus = 0.5
					uses = 2
					category = cat_medium_armor
				}
				custom_effect_tooltip = ITA_joint_military_programs_two_allies_tt
			}
			else = {
				army_experience = 15
				navy_experience = 15
				air_experience = 15
				add_tech_bonus = {
					name = ITA_joint_military_programs
					bonus = 0.5
					uses = 1
					category = ship_modules_tech
				}
				add_tech_bonus = {
					name = ITA_joint_military_programs
					bonus = 0.5
					uses = 1
					category = light_air
				}
				add_tech_bonus = {
					name = ITA_joint_military_programs
					bonus = 0.5
					uses = 1
					category = cat_medium_armor
				}
				custom_effect_tooltip = ITA_joint_military_programs_one_ally_tt
			}
		}
	}

	focus = {
		id = ITA_italys_destiny
		icon = GFX_focus_generic_balkans_focus
		prerequisite = { focus = ITA_ratify_the_stresa_front }

		x = 0
		y = 1
		relative_position_id = ITA_ratify_the_stresa_front
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			every_other_country = {
				limit = {
					BUL_is_balkan_nation = yes
					NOT = { tag = TUR } #Skip Turkey
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
					}
				}
			}

			add_ideas = ITA_italys_destiny_idea 
		}
	}

	focus = {
		id = ITA_the_eastern_threat
		icon = GFX_focus_ger_strike_at_the_source
		prerequisite = { focus = ITA_italys_destiny }

		x = 0
		y = 1
		relative_position_id = ITA_italys_destiny
		cost = 10
		available = {
			any_country = {
				original_tag = SOV
				exists = yes
				NOT = { is_in_faction_with = ROOT }
				NOT = { has_non_aggression_pact_with = ROOT }
				NOT = { is_guaranteed_by = ROOT }
			}
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_the_eastern_threat_claims_tt
			every_state = {
				limit = {
					BUL_state_is_in_the_black_sea = yes
					is_owned_by = SOV
				}
				hidden_effect ={
					ROOT = { add_state_claim = PREV }
				}
				custom_effect_tooltip = generic_ROOT_gains_claim_tt
			}
			add_timed_idea = {
				idea = ITA_the_eastern_threat_ns
				days = 365
			}
		}
	}

	focus = {
		id = ITA_pact_of_steel
		icon = GFX_goal_support_fascism
		prerequisite = { focus = ITA_potential_allies_in_the_balkans focus = ITA_balkan_ambition }
		mutually_exclusive = { focus = ITA_guarantee_austrian_independence focus = ITA_italy_first }
		x = -4
		y = 1
		relative_position_id = ITA_potential_allies_in_the_balkans
		cost = 5

		bypass = {
			is_in_faction = yes
			is_in_faction_with = GER
		}

		available = {
			NOT = { has_war_with = GER }
			custom_trigger_tooltip = {
				tooltip = ITA_germ_italy_same_tt
				GER = { has_government = ROOT }
			}
			is_in_faction = no
			GER = {
				is_faction_leader = yes
				is_subject = no
			}
			is_subject = no
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			GER = {
				add_opinion_modifier = { target = ITA modifier = pact_of_steel_opinion }
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.184 }
			}
			add_timed_idea = {
				idea = ITA_pact_of_steel
				days = 365
			}

			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = ITA_guido_jung
		}
	}

	focus = {
		id = ITA_german_military_cooperation
		icon = GFX_focus_ger_oppose_hitler
		prerequisite = { focus = ITA_pact_of_steel }

		x = -3
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 5
		available = {
			NOT = { has_war_with = GER }
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_ideas = ITA_german_millitary_cooperation_focus
		}
	}

	focus = {
		id = ITA_sea_wolves_bba
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = ITA_german_military_cooperation }

		x = -1
		y = 1
		relative_position_id = ITA_german_military_cooperation
		cost = 5
		available = {
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}
		
		search_filters = {FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = ITA_sea_wolves_bba
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
			add_doctrine_cost_reduction = {
				name = ITA_sea_wolves_bba
				cost_reduction = 0.5
				uses = 2
				category = submarine_doctrine
			}
		}
	}

	focus = {
		id = ITA_secret_weapons
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = ITA_german_military_cooperation }

		x = 1
		y = 1
		relative_position_id = ITA_german_military_cooperation
		cost = 5
		available = {
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_secret_weapons
				bonus = 0.5
				uses = 2
				category = electronics
				category = rocketry
				category = nuclear
			}
		}
	}

	focus = {
		id = ITA_treaty_with_germany
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = ITA_pact_of_steel }

		x = -1
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 5
		available = {
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_equipment_subsidy = {
					cic = 500
					equipment_type = light_tank_chassis
					seller_tags = { GER }
				}
				add_equipment_subsidy = {
					cic = 500
					equipment_type = medium_tank_chassis
					seller_tags = { GER }
				}
			}
			GER = {
				country_event = { id = italy.5 days = 1 }
				custom_effect_tooltip = needs_approval
			}
			# Actual reward effects added in event if Soviets approve
			effect_tooltip = {
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1.0
					uses = 1
					category = synth_resources
				}
				# Balance research bonus to 2 techs in armor, also in event
				add_tech_bonus = {
					name = armor_bonus
					bonus = 0.5
					uses = 2
					category = armor
				}
			}
		}
	}

	focus = {
		id = ITA_request_control_of_french_territories
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = ITA_pact_of_steel }
		prerequisite = { focus = ITA_italian_irredentism }
		mutually_exclusive = { focus = ITA_war_with_france }
		x = 0
		y = 2
		relative_position_id = ITA_pact_of_steel
		cost = 5

		available = {
			is_puppet = no
			is_in_faction_with = GER
			GER = { 
				controls_state = 16 				
				GER = { is_faction_leader = yes }
			}
			custom_trigger_tooltip = {
			 tooltip = ITA_claims_on_france_tt
				any_other_country = {
					original_tag = FRA
					has_government = fascism
					owns_state = 735
					controls_state = 735
					owns_state = 1
					controls_state = 1
				}
			}
		}

		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			if = {
				limit = { 
					any_other_country = {
						original_tag = FRA
						has_government = fascism
						owns_state = 735
					}
				}
				set_global_flag = ITA_claims_on_france_735
			}
			if = {
				limit = { 
					any_other_country = {
						original_tag = FRA
						has_government = fascism
						owns_state = 1
					}
				}
				set_global_flag = ITA_claims_on_france_1
			}

			GER = { country_event = germany.104 }
		}
	}


	focus = {
		id = ITA_italy_first
		icon = GFX_focus_generic_italy_first
		prerequisite = { focus = ITA_potential_allies_in_the_balkans focus = ITA_balkan_ambition }
		mutually_exclusive = { focus = ITA_guarantee_austrian_independence focus = ITA_pact_of_steel }
		x = 0
		y = 1
		relative_position_id = ITA_potential_allies_in_the_balkans
		cost = 4

		bypass = {
			is_in_faction = yes
			NOT = { is_in_faction_with = GER }
		}

		available = {
			is_subject = no
			NOT = { is_in_faction_with = GER }
			NOT = { is_in_faction_with = ENG }
			OR = {
				owns_state = 44
				44 = { owner = { is_subject_of = ROOT } }
				owns_state = 102
				102 = { owner = { is_subject_of = ROOT } }
				owns_state = 853
				853 = { owner = { is_subject_of = ROOT } }
			}
			is_in_faction = no
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 75
			if = {
				limit = {
					NOT = { has_rule = can_create_factions }
				}
				set_rule = { can_create_factions = yes }
			}
			create_faction = ITA_italian_league

			if = {
				limit = {
					BUL = { 
						exists = yes
						is_ai = yes
						is_subject = no
						is_in_faction = no
					}
					NOT = { has_war_with = BUL }				
				}
				add_to_faction = BUL
				BUL = {
					add_ai_strategy = {
						type = alliance
						id = "ITA"
						value = 200
					}
				}
			}
			else_if = {
				limit = {
					BUL = { 
						exists = yes
						is_ai = no
						is_subject = no
						is_in_faction = no
					}
					NOT = { has_war_with = BUL }
				}
				BUL = { country_event = { id = generic.5 hours = 2 } }
			}

			YUG = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				# REVISIT Possibly clear old negative modifier if Slovenia and Dalmatia were taken
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.185 }
			}
		}
	}

	##Help Balkan

	focus = {
		id = ITA_defend_the_balkan
		icon = GFX_focus_BEL_the_lost_tribe
		prerequisite = { focus = ITA_italy_first }
		relative_position_id = ITA_italy_first
		x = 5
		y = 1
		cost = 5
		available = {
			AND = {
				NOT = {
					GER = {
						has_completed_focus = GER_demand_slovenia
					}
				}
				NOT = {
					HUN = {
						has_completed_focus = wuw_HUN_reaffirm_territorial_claims
					}
				}
			}
		}
		completion_reward = {
			hidden_effect = {
				GER = {
					unlock_national_focus = GER_demand_slovenia
					unlock_national_focus = GER_first_ljubljana_award
					unlock_national_focus = GER_fate_of_yugoslavia
					unlock_national_focus = GER_second_ljubljana_award
					unlock_national_focus = GER_fate_of_greece
					unlock_national_focus = GER_war_with_greece
				}

				HUN = {
					unlock_national_focus = wuw_HUN_demand_transylvania
					unlock_national_focus = wuw_HUN_demand_the_vojvodina
				}

				BUL = {
					unlock_national_focus = BUL_approach_germany
					unlock_national_focus = BUL_join_the_tripartite_pact
					unlock_national_focus = BUL_military_secrets_sharing
					unlock_national_focus = BUL_peaceful_development
					unlock_national_focus = BUL_guardians_of_balkans
					unlock_national_focus = BUL_bulgarian_administration_of_the_balkans
					unlock_national_focus = BUL_the_third_bulgarian_empire
					transfer_state = 731
					transfer_state = 184
					transfer_state = 77
				}
				731 = { add_core_of = BUL }
				184 = { add_core_of = BUL }
				77 = { add_core_of = BUL }
			}

			custom_effect_tooltip = ITA_defend_the_balkan_tt_1

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = ITA_defend_the_balkan_tt_2

			custom_effect_tooltip = generic_skip_one_line_tt

			YUG = {
				add_opinion_modifier = {
					target = ITA
					modifier = IPUnion_defend_balkan_ita
				}
			}
			ROM = {
				add_opinion_modifier = {
					target = ITA
					modifier = IPUnion_defend_balkan_ita
				}
			}
			BUL = {
				add_opinion_modifier = {
					target = ITA
					modifier = IPUnion_defend_balkan_ita
				}
			}
			GRE = {
				add_opinion_modifier = {
					target = ITA
					modifier = IPUnion_defend_balkan_ita
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = form_Abandon_past_suspicions_defend_balkans
		}
	}

	focus = {
		id = ITA_be_friend_SOV_ipunion
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = ITA_defend_the_balkan }
		prerequisite = { focus = ITA_befriend_china }
		relative_position_id = ITA_defend_the_balkan
		x = -1
		y = 1
		cost = 5
		available = {
			SOV = {
				has_opinion = {
					target = ITA
					value > 25
				}
			}
		}
		completion_reward = {
			SOV = {
				add_opinion_modifier = {
					target = ITA
					modifier = IPUnion_be_friend_ITA_SOV
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_opinion_modifier = {
				target = SOV
				modifier = IPUnion_be_friend_ITA_SOV
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = form_Munich_in_the_Balkans
		}
	}

	focus = {
		id = ITA_blacksea_base
		icon = GFX_focus_generic_black_sea_focus
		prerequisite = { focus = ITA_be_friend_SOV_ipunion }
		relative_position_id = ITA_be_friend_SOV_ipunion
		x = 0
		y = 1
		cost = 5
		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_blacksea_base_trigger_tt
				SOV = {
					controls_state = 1052 #SOV control of Constanta
				}
			}
			SOV = {
				has_opinion = {
					target = ITA
					value > 50
				}
			}
		}
		completion_reward = {
			transfer_state = 1052
			1052 = { add_core_of = ITA }
			1052 = { remove_core_of = SOV }
		}
	}

	##HelpBalkans End

	##HelpChina

	focus = {
		id = ITA_befriend_china
		icon = GFX_focus_chi_cooperation_with_the_nationalists
		prerequisite = { focus = ITA_italy_first }

		x = 3
		y = 1
		relative_position_id = ITA_italy_first
		cost = 5

		available = {
			country_exists = CHI
			#CHI = { 
			#	is_in_faction = no
			#	#has_government = ROOT
			#}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {

			add_relation_modifier = {
				target = CHI
				modifier = ITA_military_agreements
			}
			CHI = {
				add_relation_modifier = {
					target = ROOT
					modifier = ITA_military_agreements
				}
				give_market_access = ITA
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus_1 }
			}

			if = {
				limit = {
					ROOT = {
						is_ai = no
					}
				}
				country_event = IPUnion_country_event.67
			}
		}
	}

	focus = {
		id = ITA_re_establish_italian_control_over_tsingtao
		icon = GFX_focus_GER_re_establish_german_control_over_qingdao
		prerequisite = { focus = ITA_befriend_china }
		relative_position_id = ITA_befriend_china
		x = -1
		y = 1
		cost = 5
		available = {
			is_subject = no
			743 = {
				is_fully_controlled_by = CHI
			}
		}

		bypass = {
			743 = {
				is_owned_by = ITA
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			CHI = {
				country_event = {
					id = wuw_GER_diplomacy.32
					hours = 12
				}
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {

				add_opinion_modifier = {
					target = CHI
					modifier = medium_increase
				}

				give_guarantee = CHI

				CHI = {
					add_opinion_modifier = {
						target = ROOT
						modifier = medium_increase
					}
					give_guarantee = ROOT
				}
				743 = {
					transfer_state_to = ROOT
					add_dynamic_modifier = {
						modifier = GER_qingdao_reintegrated_modifier
						days = 360
					}
				}
			}
		}
	}

	##HelpChina End

	focus = {
		id = ITA_befriend_japan
		icon = GFX_focus_chi_collaboration_with_the_japanese
		prerequisite = { focus = ITA_pact_of_steel focus = ITA_italy_first }

		x = 1
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 5

		available = {
			country_exists = JAP
			JAP = { 
				is_in_faction = no
				has_government = ROOT
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_relation_modifier = {
				target = JAP
				modifier = ITA_military_agreements
			}
			JAP = {
				add_relation_modifier = {
					target = ROOT
					modifier = ITA_military_agreements
				}

				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
			}
		}
	}

	focus = {
		id = ITA_italian_irredentism
		icon = GFX_focus_ITA_italian_irredentism
		prerequisite = { focus = ITA_pact_of_steel focus = ITA_italy_first }

		x = 3
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 4
		available = {
			is_subject = no
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_political_power = 50
			add_war_support = 0.03
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_ideas = ITA_italian_irredentism_ns
			#TODO_Manu: Might need to remove some/all of the claims below due to overlap with other focuses
			add_named_threat = { threat = 4 name = ITA_italian_irredentism } #Comes from the old Claims in Yugoslavia focus
			if = {
				limit = {
					103 = {
						NOT = { is_claimed_by = ROOT }
					}
				}
				add_state_claim = 103 #DALMATIA
			}
			if = {
				limit = {
					105 = {
						NOT = { is_claimed_by = ROOT }
					}
				}
				add_state_claim = 105 #MONTENEGRO
			}
			add_state_claim = 268 #DJIBUTI
			add_state_claim = 269 #BRITISH SOMALILAND
			add_state_claim = 735 #SAVOY
			add_state_claim = 856 #VAR
			add_state_claim = 185 #CORFU
			add_state_claim = 1 #CORSICA
			add_state_claim = 116 #MALTA
			add_state_claim = 846 #TICINO

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				ITA_create_carmelo_borg_pisani_operative = yes
			}

			if = {
				limit = {
					has_rule = can_only_justify_war_on_threat_country
				}
				set_rule = { can_only_justify_war_on_threat_country = no }
			}
			if = {
				limit = {
					NOT = { has_rule = can_declare_war_on_same_ideology }
				}
				set_rule = { can_declare_war_on_same_ideology = yes }
			}
			if = {
				limit = {
					NOT = { has_rule = can_send_volunteers }
				}
				set_rule = { can_send_volunteers = yes }
			}
		}
	}

	focus = {
		id = ITA_war_with_france
		icon = GFX_focus_attack_france
		prerequisite = { focus = ITA_italian_irredentism }

		mutually_exclusive = { focus = ITA_request_control_of_french_territories }

		x = -1
		y = 1
		relative_position_id = ITA_italian_irredentism
		cost = 10

		bypass = {
			is_subject = no
			OR = {
				FRA = { is_subject_of = ROOT }
				FRA = { exists = no }
				is_in_faction_with = FRA
			}
		}

		available = {
			is_subject = no
			FRA = { exists = yes }
			NOT = { is_in_faction_with = FRA }
			NOT = { has_guaranteed = FRA }
			NOT = { has_non_aggression_pact_with = FRA }
			NOT = { FRA = { is_subject_of = ROOT } }
		}

		will_lead_to_war_with = FRA

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_war_with_france_claims_tt
			every_state = {
				limit = {
					is_owned_by = FRA
					OR = {
						region = 182 #WESTERN MAGHREB
						region = 126 #EASTERN MAGHREB
						#region = 17 #EAST AFRICA #MM: TUrned into Ethiopian Highlands and no longer including Djibouti or British Somalia
						region = 273 #DANAKIL (new region including Djibouti)
						region = 274 #OGADEN (new region including British Somalia)
						region = 128 #EGYPT (just in case)
						region = 28 #MIDDLE EAST (Syria) #MM:No longer all of Syria, just Eastern part now
						region = 232 #LEVANT (including Western part of Syria now)
						region = 216 #UPPER NILE (Just in case)
						AND = {
							is_island_state = yes
							state_is_in_the_mediterranean_sea = yes
						}
					}
					NOT = { is_core_of = FRA }
					NOT = { is_claimed_by = ROOT }
				}
				hidden_effect ={
					ROOT = { add_state_claim = PREV }
				}
				custom_effect_tooltip = generic_ROOT_gains_claim_tt
			}

			create_wargoal = {
				type = take_state_focus
				target = FRA
				generator = { 735 956 1 268 }
			}
		}
	}

	focus = {
		id = ITA_demand_ticino
		icon = GFX_focus_attack_switzerland
		prerequisite = { 
			focus = ITA_war_with_france
			focus = ITA_request_control_of_french_territories 
		}

		x = -1
		y = 1
		relative_position_id = ITA_war_with_france
		cost = 10
		available = {

			846 = {
				is_owned_and_controlled_by = SWI
			}
			is_subject = no
			159 = { 
				is_controlled_by = ITA
			}
			158 = {
				is_controlled_by = ITA
			}
			735 = {
				is_controlled_by = ITA
			}
		}

		will_lead_to_war_with = SWI

		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = { 

			SWI = {
				country_event = {
				    id = BBA_italy_interaction_events.1
				    days = 2
				    random = 6
				}
			}

		}
	}

	focus = {
		id = ITA_war_with_the_uk
		icon = GFX_focus_attack_britain
		prerequisite = { focus = ITA_italy_first }
		prerequisite = { focus = ITA_italian_irredentism }
		x = 0
		y = 2
		relative_position_id = ITA_italy_first
		cost = 10
		available = {
			is_subject = no
			NOT = { is_in_faction_with = ENG }
			NOT = { has_guaranteed = ENG }
			NOT = { has_non_aggression_pact_with = ENG }
		}

		will_lead_to_war_with = ENG

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_war_with_the_uk_claims_tt
			every_state = {
				limit = {
					is_owned_by = ENG
					OR = {
						region = 182 #WESTERN MAGHREB
						region = 126 #EASTERN MAGHREB
						#region = 17 #EAST AFRICA #MM: TUrned into Ethiopian Highlands and no longer including Djibouti or British Somalia
						region = 273 #DANAKIL (new region including Djibouti)
						region = 274 #OGADEN (new region including British Somalia)
						region = 128 #EGYPT (just in case)
						region = 28 #MIDDLE EAST (Syria) #MM:No longer all of Syria, just Eastern part now
						region = 232 #LEVANT (including Western part of Syria now)
						region = 216 #UPPER NILE (Just in case)
						AND = {
							is_island_state = yes
							state_is_in_the_mediterranean_sea = yes
						}
					}
					NOT = { is_core_of = ENG }
					NOT = { is_claimed_by = ROOT }
				}
				hidden_effect ={
					ROOT = { add_state_claim = PREV }
				}
				custom_effect_tooltip = generic_ROOT_gains_claim_tt
			}

			create_wargoal = {
				type = take_state_focus
				target = ENG
				generator = { 116 183 452 446 447 457 453 456 551 269 }
			}
		}
	}

	focus = {
		id = ITA_war_with_greece
		icon = GFX_focus_generic_attack_greece
		prerequisite = { focus = ITA_italian_irredentism }
		mutually_exclusive = { focus = ITA_befriend_greece }
		x = 0
		y = 2
		relative_position_id = ITA_italian_irredentism
		cost = 5

		bypass = {
			is_subject = no
			OR = {
				GRE = { is_subject_of = ROOT }
				GRE = { exists = no }
				is_in_faction_with = GRE
			}
		}

		available = {
			is_subject = no
			GRE = { exists = yes }
			NOT = { is_in_faction_with = GRE }
			NOT = { has_guaranteed = GRE }
			NOT = { has_non_aggression_pact_with = GRE }
			NOT = { GRE = { is_subject_of = ROOT } }
		}

		will_lead_to_war_with = GRE

		search_filters = {}

		completion_reward = {
			GRE = {
				every_owned_state = {
					limit = {
						is_core_of = PREV
						is_on_continent = europe
					}
					ROOT = {
						add_state_claim = PREV
					}
				}
			}
			create_wargoal = {
				type = annex_everything
				target = GRE
			}
		}
	}

	focus = {
		id = ITA_befriend_greece
		icon = GFX_focus_generic_befriend_greece
		prerequisite = { focus = ITA_italy_first }
		mutually_exclusive = { focus = ITA_war_with_greece }
		x = 1
		y = 3
		relative_position_id = ITA_italy_first
		cost = 2

		bypass = {
			NOT = { country_exists = GRE }
		}

		available = {
			country_exists = GRE
			NOT = {
				has_war_with = GRE
			}
		}

		search_filters = {}

		completion_reward = {
			GRE = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}

			activate_targeted_decision = { target = GRE decision = ITA_pressure_country_government_balkan }
			activate_targeted_decision = { target = GRE decision = ITA_promote_ideology_rallies_balkan }

			hidden_effect = {
				news_event = { hours = 6 id = news.187 } 
			}
		}
	}

	focus = {
		id = ITA_claims_on_turkey_bba
		icon = GFX_focus_generic_attack_turkey
		prerequisite = { focus = ITA_war_with_greece focus = ITA_befriend_greece }
		mutually_exclusive = { focus = ITA_befriend_turkey }
		x = 0
		y = 1
		relative_position_id = ITA_war_with_greece
		cost = 5
		available = {
			TUR = {
				owns_state = 342
			}
		}
		
		will_lead_to_war_with = TUR

		search_filters = {}

		completion_reward = {
			add_state_claim = 342

			if = {
				limit = {
					is_in_faction_with = GRE
					TUR = { owns_state = 339 }
				}
				GRE = { country_event = greece.4 }
			}
			create_wargoal = {
				target = TUR
				type = take_state_focus
				expire = 0
				generator = { 342 }
			}

			hidden_effect = {
				news_event = { hours = 6 id = news.189 }
			}
		}
	}

	focus = {
		id = ITA_befriend_turkey
		icon = GFX_focus_generic_befriend_turkey
		prerequisite = { focus = ITA_war_with_greece focus = ITA_befriend_greece }
		mutually_exclusive = { focus = ITA_claims_on_turkey_bba }
		x = 2
		y = 0
		relative_position_id = ITA_claims_on_turkey_bba
		cost = 2
		available = {
			country_exists = TUR
			NOT = {
				has_war_with = TUR
			}
		}

		search_filters = {}

		completion_reward = {
			TUR = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}

			activate_targeted_decision = { target = TUR decision = ITA_pressure_country_government_balkan }
			activate_targeted_decision = { target = TUR decision = ITA_promote_ideology_rallies_balkan }

			hidden_effect = {
				news_event = {
					hours = 6 id = news.188
				}
			}
		}
	}

	focus = {
		id = ITA_corpo_di_truppe_volontarie
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = ITA_foreign_affairs }

		x = 9
		y = 1
		relative_position_id = ITA_foreign_affairs
		cost = 1

		bypass = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				OR = {
					has_global_flag = scw_over
					AND = {
						has_global_flag = spanish_civil_war
						NOT = { country_exists = SPA }
					}
				}
			}
			else = {
				has_global_flag = spanish_civil_war
				NOT = {
					any_country = {
						original_tag = SPR
						OR = {
							has_government = fascism
							has_civil_war = yes
						}
					}
				}
			}
		}

		available = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_volunteers_amount_from = {
						tag = ITA
						count > 1
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					has_volunteers_amount_from = {
						tag = ITA
						count > 1
					}
				}
			}
		}
		cancel = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				SPR = {
					has_civil_war = no
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = { has_civil_war = no }
			}
		}

		cancel_if_invalid = no

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_AIR_XP}

		completion_reward = { #Changing stuff here will require changing stuff in History file for 1939 bookmark
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = { add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war } }
			}

			add_timed_idea = {
				idea = ITA_aviazione_legionaria
				days = 365
			}

			custom_effect_tooltip = ITA_aviazione_legionaria_tt
			hidden_effect = {
				if ={
					limit = {
						has_dlc = "By Blood Alone"
					}
					load_oob = "ITA_aviazione_legionaria_bba"
				}
				else = {
					load_oob = "ITA_aviazione_legionaria_legacy"
				}
			}

			if = {
				limit = {
					NOT = { has_completed_focus = ITA_cooperation_programs }
				}
				custom_effect_tooltip = ITA_has_completed_cooperation_programs_focus_tt
			}
			custom_effect_tooltip = ITA_unlocks_decision_cede_aquila_class_destroyers_to_spain_tt
		}
	}

	focus = {
		id = ITA_spanish_italian_alliance
		icon = GFX_focus_intervention_spain_nationalists
		prerequisite = { focus = ITA_corpo_di_truppe_volontarie }
		prerequisite = { focus = ITA_italy_first }
		mutually_exclusive = { focus = ITA_demand_balearic_islands_bba }
		x = -1
		y = 2
		relative_position_id = ITA_corpo_di_truppe_volontarie
		cost = 5

		bypass = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				any_other_country = {
					OR = {
						tag = SPA
						tag = SPB
					}
					is_in_faction_with = ROOT
				}
			}
			else = {
				any_country = {
					original_tag = SPR
					OR = {
						has_government = fascism
						has_government = neutrality
					}
					is_in_faction_with = ROOT
				}
			}
		}

		available = {
			is_in_faction = yes
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				any_other_country = {
					OR = {
						tag = SPA
						tag = SPB
					}
					has_civil_war = no
					NOT = { has_war_with = ROOT }
					is_in_faction = no
				}
			}
			else = {
				any_country = {
					original_tag = SPR
					OR = {
						has_government = fascism
						has_government = neutrality
					}
					has_civil_war = no
					NOT = { has_war_with = ROOT }
					is_in_faction = no
				}
			}

			FRA = {
				OR = {
					NOT = { country_exists = THIS }
					has_capitulated = yes
					has_government = fascism
				}
			}			
		}		

		search_filters = {}

		completion_reward = {
			random_other_country = {
				limit = {
					original_tag = SPR
					has_government = fascism
				}
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				add_ideas = fascist_influence 
				country_event = { id = generic.5 }           
			}
		}
	}

	focus = {
		id = ITA_demand_balearic_islands_bba
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = ITA_corpo_di_truppe_volontarie }
		mutually_exclusive = { focus = ITA_spanish_italian_alliance }
		x = 1
		y = 2
		relative_position_id = ITA_corpo_di_truppe_volontarie
		cost = 2
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_war = no
					owns_state = 177
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					has_war = no
					owns_state = 177
				}
			}
			is_puppet = no
		}
		cancel = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_war_with = ROOT
					owns_state = 177
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				has_war_with = ROOT
				owns_state = 177
			}
		}

		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			random_other_country = {
				limit = {
					owns_state = 177
				}
				country_event = { id = italy.9 }
			}
		}
	}

	focus = {
		id = ITA_befriend_portugal
		icon = GFX_focus_generic_befriend_portugal
		prerequisite = { focus = ITA_spanish_italian_alliance focus = ITA_demand_balearic_islands_bba }

		x = 1
		y = 1
		relative_position_id = ITA_spanish_italian_alliance
		cost = 4
		available = {
			is_in_faction = yes
			country_exists = POR
			NOT = {
				has_war_with = POR
			}
		}

		bypass = {
			POR = {
				is_in_faction_with = ITA
			}
		}

		search_filters = {}

		completion_reward = {
			POR = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.5 }
			}
		}
	}



 ######  #### ##     ## #### ##          ##      ##    ###    ########         ######   #######          ########  ######## ##       ##       ####  ######   ######## ########  ######## ##    ## ######## 
##    ##  ##  ##     ##  ##  ##          ##  ##  ##   ## ##   ##     ##       ##    ## ##     ##         ##     ## ##       ##       ##        ##  ##    ##  ##       ##     ## ##       ###   ##    ##    
##        ##  ##     ##  ##  ##          ##  ##  ##  ##   ##  ##     ##       ##       ##     ##         ##     ## ##       ##       ##        ##  ##        ##       ##     ## ##       ####  ##    ##    
##        ##  ##     ##  ##  ##          ##  ##  ## ##     ## ########        ##       ##     ## ####### ########  ######   ##       ##        ##  ##   #### ######   ########  ######   ## ## ##    ##    
##        ##   ##   ##   ##  ##          ##  ##  ## ######### ##   ##         ##       ##     ##         ##     ## ##       ##       ##        ##  ##    ##  ##       ##   ##   ##       ##  ####    ##    
##    ##  ##    ## ##    ##  ##          ##  ##  ## ##     ## ##    ##        ##    ## ##     ##         ##     ## ##       ##       ##        ##  ##    ##  ##       ##    ##  ##       ##   ###    ##    
 ######  ####    ###    #### ########     ###  ###  ##     ## ##     ##        ######   #######          ########  ######## ######## ######## ####  ######   ######## ##     ## ######## ##    ##    ##    


	focus = {
		id = ITA_the_italian_liberation_war
		icon = GFX_focus_generic_anti_fascist_diplomacy
		x = -6
		y = 0
		relative_position_id = ITA_ethiopian_war_logistics_bba
		cost = 5
		
		allow_branch = {
			has_global_flag = ITA_antifascist_civil_war_triggered_flag
			tag = RDS
		}
		
		available = {
			tag = RDS
		}

		search_filters = {}

		completion_reward = {
			effect_tooltip = {
				set_country_flag = ITA_rds_cw_flag
				#Leader back
				if = {
					limit = {
						has_completed_focus = ITA_monarchia_d_italia
					}
					if = { #Safety check for ideology
						limit = {
							NOT = { has_government = neutrality }
						}
						set_politics = {
							ruling_party = neutrality
							elections_allowed = no
						}
					}
					if = {
						limit = {
							has_character = ITA_vittorio_emanuele_iii
							NOT = { has_country_leader = { character = ITA_vittorio_emanuele_iii ruling_only = yes } }
							NOT = { has_country_flag = ITA_vittorio_emmanuele_dead_flag }
						}
						promote_character = ITA_vittorio_emanuele_iii
					}
					else_if = {
						limit = {
							has_character = ITA_prince_umberto
							NOT = { has_country_leader = { character = ITA_prince_umberto ruling_only = yes } }
							has_country_flag = ITA_vittorio_emmanuele_dead_flag
						}
						if = {
							limit = {
								NOT = { ITA_prince_umberto = { has_ideology_group = neutrality } }#Checking for the country_leader role
							}
							ITA_promote_umberto_to_country_leader = yes
						}
						else = {
							promote_character = ITA_prince_umberto
						}
					}
				}
				else_if = {
					limit = {
						has_completed_focus = ITA_unite_the_opposition
					}
					set_politics = {
						ruling_party = communism
						elections_allowed = no
					}
				}

				#Puppet
				if = {
					limit = {
						any_other_country = {
							original_tag = ITA
							has_war_with = ROOT
							any_enemy_country = {
								is_major = yes
								OR = {
									has_government = ROOT
									has_government = democratic
								}
							}
						}
					}
					random_other_country = {
						limit = {
							original_tag = ITA
							has_war_with = ROOT
						}
						random_enemy_country = {
							limit = {
								is_major = yes
								OR = {
									has_government = ROOT
									has_government = democratic
								}
							}
							puppet = ROOT
						}
					}
				}

				#Disband Camicie Nere in the country
				delete_unit_template_and_units = { division_template = "Camicie Nere" }

				#Resistance in all cores
				every_state = {
					limit = {
						is_core_of = ROOT
						controller = {
							has_war_with = ROOT
							original_tag = ITA
						}
					}
					force_enable_resistance = {
						occupier = THIS.controller
						occupied = ROOT
					}
					start_resistance = ROOT
				}
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_giuseppe_borea
		}
	}

	focus = {
		id = ITA_fronte_militare_clandestino
		icon = GFX_focus_SOV_mobilization_plan
		prerequisite = { focus = ITA_the_italian_liberation_war }
		x = 0
		y = 1
		relative_position_id = ITA_the_italian_liberation_war
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_template = "Divisione di Fanteria" }
				}
				division_template = { 
					name = "Divisione di Fanteria" 
					division_names_group = ITA_INF_01

					regiments = { 
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}
					support = { 
						engineer = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
			}

			if = {
				limit = {
					NOT = { has_template = "Divisione Partigiana" }
				}
				division_template = { 
					name = "Divisione Partigiana" 
					division_names_group = ITA_INF_01 #TODO_Manu: New Namelist
					template_counter = 65
					is_locked = yes
					override_model = ITA_militia_alt_0_entity

					regiments = { 
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 2 y = 0 }
						militia = { x = 2 y = 1 }
					}
				}
			}

			2 = { #ROME
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					custom_effect_tooltip = ITA_fronte_militare_clandestino_spawn_divs_friendly_rome_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
							prioritize_location = 9904
							owner = ROOT
							count = 2
						}
						create_unit = {
							division = "division_template = \"Divisione Partigiana\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
							prioritize_location = 9904
							owner = ROOT
							count = 2
						}
					}
				}
				else = {
					custom_effect_tooltip = ITA_fronte_militare_clandestino_spawn_divs_hostile_rome_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
							prioritize_location = 9904
							allow_spawning_on_enemy_provs = yes
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisione Partigiana\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
							prioritize_location = 9904
							allow_spawning_on_enemy_provs = yes
							owner = ROOT
							count = 1
						}
					}
				}
			}

			every_core_state = {
				custom_effect_tooltip = ITA_fronte_militare_clandestino_modifier_tt
				hidden_effect = {
					add_dynamic_modifier = {
						modifier = ITA_fronte_militare_clandestino_modifier
						scope = ROOT
						days = 730
					}
				}
			}
			hidden_effect = {
				RSI = { country_event = { id = BBA_italy_civil_war.2 hours = 1 } }
			}
		}
	}

	focus = {
		id = ITA_corpo_volontari_della_liberta
		icon = GFX_focus_ITA_corpo_volontari_della_liberta
		prerequisite = { focus = ITA_fronte_militare_clandestino }
		mutually_exclusive = { focus = ITA_the_carabinieri }
		x = -1
		y = 1
		relative_position_id = ITA_fronte_militare_clandestino
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
			NOT = { has_government = neutrality }
			NOT = { has_government = fascism }
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			#Add 2 Militia divs in up to 5 fully controlled states
			custom_effect_tooltip = ITA_corpo_volontari_della_liberta_spawn_divs_tt
			hidden_effect = {
				set_temp_variable = { i = 0 }
				while_loop_effect = {
					limit = {
						check_variable = { i = 5 compare = less_than }
					}
					random_core_state = {
						limit = {
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_corpo_volontari_della_liberta_partisans_raised_flag }
						}
						create_unit = {
							division = "division_template = \"Divisione Partigiana\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 2
						}
						set_state_flag = ITA_corpo_volontari_della_liberta_partisans_raised_flag
					}
					add_to_temp_variable = { i = 1 }
				}
			}
			#Add 2 Infantry Divs in capital scope (if controlled)
			if = {
				limit = {
					capital_scope = {
						is_fully_controlled_by = ROOT
					}
				}
				capital_scope = {
					custom_effect_tooltip = ITA_corpo_volontari_della_liberta_spawn_divs_capital_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 2
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_the_carabinieri
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = ITA_fronte_militare_clandestino }
		mutually_exclusive = { focus = ITA_corpo_volontari_della_liberta }
		x = 2
		y = 0
		relative_position_id = ITA_corpo_volontari_della_liberta
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
			NOT = { has_government = communism }
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			show_unit_leaders_tooltip = ITA_ugo_luca
			show_unit_leaders_tooltip = ITA_giuseppe_pieche

			if = {
				limit = {
					NOT = { has_tech = tech_military_police }
				}
				set_technology = { 
					tech_military_police = 1
					popup = no
				}
			}

			division_template = { 
				name = "Divisione di Carabinieri" 
				division_names_group = ITA_INF_01 #TODO_Manu: Namelist
				template_counter = 3

				regiments = { 
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
				}
				support = { 
					military_police = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
				}
			}

			if = {
				limit = {
					capital_scope = {
						is_fully_controlled_by = ROOT
					}
				}
				capital_scope = {
					custom_effect_tooltip = ITA_the_carabinieri_spawn_divs_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Divisione di Carabinieri\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 5
						}
					}
				}
			}
			else = {
				random_controlled_state = {
					limit = {
						is_core_of = ROOT
						is_fully_controlled_by = ROOT
					}
					custom_effect_tooltip = ITA_the_carabinieri_spawn_divs_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Divisione di Carabinieri\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 5
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_gappisti
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = ITA_corpo_volontari_della_liberta }
		x = -1
		y = 1
		relative_position_id = ITA_corpo_volontari_della_liberta
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
			NOT = { has_government = neutrality }
			NOT = { has_government = fascism }
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_war_support = 0.05
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}

			add_to_variable = { 2.ITA_fronte_militare_clandestino_resistance_damage_to_garrison_on_our_occupied_states = 0.1 }
			add_to_variable = { 2.ITA_fronte_militare_clandestino_resistance_target_on_our_occupied_states = 0.1 }
			custom_effect_tooltip = ITA_gappisti_state_modifier_rds_tt

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_ideas = ITA_gappisti_ns

				if = {
					limit = {
						NOT = { has_country_flag = ITA_gappisti_operative_flag }
					}
					set_country_flag = ITA_gappisti_operative_flag
					ITA_create_laura_garroni_operative = yes
				}
			}

			hidden_effect = {
				RSI = { country_event = { id = BBA_italy_civil_war.3 hours = 1 } }
			}
		}
	}

	focus = {
		id = ITA_partisan_republics
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		prerequisite = { focus = ITA_corpo_volontari_della_liberta focus = ITA_the_carabinieri }
		x = 2
		y = 0
		relative_position_id = ITA_gappisti
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_war_support = 0.05

			add_to_variable = { 2.ITA_fronte_militare_clandestino_compliance_growth_on_our_occupied_states = -0.1 }
			custom_effect_tooltip = ITA_partisan_republics_state_modifier_tt

			#Add 2 Militia divs in up to 5 fully controlled states
			custom_effect_tooltip = ITA_partisan_republics_spawn_divs_tt
			hidden_effect = {
				set_temp_variable = { i = 0 }
				while_loop_effect = {
					limit = {
						check_variable = { i = 5 compare = less_than }
					}
					random_core_state = {
						limit = {
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_corpo_volontari_della_liberta_partisans_raised_flag }
						}
						create_unit = {
							division = "division_template = \"Divisione Partigiana\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						set_state_flag = ITA_corpo_volontari_della_liberta_partisans_raised_flag
					}
					add_to_temp_variable = { i = 1 }
				}
				#Clear flags
				every_core_state = {
					limit = {
						has_state_flag = ITA_corpo_volontari_della_liberta_partisans_raised_flag
					}
					clr_state_flag = ITA_corpo_volontari_della_liberta_partisans_raised_flag
				}
			}
		}
	}

	focus = {
		id = ITA_the_kings_finest
		icon = GFX_focus_generic_home_defense
		prerequisite = { focus = ITA_the_carabinieri }
		x = 4
		y = 0
		relative_position_id = ITA_gappisti
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
			has_government = neutrality
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_stability = 0.05
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			
			if = {
				limit = {
					NOT = { has_template = "Divisione di Fanteria" }
				}
				division_template = { 
					name = "Divisione di Fanteria" 
					division_names_group = ITA_INF_01

					regiments = { 
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}
					support = { 
						engineer = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
			}

			if = {
				limit = {
					NOT = { has_template = "Divisione Celere" }
				}
				division_template = {
					name = "Divisione Celere" 			# Divisione Celere (Fast Division)
					division_names_group = ITA_CAV_02

					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
						motorized = { x = 2 y = 0 }			# (elite) Bersaglieri Regiment
						motorized = { x = 2 y = 1 }
						light_armor = { x = 3 y = 0 }
					}
					priority = 2
				}
			}

			if = {
				limit = {
					capital_scope = {
						is_fully_controlled_by = ROOT
					}
				}
				capital_scope = {
					#Add 3 Infantry divs and 1 Divisione Celere
					custom_effect_tooltip = ITA_the_kings_finest_spawn_divs_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.25 start_equipment_factor = 1.0"
							owner = ROOT
							count = 3
						}
						create_unit = {
							division = "division_template = \"Divisione Celere\" start_experience_factor = 0.25 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					prioritize = { 2 158 159 117 160 }
					#Add 3 Infantry divs and 1 Divisione Celere
					custom_effect_tooltip = ITA_the_kings_finest_spawn_divs_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.25 start_equipment_factor = 1.0"
							owner = ROOT
							count = 3
						}
						create_unit = {
							division = "division_template = \"Divisione Celere\" start_experience_factor = 0.25 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_grande_rivolta_rurale
		icon = GFX_focus_ITA_grande_rivolta_rurale
		prerequisite = { focus = ITA_partisan_republics }
		prerequisite = { focus = ITA_gappisti focus = ITA_the_kings_finest }
		x = 0
		y = 1
		relative_position_id = ITA_partisan_republics
		cost = 5

		#bypass = { #MM: Might be beneficial for players to do this regardless of CW
		#	ITA_is_antifascist_civil_war_over = yes
		#}

		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_timed_idea = {
				idea = ITA_grande_rivolta_rurale_ns
				days = 365
			}
			#Hidden tech for terrain bonuses for militias (communicated as part of the NS above)
			hidden_effect = {
				set_technology = { 
					mountain_warfare_militias_tech = 1
					popup = no
				}
			}
		}
	}

	focus = {
		id = ITA_liberation_or_death
		icon = GFX_focus_ITA_liberation_or_death
		prerequisite = { focus = ITA_grande_rivolta_rurale }
		x = 0
		y = 1
		relative_position_id = ITA_grande_rivolta_rurale
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
			surrender_progress < 0.01
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_timed_idea = {
				idea = ITA_liberation_or_death_ns
				days = 365
			}
		}
	}

	focus = {
		id = ITA_independence_rds
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = ITA_liberation_or_death }
		x = 0
		y = 1
		relative_position_id = ITA_liberation_or_death
		cost = 5
		available = {
			has_war = no
			is_subject = yes
		}
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					is_subject = yes
				}
				OVERLORD = {
					country_event = { id = BBA_italy_civil_war.5 hours = 12 random_hours = 6 }
				}

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					OVERLORD = {
						end_puppet = ROOT
						ROOT = {
							add_opinion_modifier = {
								target = PREV
								modifier = ITA_granted_us_independence
							}
						}
					}
				}
			}
			else = { #FALLBACK TOOLTIPS
				custom_effect_tooltip = ITA_independence_overlord_fallback_tt
				effect_tooltip = {
					country_event = { id = BBA_italy_civil_war.5 hours = 12 random_hours = 6 }
				}
				custom_effect_tooltip = if_they_accept_tt
				custom_effect_tooltip = ITA_independence_overlord_fallback_accept_tt
			}
		}
	}



 ######  #### ##     ## #### ##          ##      ##    ###    ########        ########    ###     ######   ######  ####  ######  ######## 
##    ##  ##  ##     ##  ##  ##          ##  ##  ##   ## ##   ##     ##       ##         ## ##   ##    ## ##    ##  ##  ##    ##    ##    
##        ##  ##     ##  ##  ##          ##  ##  ##  ##   ##  ##     ##       ##        ##   ##  ##       ##        ##  ##          ##    
##        ##  ##     ##  ##  ##          ##  ##  ## ##     ## ########        ######   ##     ##  ######  ##        ##   ######     ##    
##        ##   ##   ##   ##  ##          ##  ##  ## ######### ##   ##         ##       #########       ## ##        ##        ##    ##    
##    ##  ##    ## ##    ##  ##          ##  ##  ## ##     ## ##    ##        ##       ##     ## ##    ## ##    ##  ##  ##    ##    ##    
 ######  ####    ###    #### ########     ###  ###  ##     ## ##     ##       ##       ##     ##  ######   ######  ####  ######     ##    


 	focus = {
		id = ITA_the_italian_social_republic
		icon = GFX_goal_support_fascism
		x = -6
		y = 0
		relative_position_id = ITA_ethiopian_war_logistics_bba
		cost = 5
		
		allow_branch = {
			has_global_flag = ITA_antifascist_civil_war_triggered_flag
			tag = RSI
		}

		available = {
			tag = RSI
		}

		search_filters = {}

		completion_reward = {
			effect_tooltip = { 
				set_country_flag = ITA_rsi_cw_flag
				#Leader back
				if = {
					limit = {
						has_completed_focus = ITA_monarchia_d_italia
					}
					if = { #Safety check for ideology
						limit = {
							NOT = { has_government = neutrality }
						}
						set_politics = {
							ruling_party = neutrality
							elections_allowed = no
						}
					}
					if = {
						limit = {
							has_character = ITA_vittorio_emanuele_iii
							NOT = { has_country_leader = { character = ITA_vittorio_emanuele_iii ruling_only = yes } }
							NOT = { has_country_flag = ITA_vittorio_emmanuele_dead_flag }
						}
						promote_character = ITA_vittorio_emanuele_iii
					}
					else_if = {
						limit = {
							has_character = ITA_prince_umberto
							NOT = { has_country_leader = { character = ITA_prince_umberto ruling_only = yes } }
							has_country_flag = ITA_vittorio_emmanuele_dead_flag
						}
						if = {
							limit = {
								NOT = { ITA_prince_umberto = { has_ideology_group = neutrality } }#Checking for the country_leader role
							}
							ITA_promote_umberto_to_country_leader = yes
						}
						else = {
							promote_character = ITA_prince_umberto
						}
					}
				}
				else_if = {
					limit = {
						has_completed_focus = ITA_dino_grandi_focus
						has_character = ITA_dino_grandi
					}
					promote_character = ITA_dino_grandi
				}
				else_if = {
					limit = {
						has_completed_focus = ITA_italo_balbo_focus
						has_character = ITA_italo_balbo
					}
					promote_character = ITA_italo_balbo
				}
				else_if = {
					limit = {
						has_completed_focus = ITA_culto_del_duce
						has_character = ITA_benito_mussolini
					}
					promote_character = ITA_benito_mussolini
				}

				#Puppet
				if = {
					limit = {
						is_in_faction = yes
						any_allied_country = {
							is_major = yes
						}
					}
					random_other_country = {
						limit = {
							is_in_faction = yes
							is_major = yes
						}
						puppet = ROOT
					}
				}
			}
		}
	}

	focus = {
		id = ITA_guardia_nazionale_repubblicana
		icon = GFX_focus_ITA_guardia_nazionale_repubblicana
		prerequisite = { focus = ITA_the_italian_social_republic }
		x = 0
		y = 1
		relative_position_id = ITA_the_italian_social_republic
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			custom_effect_tooltip = ITA_blackshirts_div_cap_8_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 8 }
				set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }
			}

			if = {
				limit = {
					capital_scope = {
						is_fully_controlled_by = ROOT
					}
				}
				capital_scope = {
					custom_effect_tooltip = ITA_guardia_nazionale_repubblicana_spawn_divs_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Camicie Nere\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
							owner = ROOT
							count = 5
						}
					}
				}
			}
			else = {
				random_controlled_state = { #Create a few more Blackshirt Divs
					limit = {
						is_core_of = ROOT
						is_fully_controlled_by = ROOT
					}
					custom_effect_tooltip = ITA_strengthen_the_blackshirts_spawn_divs_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Camicie Nere\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
							owner = ROOT
							count = 5
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_integrate_polizia_dell_africa_italiana
		icon = GFX_focus_generic_fascist_troops
		prerequisite = { focus = ITA_guardia_nazionale_repubblicana }
		x = -1
		y = 1
		relative_position_id = ITA_guardia_nazionale_repubblicana
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
			#OR = { #MM: Probably better to leave it unlocked so that player doesn't get stuck
			#	any_owned_state = {
			#		is_on_continent = africa
			#		is_fully_controlled_by = ROOT
			#	}
			#	any_subject_country = {
			#		capital_scope = {
			#			is_on_continent = africa
			#		}
			#		any_owned_state = {
			#			is_fully_controlled_by = PREV
			#		}
			#	}
			#}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			hidden_effect = {
				### COLONIAL CAVALRY & CAMELRY TEMPLATES
				if = {
					limit = {
						NOT = { has_template = "Cavalleria Coloniale" }
					}
					division_template = {
						name = "Cavalleria Coloniale" 
						division_names_group = ITA_CAV_03
						override_model = ITA_cavalry_alt_1_entity
						is_locked = yes

						# Represents lesser-equipped colonial units
						regiments = { 
							cavalry = { x = 0 y = 0 } 
							cavalry = { x = 0 y = 1 } 
							cavalry = { x = 1 y = 0 } 
							cavalry = { x = 1 y = 1 }
						} 

						priority = 0 
					}
				}

				if = {
					limit = {
						NOT = { has_template = "Reggimento Meharista" }
					}
					division_template = {
						name = "Reggimento Meharista" 
						division_names_group = ITA_CAM_01 
						override_model = ITA_camelry_alt_2_entity
						regiments = { 
							camelry = { x = 0 y = 0 } 
							camelry = { x = 0 y = 1 } 
							camelry = { x = 1 y = 0 } 
							camelry = { x = 1 y = 1 } 
						} 
					}
				}
			}

			### ITALY ###
			if = {
				limit = {
					capital_scope = { is_fully_controlled_by = ROOT }
				}
				capital_scope = {
					custom_effect_tooltip = ITA_integrate_polizia_dell_africa_italiana_spawn_units_italy_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisione Ascari Eritrea\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisione Ascari Libica\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_owned_state = {
						is_core_of = ROOT
						is_fully_controlled_by = ROOT
					}
				}
				random_owned_state = {
					limit = {
						is_core_of = ROOT
						is_fully_controlled_by = ROOT
					}
					prioritize = { 2 158 159 117 160 }
					custom_effect_tooltip = ITA_integrate_polizia_dell_africa_italiana_spawn_units_italy_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisione Ascari Eritrea\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisione Ascari Libica\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}

			custom_effect_tooltip = ITA_strengthen_ascari_corps_create_units_tt

			## CAVALRY + INFANTRY ##

			#ERITREA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = ERI
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = ERI
						is_fully_controlled_by = ROOT
					}
					prioritize = { 550 } # ERITREA (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_integrate_polizia_dell_africa_italiana_eritrea_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisione Ascari Eritrea\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = ERI
							is_fully_controlled_by = ROOT
						}
						prioritize = { 550 } # ERITREA (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_integrate_polizia_dell_africa_italiana_eritrea_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
							create_unit = {
								division = "division_template = \"Divisione Ascari Eritrea\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}

			#LIBYA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
					prioritize = { 448 } #TRIPOLI (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_integrate_polizia_dell_africa_italiana_libya_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisione Ascari Libica\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
						prioritize = { 448 } #TRIPOLI (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_integrate_polizia_dell_africa_italiana_libya_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
							create_unit = {
								division = "division_template = \"Divisione Ascari Libica\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}

			#SOMALIA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = SOM
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = SOM
						is_fully_controlled_by = ROOT
					}
					prioritize = { 559 } #SOMALILAND (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_integrate_polizia_dell_africa_italiana_somalia_tt
					hidden_effect = {
						create_unit = {
							division = "name = \"101a Divisione F. Coloniale Somala\" division_template = \"Divisione Ascari Somala\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = SOM
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = SOM
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = SOM
							is_fully_controlled_by = ROOT
						}
						prioritize = { 559 } #SOMALILAND (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_integrate_polizia_dell_africa_italiana_somalia_tt
						hidden_effect = {
							create_unit = {
								division = "name = \"101a Divisione F. Coloniale Somala\" division_template = \"Divisione Ascari Somala\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}


			#ETHIOPIA
			if = {
				limit = {
					any_controlled_state = {
						is_core_of = ETH
						is_fully_controlled_by = ROOT
					}
				}
				random_controlled_state = {
					limit = {
						is_core_of = ETH
						is_fully_controlled_by = ROOT
					}
					prioritize = { 271 } #ADDIS ABABA (In case at some point this gets split or tag gets more cores)
					custom_effect_tooltip = ITA_integrate_polizia_dell_africa_italiana_ethiopia_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"Divisione Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
							owner = ROOT
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
						}
						prioritize = { 271 } #ADDIS ABABA (In case at some point this gets split or tag gets more cores)
						custom_effect_tooltip = ITA_integrate_polizia_dell_africa_italiana_ethiopia_tt
						hidden_effect = {
							create_unit = {
								division = "division_template = \"Divisione Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 2
							}
						}
					}
				}
			}

			## CAMELRY ## Separated so that Libyan Meharisti go before Eritrean ones (cavalry is the other way around)
			hidden_effect = {
				#LIBYA
				if = {
					limit = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
					}
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
						prioritize = { 448 } #TRIPOLI (In case at some point this gets split or tag gets more cores)
						#Regular Camelry Eritrean
						create_unit = {
							division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
				else_if = {
					limit = {
						any_subject_country = {
							any_controlled_state = {
								is_core_of = LBA
								is_fully_controlled_by = ROOT
							}
						}
					}
					random_other_country = {
						limit = {
							is_subject_of = ROOT
							any_controlled_state = {
								is_core_of = LBA
								is_fully_controlled_by = ROOT
							}
						}
						random_controlled_state = {
							limit = {
								is_core_of = LBA
								is_fully_controlled_by = ROOT
							}
							prioritize = { 448 } #TRIPOLI (In case at some point this gets split or tag gets more cores)
							#Regular Camelry Eritrean
							create_unit = {
								division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_anti_partisan_measures
		icon = GFX_focus_spr_crush_the_revolution
		prerequisite = { focus = ITA_integrate_polizia_dell_africa_italiana }
		x = -1
		y = 1
		relative_position_id = ITA_integrate_polizia_dell_africa_italiana
		cost = 5
		
		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_stability = 0.05

			add_timed_idea = {
				idea = ITA_anti_partisan_measures_ns
				days = 365
			}

			add_to_variable = { 2.ITA_fronte_militare_clandestino_resistance_damage_to_garrison_on_our_occupied_states = 0.1 }
			add_to_variable = { 2.ITA_fronte_militare_clandestino_resistance_target_on_our_occupied_states = 0.1 }
			custom_effect_tooltip = ITA_anti_partisan_measures_state_modifier_rsi_tt
			
			hidden_effect = {
				RDS = { country_event = { id = BBA_italy_civil_war.4 hours = 1 } }
			}
		}
	}

	focus = {
		id = ITA_all_within_the_state
		icon = GFX_focus_ITA_generic_fascist_workers
		prerequisite = { focus = ITA_guardia_nazionale_repubblicana }
		x = 0
		y = 2
		relative_position_id = ITA_guardia_nazionale_repubblicana
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
			has_stability > 0.2
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_war_support = 0.05
			add_timed_idea = {
				idea = ITA_all_within_the_state_ns
				days = 365
			}
		}
	}

	focus = {
		id = ITA_battaglioni_m
		icon = GFX_focus_ITA_battaglioni_m
		prerequisite = { focus = ITA_guardia_nazionale_repubblicana }
		x = 1
		y = 1
		relative_position_id = ITA_guardia_nazionale_repubblicana
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
		}

		search_filters = {}

		completion_reward = {
			add_to_variable = { ITA_re_modifier_army_sub_unit_militia_defence_factor = 0.05 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_militia_max_org_factor = 0.05 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_blackshirt_assault_battalion_defence_factor = 0.05 }
			add_to_variable = { ITA_re_modifier_army_sub_unit_blackshirt_assault_battalion_attack_factor = 0.05 }
			#Custom tooltip based on Assault Battalions focus
			if = {
				limit = {
					has_completed_focus = ITA_battaglioni_d_assalto
				}
				custom_effect_tooltip = ITA_battaglioni_m_re_battaglioni_d_assalto_tt
			}
			else = {
				custom_effect_tooltip = ITA_battaglioni_m_re_tt
			}

			custom_effect_tooltip = ITA_blackshirts_div_cap_8_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 8 }
				set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }
			}
		}
	}

	focus = {
		id = ITA_reinforce_the_gustav_line
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = ITA_battaglioni_m }
		x = 1
		y = 1
		relative_position_id = ITA_battaglioni_m
		cost = 5

		bypass = {
			ITA_is_antifascist_civil_war_over = yes
		}

		available = {
		}

		search_filters = {}

		completion_reward = {
			every_core_state = {
				limit = {
					is_island_state = no
					is_fully_controlled_by = ROOT
					any_neighbor_state = {
						is_core_of = ROOT
						OR = {
							is_controlled_by = RDS
							controller = {
								has_war_with = ROOT
							}
						}
					}
				}
				every_neighbor_state = {
					limit = {
						is_core_of = ROOT
						OR = {
							is_controlled_by = RDS
							controller = {
								has_war_with = ROOT
							}
						}
					}
					if = {
						limit = {
							NOT = { is_in_array = { ROOT.targetcountries = THIS.controller } }
						}
						PREV = {
							add_building_construction = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_border_country = PREV.controller
								}
							}
						}
						add_to_array = { ROOT.targetcountries = THIS.controller }
					}
				}
				clear_array = ROOT.targetcountries
			}
		}
	}

	focus = {
		id = ITA_the_social_republic_prevails
		icon = GFX_focus_ITA_the_social_republic_prevails
		prerequisite = { focus = ITA_anti_partisan_measures }
		prerequisite = { focus = ITA_all_within_the_state }
		prerequisite = { focus = ITA_reinforce_the_gustav_line }
		x = 0
		y = 1
		relative_position_id = ITA_all_within_the_state
		cost = 5

		#bypass = { #MM: Might be benefitial for the player to complete this regardless of CW
		#	ITA_is_antifascist_civil_war_over = yes
		#}

		available = {
			surrender_progress < 0.01
		}

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_to_variable = { ITA_re_conscription_factor = 0.1 }
			add_to_variable = { ITA_re_army_core_defence_factor = 0.05 }
			custom_effect_tooltip = ITA_the_social_republic_prevails_re_tt

			add_stability = 0.1
			add_war_support = 0.1
		}
	}

	focus = {
		id = ITA_independence_rsi
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = ITA_the_social_republic_prevails }
		x = 0
		y = 1
		relative_position_id = ITA_the_social_republic_prevails
		cost = 5
		available = {
			has_war = no
			is_subject = yes
		}
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					is_subject = yes
				}
				OVERLORD = {
					country_event = { id = BBA_italy_civil_war.5 hours = 12 random_hours = 6 }
				}

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					OVERLORD = { end_puppet = ROOT }
					ROOT = {
						add_opinion_modifier = {
							target = PREV
							modifier = ITA_granted_us_independence
						}
					}
				}
			}
			else = { #FALLBACK TOOLTIPS
				custom_effect_tooltip = ITA_independence_overlord_fallback_tt
				effect_tooltip = {
					country_event = { id = BBA_italy_civil_war.5 hours = 12 random_hours = 6 }
				}
				custom_effect_tooltip = if_they_accept_tt
				custom_effect_tooltip = ITA_independence_overlord_fallback_accept_tt
			}
		}
	}


   ###    ##    ## ######## ####         ########    ###     ######   ######  ####  ######  ######## 
  ## ##   ###   ##    ##     ##          ##         ## ##   ##    ## ##    ##  ##  ##    ##    ##    
 ##   ##  ####  ##    ##     ##          ##        ##   ##  ##       ##        ##  ##          ##    
##     ## ## ## ##    ##     ##  ####### ######   ##     ##  ######  ##        ##   ######     ##    
######### ##  ####    ##     ##          ##       #########       ## ##        ##        ##    ##    
##     ## ##   ###    ##     ##          ##       ##     ## ##    ## ##    ##  ##  ##    ##    ##    
##     ## ##    ##    ##    ####         ##       ##     ##  ######   ######  ####  ######     ##    


	focus = {
		id = ITA_unite_the_opposition
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		prerequisite = { focus = ITA_the_abyssinian_fiasco }

		x = -19
		y = 1
		relative_position_id = ITA_the_abyssinian_fiasco
		cost = 5

		allow_branch = {
			has_dlc = "By Blood Alone"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_country_flag = hide_defy_the_duce_focus_flag
				}
			}
		}

		offset = {
			x = 14
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ITA_defy_the_duce
			}
		}

		bypass = {
			has_global_flag = ITA_antifascist_civil_war_triggered_flag
			hidden_trigger = {
				has_civil_war = yes
				NOT = { has_completed_focus = ITA_culto_del_duce }
				NOT = { has_completed_focus = ITA_convene_the_grand_council }
				NOT = { has_completed_focus = ITA_foreign_affairs }
			}
		}

		available = {
			NOT = { has_completed_focus = ITA_foreign_affairs }
			has_civil_war = no
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_stability = -0.1
			add_popularity = {
				ideology = fascism 
				popularity = -0.1
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = amadeo_bordiga
			show_ideas_tooltip = ivanoe_bonomi

			custom_effect_tooltip = ITA_unite_the_opposition_cw_benefits_tt

			custom_effect_tooltip = ITA_foreign_affairs_focus_locked_tt
		}
	}

	focus = {
		id = ITA_liberate_gramsci
		icon = GFX_focus_ITA_liberate_gramsci
		prerequisite = { focus = ITA_unite_the_opposition focus = ITA_triumph_in_africa_bba }

		x = 2
		y = 2
		relative_position_id = ITA_unite_the_opposition
		cost = 5

		allow_branch = {
			has_dlc = "By Blood Alone"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_country_flag = hide_defy_the_duce_focus_flag
				}
			}
		}

		available = {
			NOT = { has_global_flag = ITA_antifascist_civil_war_triggered_flag }
			date < 1937.1.1
			has_civil_war = no
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_popularity = {
				ideology = communism 
				popularity = 0.1
			}
			add_political_power = 50

			custom_effect_tooltip = ITA_liberate_gramsci_tt
			effect_tooltip = {
				add_country_leader_role = {
					character =  ITA_antonio_gramsci
					country_leader = {
						ideology = marxism
						expire = 1965.1.1
						traits = { indisposed_political_scientist }
					}
				}
			}

			hidden_effect = {
				country_event = { id = BBA_italy_communist_events.09 days = 760 random_days = 60 }
			}
		}
	}

	focus = {
		id = ITA_organize_strikes_in_the_north
		icon = GFX_focus_SOV_organize_wreckers
		prerequisite = { focus = ITA_unite_the_opposition }
		mutually_exclusive = { focus = ITA_the_southern_farmlands }
		x = -1
		y = 1
		relative_position_id = ITA_unite_the_opposition
		cost = 5
		available = {
			has_civil_war = no
		}

		bypass = {
			has_global_flag = ITA_antifascist_civil_war_triggered_flag
			hidden_trigger = {
				has_civil_war = yes
				NOT = { has_completed_focus = ITA_culto_del_duce }
				NOT = { has_completed_focus = ITA_convene_the_grand_council }
				NOT = { has_completed_focus = ITA_foreign_affairs }
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			custom_effect_tooltip = ITA_organize_strikes_in_the_north_tt
		}
	}

	focus = {
		id = ITA_the_southern_farmlands
		icon = GFX_focus_SOV_breadbasket_of_the_union
		prerequisite = { focus = ITA_unite_the_opposition }
		mutually_exclusive = { focus = ITA_organize_strikes_in_the_north }
		x = 1
		y = 1
		relative_position_id = ITA_unite_the_opposition
		cost = 5
		available = {
			has_civil_war = no
		}

		bypass = {
			has_global_flag = ITA_antifascist_civil_war_triggered_flag
			hidden_trigger = {
				has_civil_war = yes
				NOT = { has_completed_focus = ITA_culto_del_duce }
				NOT = { has_completed_focus = ITA_convene_the_grand_council }
				NOT = { has_completed_focus = ITA_foreign_affairs }
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			custom_effect_tooltip = ITA_the_southern_farmlands_tt
		}
	}

	focus = {
		id = ITA_defy_the_duce
		icon = GFX_focus_ITA_liberation_or_death
		prerequisite = { focus = ITA_organize_strikes_in_the_north focus = ITA_the_southern_farmlands focus = ITA_triumph_in_africa_bba }
		mutually_exclusive = { focus = ITA_culto_del_duce focus = ITA_convene_the_grand_council }
		x = 1
		y = 2
		relative_position_id = ITA_organize_strikes_in_the_north
		cost = 5

		allow_branch = {
			has_dlc = "By Blood Alone"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_country_flag = hide_defy_the_duce_focus_flag_2
				}
			}
		}
		
		available = {
			NOT = { has_completed_focus = ITA_foreign_affairs }
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			#country_event = BBA_italy_civil_war.300

			if = {
				limit = {
					has_country_flag = ITA_Spring_of_Roma_Peace_flag
				}
				add_political_power = 10
			}
			else = {
				country_event = BBA_italy_civil_war.300
			}

			#Unlock Political Advisors if coming from Solid Progress
			if = {
				limit = {
					NOT = { has_completed_focus = ITA_unite_the_opposition }
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = amadeo_bordiga
				show_ideas_tooltip = ivanoe_bonomi
			}

			custom_effect_tooltip = ITA_foreign_affairs_focus_locked_tt

			#START MAFIA STUFF
			hidden_effect = {
				country_event = { id = BBA_italy_democratic_events.03 days = 40 random_days = 15}
			}

			#BELLA CIAO
			hidden_effect = {
				play_song = "bella_ciao"
			}

			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}

	focus = {
		id = ITA_appeal_to_the_bourgeoisie
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = ITA_defy_the_duce }

		x = -1
		y = 1
		relative_position_id = ITA_defy_the_duce
		cost = 5
		available = {
			has_civil_war = yes
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_war_support = 0.1
			add_equipment_to_stockpile = { 
				type = motorized_equipment
				amount = 500
				producer = ROOT
			}
			add_manpower = 50000

			add_timed_idea = {
				idea = ITA_cooperation_of_the_bourgeoisie
				days = 365
			}
		}
	}

	focus = {
		id = ITA_seize_old_equipment
		icon = GFX_focus_generic_railway_gun
		prerequisite = { focus = ITA_defy_the_duce }

		x = 1
		y = 1
		relative_position_id = ITA_defy_the_duce
		cost = 5
		available = {
			has_civil_war = yes
			has_full_control_of_state = 162 #TOSCANA -> La Spezia, where railway guns were stored.
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				#Required techs for railway guns
				if = {
					limit = {
						NOT = { has_tech = armored_train }
					}
					set_technology = { armored_train = 1 }
				}
				if = {
					limit = {
						NOT = { has_tech = railway_gun }
					}
					set_technology = { railway_gun = 1 }
				}

				ITA_mobilize_railway_guns = yes
			}

			add_equipment_to_stockpile = { 
				type = infantry_equipment
				amount = 4000
				producer = ROOT
			}
			add_equipment_to_stockpile = { 
				type = support_equipment
				amount = 500
				producer = ROOT
			}
			add_equipment_to_stockpile = { 
				type = armored_car_equipment
				amount = 100
				producer = ROOT
			}
			add_equipment_to_stockpile = {
				type = motorized_equipment_1
				amount = 100
			}
			add_equipment_to_stockpile = {
				type = light_tank_chassis_0
				amount = 60
				variant_name = "Fiat 3000"
			}
			add_equipment_to_stockpile = {
				type = light_tank_chassis_0
				amount = 20
				variant_name = "Fiat 3000B"
			}
			add_manpower = 20000

			add_timed_idea = {
				idea = ITA_seizing_old_equipment
				days = 365
			}
		}
	}

	focus = {
		id = ITA_the_italian_republic
		icon = GFX_focus_ITA_the_italian_republic
		prerequisite = { focus = ITA_defy_the_duce }

		x = 0
		y = 2
		relative_position_id = ITA_defy_the_duce
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_stability = 0.1
			add_political_power = 50
			effect_tooltip = {
				retire_character = ITA_vittorio_emanuele_iii
			}
			hidden_effect = {
				remove_country_leader_role = {
					character = ITA_vittorio_emanuele_iii
					ideology = despotism
				}
			}
			ITA_remove_king_vittorio_emanuele_as_idea = yes

			add_ideas = ITA_disgruntled_military

			every_owned_state = { #Compensating for ideology swap auto-eating half compliance
				limit = {
					has_resistance = yes
				}
				add_compliance = 5
			}

			#Names for NSs
			hidden_effect = {
				ITA_replace_stuff_based_on_ideology_effect = yes
			}
		}
	}



 ######   #######  ##     ## ##     ## ##     ## ##    ## ####  ######  ######## 
##    ## ##     ## ###   ### ###   ### ##     ## ###   ##  ##  ##    ##    ##    
##       ##     ## #### #### #### #### ##     ## ####  ##  ##  ##          ##    
##       ##     ## ## ### ## ## ### ## ##     ## ## ## ##  ##   ######     ##    
##       ##     ## ##     ## ##     ## ##     ## ##  ####  ##        ##    ##    
##    ## ##     ## ##     ## ##     ## ##     ## ##   ###  ##  ##    ##    ##    
 ######   #######  ##     ## ##     ##  #######  ##    ## ####  ######     ##    




	focus = {
		id = ITA_the_popular_front
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = ITA_the_italian_republic }
		mutually_exclusive = { focus = ITA_italian_socialism }
		x = -5
		y = 1
		relative_position_id = ITA_the_italian_republic
		cost = 5
		available = {
			if = {
				limit = {
					has_country_flag = Lock_ITA_the_Popular_front_flag
				}
				custom_trigger_tooltip = ITA_the_popular_front_Locked_tt
				hidden_trigger = {
					NOT = {
						has_country_flag = Lock_ITA_the_Popular_front_flag
					}
				}
			}
			else = {
				NOT = { has_government = fascism }
				NOT = { has_government = neutrality }
				has_civil_war = no
				is_subject = no
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			every_owned_state = { #Compensating for ideology swap auto-eating half compliance
				limit = {
					has_resistance = yes
				}
				add_compliance = 10
			}
			add_political_power = 50
			add_popularity = {
				ideology = communism
				popularity = 0.15
			}
			if = {
				limit = {
					NOT = { has_government = communism }
				}
				if = {
					limit = {
						has_country_leader = {
							character = ITA_comitato_di_liberazione_nazionale
							ruling_only = yes
						}
					}
					ITA_promote_cln_to_country_leader_communism = yes
				}
				set_politics = {
					ruling_party = communism
				}
			}

			unlock_decision_tooltip = ITA_bop_cooperation_with_anarchists

			#Remove the other country leader role if any
			hidden_effect = {
				if = {
					limit = {
						ITA_comitato_di_liberazione_nazionale = {
							has_ideology = socialism
						}
					}
					remove_country_leader_role = {
						character =  ITA_comitato_di_liberazione_nazionale
						ideology = socialism
					}
				}
			}

			#BoP
			set_power_balance = {
				id = ITA_power_balance
				left_side = ITA_communism_side
				right_side = ITA_democratic_side
				set_value = -0.15
			}
		}
	}

	focus = {
		id = ITA_the_garibaldi_legion
		icon = GFX_focus_ITA_garibaldi_legion
		prerequisite = { focus = ITA_the_popular_front }

		x = -5
		y = 1
		relative_position_id = ITA_the_popular_front
		cost = 5

		bypass = {
			OR = {
				has_global_flag = scw_over
				if = { 
					limit = { NOT = { has_global_flag = spanish_civil_war } }
					NOT = { country_exists = SPR }
				}
				else = {
					NOT = { country_exists = SPD }
					NOT = { country_exists = SPC }
				}
			}
		}

		available = {
			has_civil_war = no
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPR_scw_in_progress = yes
				if = {
					limit = {
						NOT = { has_global_flag = spanish_civil_war }
					}
					custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_country_exist_tt
					    country_exists = SPR
				    }
				    custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_at_peace_tt
						NOT = { has_war_with = SPR }
				    }
				}
				else = {
					OR = {
						AND = {
							country_exists = SPD
							NOT = { has_war_with = SPD }
						}
						AND = {
							country_exists = SPC
							NOT = { has_war_with = SPC }
						}
					}
				}
			}
			else = {
				any_other_country = {
					original_tag = SPR
					has_civil_war = yes
					NOT = { has_war_with = ROOT }
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
			}
		}

		search_filters = {}

		completion_reward = {
			add_ideas = ITA_the_garibaldi_legion_ns
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						country_exists = SPD
					}
					SPD = {
						add_opinion_modifier = {
							target = ROOT
							modifier = ita_supported_spain_civil_war
						}
					}
				}
				if = {
					limit = {
						country_exists = SPC
					}
					SPC = {
						add_opinion_modifier = {
							target = ROOT
							modifier = ita_supported_spain_civil_war
						}
					}
				}
			}
			else = {
				random_other_country = {
					limit = {
						OR = {
							has_government = democratic
							has_government = communism
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = ita_supported_spain_civil_war
					}
				}
			}
		}
	}

	focus = {
		id = ITA_gruppi_di_difesa_della_donna
		icon = GFX_focus_generic_women_in_military
		prerequisite = { focus = ITA_the_garibaldi_legion }

		x = -1
		y = 1
		relative_position_id = ITA_the_garibaldi_legion
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			show_unit_leaders_tooltip = ITA_ada_gobetti

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_ideas = ITA_gruppi_di_difesa_della_donna_ns
				ITA_create_stefanina_moro_operative = yes
			}
			else = {
				add_ideas = ITA_gruppi_di_difesa_della_donna_ns_no_lar
			}

			#TODO_Manu: Unlocks generation of female generals, admirals, aces, etc. Could add more female generals
		}
	}

	focus = {
		id = ITA_a_new_era_for_the_red_shirts
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = ITA_the_garibaldi_legion }

		x = 1
		y = 1
		relative_position_id = ITA_the_garibaldi_legion
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			add_to_variable = { ITA_re_modifier_army_sub_unit_militia_max_org_factor = 0.05 }
			custom_effect_tooltip = ITA_a_new_era_for_the_red_shirts_re_tt

			custom_effect_tooltip = ITA_redshirts_div_cap_12_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 12 }
				set_division_template_cap = { division_template = "Camicie Rosse" division_cap = ITA_militias_cap }
			}
		}
	}

	focus = {
		id = ITA_pugno_alzato
		icon = GFX_focus_ITA_corpo_volontari_della_liberta
		prerequisite = { focus = ITA_gruppi_di_difesa_della_donna focus = ITA_a_new_era_for_the_red_shirts }

		x = 1
		y = 1
		relative_position_id = ITA_gruppi_di_difesa_della_donna
		cost = 10
		available = {
			has_war = yes
			has_government = communism
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_war_support = 0.1
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			custom_effect_tooltip = ITA_pugno_alzato_wargoals_tt
			if = {
				limit = {

				}
				custom_effect_tooltip = generic_current_effects
				every_other_country = {
					limit = {
						has_government = fascism
						OR = {
							is_major = yes
							is_neighbor_of = ROOT
						}
					}
					ROOT = {
						create_wargoal = {
							type = topple_government
							target = PREV
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_a_leader_steps_forward
		icon = GFX_focus_ITA_communist_leadership
		prerequisite = { focus = ITA_the_popular_front }

		x = -2
		y = 1
		relative_position_id = ITA_the_popular_front
		cost = 5
		available = {
			has_government = communism
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			country_event = BBA_italy_communist_events.01

			unlock_decision_tooltip = ITA_bop_unify_the_left

			ITA_bop_medium_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ITA_the_path_to_progress
		icon = GFX_focus_SOV_proclaim_soviet_hegemony
		prerequisite = { focus = ITA_a_leader_steps_forward }

		x = 0
		y = 1
		relative_position_id = ITA_a_leader_steps_forward
		cost = 5
		available = {
		}

		bypass = {
			NOT = {
				any_other_country = {
					OR = { #Communists and Socialists
						has_government = communism
						has_country_leader_ideology = socialism
					}
					NOT = { has_war_with = ROOT }
				}
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = ITA_the_path_to_progress_event_tt

			if = {
				limit = {
					any_other_country = {
						OR = { #Communists and Socialists
							has_government = communism
							has_country_leader_ideology = socialism
						}
						NOT = { has_war_with = ROOT }
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_other_country = {
					limit = {
						OR = { #Communists and Socialists
							has_government = communism
							has_country_leader_ideology = socialism
						}
						NOT = { has_war_with = ROOT }
					}
					country_event = { id = BBA_italy_communist_events.02 hours = 4 random_hours = 2 }
				}
			}

			custom_effect_tooltip = ITA_the_path_to_progress_aid_effects_tt

			hidden_effect = {
				country_event = { id = BBA_italy_communist_events.300 days = 25 random_days = 5 }
			}

			ITA_bop_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ITA_industrial_socialization
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = ITA_the_popular_front }

		x = 0
		y = 1
		relative_position_id = ITA_the_popular_front
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_stability = -0.15

			custom_effect_tooltip = ITA_industrial_socialization_factories_tt
			hidden_effect = {
				# 4 CIVS
				random_core_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					set_state_flag = ITA_social_industrialization_flag
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				random_core_state = {
					limit = {
						NOT = { has_state_flag = ITA_social_industrialization_flag }
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					set_state_flag = ITA_social_industrialization_flag
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}

				# 4 MILS
				random_core_state = {
					limit = {
						NOT = { has_state_flag = ITA_social_industrialization_flag }
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				random_core_state = {
					limit = {
						NOT = { has_state_flag = ITA_social_industrialization_flag }
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			ITA_bop_medium_increase_communism_side_effect = yes

			#Clear stuff thanks
			hidden_effect = {
				every_core_state = {
					limit = {
						has_state_flag = ITA_social_industrialization_flag
					}
					clr_state_flag = ITA_social_industrialization_flag
				}
			}
		}
	}

	focus = {
		id = ITA_institute_the_five_year_plan
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = ITA_industrial_socialization }

		x = 0
		y = 1
		relative_position_id = ITA_industrial_socialization
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_stability = -0.05

			add_to_variable = { ITA_iri_production_speed_industrial_complex_factor = 0.1 }
			add_to_variable = { ITA_iri_production_speed_arms_factory_factor = 0.1 }
			add_to_variable = { ITA_iri_production_speed_dockyard_factor = 0.1 }
			add_to_variable = { ITA_iri_production_speed_infrastructure_factor = 0.1 }
			custom_effect_tooltip = ITA_institute_the_five_year_plan_iri_tt
		}
	}

	focus = {
		id = ITA_new_ricostruzione_industriale
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = ITA_institute_the_five_year_plan }

		x = 0
		y = 1
		relative_position_id = ITA_institute_the_five_year_plan
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_stability = -0.05

			add_to_variable = { ITA_iri_consumer_goods_factor = -0.04 }
			custom_effect_tooltip = ITA_new_ricostruzione_industriale_iri_tt

			add_to_variable = { ITA_military_industry_dm_industrial_capacity_factory = 0.05 }
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_dockyard = 0.05 }
			custom_effect_tooltip = ITA_new_ricostruzione_industriale_military_industry_dm_tt

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = ITA_officine_meccaniche_organization
				mio:ITA_officine_meccaniche_organization = {
					add_mio_size = 3
					complete_mio_trait = ITA_mio_trait_new_ricostruzione_iundustriale_motorized
					complete_mio_trait = ITA_mio_trait_new_ricostruzione_iundustriale_mechanized
					complete_mio_trait = ITA_mio_trait_new_ricostruzione_iundustriale_train
				}
			}
			else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = ITA_officine_meccaniche
			}
		}
	}

	focus = {
		id = ITA_political_commissars
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = ITA_industrial_socialization }
		mutually_exclusive = { focus = ITA_appease_the_military focus = ITA_empower_the_carabinieri }
		x = 2
		y = 1
		relative_position_id = ITA_industrial_socialization
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			if = {
				limit = {
					has_idea = ITA_disgruntled_military
				}
				swap_ideas = {
					remove_idea = ITA_disgruntled_military
					add_idea = ITA_political_commissars
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = ITA_disgruntled_military
						add_idea = ITA_political_commissars
					}
				}
				hidden_effect = {
					add_ideas = ITA_political_commissars
				}
			}
			
			ITA_norma_barbolini = {
				promote_leader = yes
			}

			ITA_bop_very_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ITA_common_ground
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = ITA_the_popular_front focus = ITA_italian_socialism }

		x = 4
		y = 1
		relative_position_id = ITA_the_popular_front
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05
			if = {
				limit = {
					has_completed_focus = ITA_the_popular_front
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = ITA_guido_de_ruggiero
				show_ideas_tooltip = ITA_alberto_tarchiani
				show_ideas_tooltip = ITA_luigi_einaudi

				custom_effect_tooltip = available_chief_of_army
				show_ideas_tooltip = ITA_giovanni_duca
			}
			else_if = {
				limit = {
					has_completed_focus = ITA_italian_socialism
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = ITA_luigi_einaudi
				show_ideas_tooltip = ITA_alcide_de_gasperi
				show_ideas_tooltip = ITA_mario_scelba
				show_ideas_tooltip = ITA_vittorio_emanuele_orlando
				show_ideas_tooltip = ITA_antonio_pesenti
				show_ideas_tooltip = ITA_fausto_gullo
				show_ideas_tooltip = ITA_luigi_longo
				custom_effect_tooltip = available_military_high_command
				show_ideas_tooltip = ITA_randolfo_pacciardi
			}
			else = {
				custom_effect_tooltip = ITA_common_ground_advisors_tt
			}

			unlock_decision_tooltip = ITA_bop_concesions_to_the_bourgeoisie

			if = {
				limit = {
					has_completed_focus = ITA_the_popular_front
				}
				ITA_bop_medium_increase_democratic_side_effect = yes #WARNING THIS VALUES NEED TO MATCH WITH THE ONE SHOWN IN TOOLTIP ITA_common_ground_bop_tt
			}
			else_if = {
				limit = {
					has_completed_focus = ITA_italian_socialism
				}
				ITA_bop_medium_increase_communism_side_effect = yes #WARNING THIS VALUES NEED TO MATCH WITH THE ONE SHOWN IN TOOLTIP ITA_common_ground_bop_tt
			}
			else = {
				custom_effect_tooltip = ITA_common_ground_bop_tt
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_ideas = ITA_socialist_cooperation
				ITA_create_maurizio_giglio_operative = yes
			}
		}
	}

	focus = {
		id = ITA_appease_the_military
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = ITA_common_ground }
		mutually_exclusive = { focus = ITA_political_commissars focus = ITA_empower_the_carabinieri }
		x = 0
		y = 1
		relative_position_id = ITA_common_ground
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			#NTH_Manu: Medals to Divsion Commanders

			if = {
				limit = {
					has_idea = ITA_disgruntled_military
				}
				remove_ideas = ITA_disgruntled_military
			}
			else = {
				effect_tooltip = {
				 	remove_ideas = ITA_disgruntled_military
				}
			}

			custom_effect_tooltip = ITA_heroes_of_the_nation_general_traits_tt
			#Stupid tooltips oh my god I hate this game
			hidden_effect = {
				if = {
					limit = {
						any_character = {
							is_army_leader = yes
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
					}
					random_character = {
						limit = {
							is_army_leader = yes
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
						add_unit_leader_trait = war_hero
					}
				}
				else = {
					random_character = {
						limit = {
							is_army_leader = yes
							NOT = { has_trait = war_hero }
						}
						add_unit_leader_trait = war_hero
					}	
				}

				if = {
					limit = {
						any_character = {
							is_army_leader = yes
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
					}
					random_character = {
						limit = {
							is_army_leader = yes
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
						add_unit_leader_trait = war_hero
					}
				}
				else = {
					random_character = {
						limit = {
							is_army_leader = yes
							NOT = { has_trait = war_hero }
						}
						add_unit_leader_trait = war_hero
					}	
				}

				if = {
					limit = {
						any_character = {
							is_army_leader = yes
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
					}
					random_character = {
						limit = {
							is_army_leader = yes
							NOT = { has_trait = war_hero }
							is_leading_army = yes
							skill > 3
						}
						add_unit_leader_trait = war_hero
					}
				}
				else = {
					random_character = {
						limit = {
							is_army_leader = yes
							NOT = { has_trait = war_hero }
						}
						add_unit_leader_trait = war_hero
					}	
				}
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				swap_ideas = {
					remove_idea = ITA_socialist_cooperation
					add_idea = ITA_socialist_cooperation_improved
				}
				ITA_create_emilio_faldella_operative = yes
			}
		}
	}

	focus = {
		id = ITA_crush_the_mafia
		icon = GFX_focus_eng_move_to_secure_the_dominions
		prerequisite = { focus = ITA_the_popular_front focus = ITA_italian_socialism }
		mutually_exclusive = { focus = ITA_cooperate_with_the_mafia }
		x = 6
		y = 1
		relative_position_id = ITA_the_popular_front
		cost = 10
		available = {
			has_equipment = {
				infantry_equipment > 999
			}
			has_manpower > 999
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
			add_manpower = -1000
			custom_effect_tooltip = ITA_cooperate_with_the_mafia_dm_tt
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				effect_tooltip = {
					remove_dynamic_modifier = { modifier = ITA_mafia_on_the_rise }
				}
				hidden_effect = {
					every_controlled_state = {
						limit = {
							has_dynamic_modifier = { modifier = ITA_mafia_on_the_rise }
						}
						remove_dynamic_modifier = { modifier = ITA_mafia_on_the_rise }
					}
				}
			}
			else = {
				effect_tooltip = {
					remove_dynamic_modifier = { modifier = ITA_mafia_on_the_rise_no_lar }
				}
				hidden_effect = {
					every_controlled_state = {
						limit = {
							has_dynamic_modifier = { modifier = ITA_mafia_on_the_rise_no_lar }
						}
						remove_dynamic_modifier = { modifier = ITA_mafia_on_the_rise_no_lar }
					}
				}
			}
		}
	}

	focus = {
		id = ITA_empower_the_carabinieri
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = ITA_crush_the_mafia }
		mutually_exclusive = { focus = ITA_political_commissars focus = ITA_appease_the_military }
		x = 0
		y = 1
		relative_position_id = ITA_crush_the_mafia
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			show_unit_leaders_tooltip = ITA_ugo_luca
			show_unit_leaders_tooltip = ITA_giuseppe_pieche

			if = {
				limit = {
					has_idea = ITA_disgruntled_military
				}
				swap_ideas = {
					remove_idea = ITA_disgruntled_military
					add_idea = ITA_empowered_carabinieri
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = ITA_disgruntled_military
						add_idea = ITA_empowered_carabinieri
					}
				}
				hidden_effect = {
					add_ideas = ITA_empowered_carabinieri
				}
			}
		}
	}

	focus = {
		id = ITA_army_modernization
		icon = GFX_focus_generic_tank_air_support
		prerequisite = { focus = ITA_appease_the_military focus = ITA_political_commissars focus = ITA_empower_the_carabinieri }

		x = 0
		y = 1
		relative_position_id = ITA_appease_the_military
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			army_experience = 25
			air_experience = 25
			navy_experience = 25
			add_command_power = 50

			add_doctrine_cost_reduction = {
				name = ITA_army_modernization
				cost_reduction = 0.75
				uses = 3
				category = land_doctrine
				category = air_doctrine
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = ITA_union_in_the_party
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = ITA_the_path_to_progress }

		x = 0
		y = 2
		relative_position_id = ITA_the_path_to_progress
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_stability = -0.05
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_ideas = ITA_anti_fascist_agents
				if = {
					limit = {
						NOT = { has_country_flag = ITA_gappisti_operative_flag }
					}
					set_country_flag = ITA_gappisti_operative_flag
					ITA_create_laura_garroni_operative = yes
				}
			}

			ITA_bop_medium_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ITA_follow_the_soviet_union
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = ITA_union_in_the_party }
		mutually_exclusive = { focus = ITA_defend_the_land }
		x = -2
		y = 1
		relative_position_id = ITA_union_in_the_party
		cost = 5

		bypass = {
			OR = {
				NOT = { country_exists = SOV }
				NOT = { SOU = { has_government = communism } }
				is_in_faction_with = SOU
			}
		}

		available = {
			if = {
				limit = {
					OR = {
						NOT = { country_exists = SOU }
						NOT = { SOU = { has_government = communism } }
						is_in_faction_with = SOU
					}
				}
				#This is intended so that the focus does not look unavailable when it is actually bypassed
			}
			else = {
				is_in_faction = no
				is_subject = no
				SOU = {
					has_government = communism
					is_faction_leader = yes
					is_subject = no
					has_civil_war = no
					NOT = { is_justifying_wargoal_against = ROOT }
					NOT = { has_war_with = ROOT }
				}
				SOU = { #Split for easier visualization in the tooltip
					has_opinion	= {
						target = ROOT
						value > 50
					}
				}
			}
		}
		
		search_filters = {}
		completion_reward = {			
			SOU = {
				country_event = { id = generic.2 hours = 4 random_hours = 4 }
			}
			if = {
				limit = {
					SOU = { has_war = yes }
				}
				add_war_support = 0.1
			}

			SOU = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 100
				}
			}
			add_ai_strategy = {
				type = befriend
				id = SOU
				value = 100
			}
		}
	}

	focus = {
		id = ITA_military_cooperation
		icon = GFX_goal_support_communism
		prerequisite = { focus = ITA_follow_the_soviet_union }

		x = 0
		y = 1
		relative_position_id = ITA_follow_the_soviet_union
		cost = 5
		available = {
			is_in_faction = yes
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			army_experience = 25
			air_experience = 25
			navy_experience = 25

			add_doctrine_cost_reduction = {
				name = ITA_military_cooperation
				cost_reduction = 0.75
				uses = 1
				category = land_doctrine
			}

			if = {
				limit = {
					is_in_faction = yes
				}
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					country_event = { id = BBA_italy_communist_events.05 hours = 4 random_hours = 2 }
				}
			}
			else = {
				custom_effect_tooltip = generic_every_allied_country
				effect_tooltip = {
					country_event = { id = BBA_italy_communist_events.05 hours = 4 random_hours = 2 }
				}
			}
		}
	}

	focus = {
		id = ITA_defense_against_capitalism
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		prerequisite = { focus = ITA_military_cooperation }

		x = -1
		y = 1
		relative_position_id = ITA_military_cooperation
		cost = 10
		available = {
			has_government = communism
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_timed_idea = {
				idea = ITA_defense_against_capitalism
				days = 730
			}

			custom_effect_tooltip = ITA_defense_against_capitalism_ws_tt
			hidden_effect = {
				set_variable = { ITA_democratic_neighbors = 0 }
				every_neighbor_country = {
					limit = {
						has_government = democratic
					}
					if = {
						limit = {
							check_variable = { ITA_democratic_neighbors < 0.1 }
						}
					}
					ROOT = { add_to_variable = { ITA_defense_against_capitalism = 0.02 } }
				}
				add_war_support = ITA_democratic_neighbors
			}

			ITA_bop_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ITA_combined_research_effort
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = ITA_military_cooperation }

		x = 0
		y = 2
		relative_position_id = ITA_military_cooperation
		cost = 5
		bypass = {
			NOT = {
				any_other_country = {
					is_in_faction_with = ROOT
					is_government_in_exile = no
				}
			}
		}

		available = {
			has_government = communism
			any_other_country = {
				is_in_faction_with = ROOT
				is_government_in_exile = no
			}
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = BUL_soviet_bulgarian_war_industry_research_sharing_tt
			hidden_effect = {
				every_country = {
					limit = {
						is_in_tech_sharing_group = comintern_research
					}
					remove_from_tech_sharing_group = comintern_research
					add_to_tech_sharing_group = BUL_improved_comintern_research
				}
			}
		}
	}

	focus = {
		id = ITA_special_brigades
		icon = GFX_focus_SOV_mobilization_plan
		prerequisite = { focus = ITA_follow_the_soviet_union focus = ITA_defend_the_land }

		x = 2
		y = 2
		relative_position_id = ITA_follow_the_soviet_union
		cost = 5
		available = {
			has_government = communism
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_special_brigades_tt
			hidden_effect = {
				set_technology = { blackshirt_assault_battalion_tech = 1 popup = no }
			}

			custom_effect_tooltip = ITA_redshirts_div_cap_8_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 8 }
				set_division_template_cap = {  division_template = "Camicie Rosse" division_cap = ITA_militias_cap }
			}
		}
	}

	focus = {
		id = ITA_defend_the_land
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = ITA_union_in_the_party }
		mutually_exclusive = { focus = ITA_follow_the_soviet_union }
		x = 2
		y = 1
		relative_position_id = ITA_union_in_the_party
		cost = 5
		available = {
			is_subject = no
		}

		search_filters = {}

		completion_reward = {
			create_faction = ITA_united_socialist_front

			custom_effect_tooltip = ITA_defend_the_land_invite_tt
			if = {
				limit = {
					any_other_country = {
						has_government = communism
						is_in_faction = no
						is_subject = no
						NOT = {
							has_country_leader = {
								character = SOV_iosif_stalin
								ruling_only = yes
							}
						}
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_other_country = {
					limit = {
						has_government = communism
						is_in_faction = no
						is_subject = no
						NOT = {
							OR = {
								has_country_leader = {
									character = SOV_iosif_stalin
									ruling_only = yes
								}
								any_allied_country = {
									has_country_leader = {
										character = SOV_iosif_stalin
										ruling_only = yes
									}
								}
							}
						}
					}
					hidden_effect = {
						country_event = { id = generic.5 hours = 4 random_hours = 4 }
					}
					custom_effect_tooltip = ITA_defend_the_land_faction_tt
				}
			}
		}
	}

	focus = {
		id = ITA_united_anarchist_confederations
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = ITA_defend_the_land }

		x = -1
		y = 1
		relative_position_id = ITA_defend_the_land
		cost = 5
		available = {
			has_government = communism
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
					country_exists = SPC
					NOT = { has_war_with = SPC }
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
				add_manpower = 50000

				SPC = {
					country_event = { id = BBA_italy_communist_events.06 hours = 24 random_hours = 24 }
				}
			}
			else = {
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
				add_manpower = 25000

				if = {
					limit = {
						has_dlc = "La Resistance"
					}
					custom_effect_tooltip = ITA_united_anarchist_confederations_tt
				}
				hidden_effect = {
					news_event = { id = bba_news.111 hours = 24 random_hours = 12 }
				}
			}

			ITA_bop_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ITA_the_fight_against_stalinism
		icon = GFX_focus_spr_masters_of_our_own_fate
		prerequisite = { focus = ITA_defend_the_land }

		x = 1
		y = 1
		relative_position_id = ITA_defend_the_land
		cost = 10
		available = {
			country_exists = SOU
			NOT = { is_in_faction_with = SOU }
			NOT = { has_guaranteed = SOU }
			NOT = { is_guaranteed_by = SOU }
			NOT = { has_non_aggression_pact_with = SOU }
		}

		search_filters = {}

		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOU
			}

			add_timed_idea = {
				idea = ITA_the_fight_against_stalinism

				days = 730
			}
		}
	}

	focus = {
		id = ITA_raise_the_peoples
		icon = GFX_focus_ITA_peasants_rise
		prerequisite = { focus = ITA_defend_the_land }

		x = 0
		y = 3
		relative_position_id = ITA_defend_the_land
		cost = 10
		available = {
			has_government = communism
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_to_variable = { ITA_re_conscription_factor = 0.05 }
			custom_effect_tooltip = ITA_raise_the_peoples_re_tt

			custom_effect_tooltip = ITA_redshirts_div_cap_12_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 12 }
				set_division_template_cap = {  division_template = "Camicie Rosse" division_cap = ITA_militias_cap }
			}

			capital_scope = {
				custom_effect_tooltip = ITA_raise_the_peoples_spawn_divs_tt
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Camicie Rosse\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 6
					}
				}
			}

			ITA_bop_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ITA_il_sol_dell_avvenire
		icon = GFX_focus_ITA_il_sol_dell_avvenire
		prerequisite = { focus = ITA_combined_research_effort focus = ITA_raise_the_peoples }

		x = 2
		y = 1
		relative_position_id = ITA_combined_research_effort
		cost = 10
		available = {
			has_completed_focus = ITA_servizio_informazione_militare
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_factory_max_efficiency_factor = 0.05 }
			add_to_variable = { ITA_military_industry_dm_production_factory_efficiency_gain_factor = 0.05 }
			custom_effect_tooltip = ITA_il_sol_dell_avvenire_military_industry_dm_tt

			if = {
				limit = { has_dlc = "La Resistance" }
				swap_ideas = {
					remove_idea = ITA_servizio_informazione_militare_ns
					add_idea = ITA_servizio_informazione_militare_banda_carita
				}
			}

			set_cosmetic_tag = ITA_socialist_republic
			add_research_slot = 1

			custom_effect_tooltip = ITA_il_sol_dell_avvenire_pc_tt

			ITA_bop_medium_increase_communism_side_effect = yes
		}
	}


########  ######## ##     ##  #######   ######  ########     ###    ######## ####  ######  
##     ## ##       ###   ### ##     ## ##    ## ##     ##   ## ##      ##     ##  ##    ## 
##     ## ##       #### #### ##     ## ##       ##     ##  ##   ##     ##     ##  ##       
##     ## ######   ## ### ## ##     ## ##       ########  ##     ##    ##     ##  ##       
##     ## ##       ##     ## ##     ## ##       ##   ##   #########    ##     ##  ##       
##     ## ##       ##     ## ##     ## ##    ## ##    ##  ##     ##    ##     ##  ##    ## 
########  ######## ##     ##  #######   ######  ##     ## ##     ##    ##    ####  ######  


	focus = {
		id = ITA_italian_socialism
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = ITA_the_italian_republic }
		mutually_exclusive = { focus = ITA_the_popular_front }
		x = 11
		y = 0
		relative_position_id = ITA_the_popular_front
		cost = 5
		available = {
			has_civil_war = no
			is_subject = no
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			every_owned_state = { #Compensating for ideology swap auto-eating half compliance
				limit = {
					has_resistance = yes
				}
				add_compliance = 10
			}
			add_political_power = 50
			add_popularity = {
				ideology = democratic
				popularity = 0.15
			}
			if = {
				limit = {
					NOT = { has_government = democratic }
				}
				if = {
					limit = {
						has_country_leader = {
							character = ITA_comitato_di_liberazione_nazionale
							ruling_only = yes
						}
					}
					ITA_promote_cln_to_country_leader_democratic = yes
				}
				set_politics = {
					ruling_party = democratic
				}
			}

			show_unit_leaders_tooltip = ITA_giuseppe_de_stefanis

			unlock_decision_tooltip = ITA_bop_cooperation_with_christian_democrats

			#Remove the other country leader role if any
			hidden_effect = {
				if = {
					limit = {
						ITA_comitato_di_liberazione_nazionale = {
							has_ideology = marxism
						}
					}
					remove_country_leader_role = {
						character =  ITA_comitato_di_liberazione_nazionale
						ideology = marxism
					}
				}
			}

			#BoP
			set_power_balance = {
				id = ITA_power_balance
				left_side = ITA_communism_side
				right_side = ITA_democratic_side
				set_value = 0.15
			}
		}
	}

	focus = {
		id = ITA_cooperate_with_the_mafia
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = ITA_italian_socialism }
		mutually_exclusive = { focus = ITA_crush_the_mafia }
		x = -3
		y = 1
		relative_position_id = ITA_italian_socialism
		cost = 5
		available = {
			has_civil_war = no
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				prioritize = { 115 } #SIcilia Campania
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

			unlock_decision_tooltip = ITA_bop_utilize_the_mafia
			
			custom_effect_tooltip = ITA_cooperate_with_the_mafia_dm_tt
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				effect_tooltip = {
					remove_dynamic_modifier = { modifier = ITA_mafia_on_the_rise }
					add_dynamic_modifier = { modifier = ITA_established_mafia }
				}
				hidden_effect = {
					every_controlled_state = {
						limit = {
							has_dynamic_modifier = { modifier = ITA_mafia_on_the_rise }
						}
						remove_dynamic_modifier = { modifier = ITA_mafia_on_the_rise }
						add_dynamic_modifier = { modifier = ITA_established_mafia }
					}
				}
			}
			else = {
				effect_tooltip = {
					remove_dynamic_modifier = { modifier = ITA_mafia_on_the_rise_no_lar }
					add_dynamic_modifier = { modifier = ITA_established_mafia_no_lar }
				}
				hidden_effect = {
					every_controlled_state = {
						limit = {
							has_dynamic_modifier = { modifier = ITA_mafia_on_the_rise_no_lar }
						}
						remove_dynamic_modifier = { modifier = ITA_mafia_on_the_rise_no_lar }
						add_dynamic_modifier = { modifier = ITA_established_mafia_no_lar }
					}
				}
			}

			ITA_bop_very_low_increase_democratic_side_effect = yes
		}
	}

	focus = {
		id = ITA_mafia_abroad
		icon = GFX_focus_generic_conspiracy
		prerequisite = { focus = ITA_cooperate_with_the_mafia }

		x = 0
		y = 2
		relative_position_id = ITA_cooperate_with_the_mafia
		cost = 10
		available = {
			is_subject = no
			any_other_country = {
				NOT = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
				OR = {
					original_tag = USA
					AND = {
						is_major = yes
						has_government = democratic
						capital_scope = {
							OR = {
								is_on_continent = europe
								is_on_continent = north_america
							}
						}
					}
				}
			}
		}

		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					country_exists = USA
				}
				USA = { country_event = { id = BBA_italy_democratic_events.05 hours = 1 } }
			}

			every_other_country = {
				limit = {
					is_major = yes
					has_government = democratic
					NOT = { original_tag = USA } #USA always gets stuff
					capital_scope = {
						OR = {
							is_on_continent = europe
							is_on_continent = north_america
						}
					}
					NOT = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
				country_event = { id = BBA_italy_democratic_events.05 hours = 24 random_hours = 12 }
			}
		}
	}

	focus = {
		id = ITA_empower_the_unions
		icon = GFX_focus_ITA_workers_unions
		prerequisite = { focus = ITA_italian_socialism }

		x = -1
		y = 1
		relative_position_id = ITA_italian_socialism
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_production_factory_efficiency_gain_factor = 0.05 }
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_factory = 0.05 }
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_dockyard = 0.05 }
			custom_effect_tooltip = ITA_empower_the_unions_military_industry_dm_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

			ITA_bop_low_increase_democratic_side_effect = yes
		}
	}

	focus = {
		id = ITA_production_lines
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = ITA_empower_the_unions }

		x = 0
		y = 1
		relative_position_id = ITA_empower_the_unions
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_production_factory_start_efficiency_factor = 0.05 }
			add_to_variable = { ITA_military_industry_dm_factory_max_efficiency_factor = 0.1 }
			custom_effect_tooltip = ITA_production_lines_military_industry_dm_tt

			custom_effect_tooltip = ITA_production_lines_factories_tt
			hidden_effect = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					set_state_flag = ITA_production_lines_flag
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						NOT = { has_state_flag = ITA_production_lines_flag }
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				#Clear flag
				random_core_state = {
					limit = {
						has_state_flag = ITA_production_lines_flag
					}
					clr_state_flag = ITA_production_lines_flag
				}
			}
		}
	}

	focus = {
		id = ITA_the_republics_leadership
		icon = GFX_focus_ITA_democratic_leadership
		prerequisite = { focus = ITA_italian_socialism }

		x = 1
		y = 1
		relative_position_id = ITA_italian_socialism
		cost = 5
		available = {
			has_government = democratic
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			country_event = BBA_italy_democratic_events.01

			ITA_bop_medium_increase_democratic_side_effect = yes
		}
	}

	focus = {
		id = ITA_bring_back_exiled_intellectuals
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = ITA_the_republics_leadership }

		x = 0
		y = 1
		relative_position_id = ITA_the_republics_leadership
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_political_power = 70

			add_tech_bonus = {
				name = ITA_bring_back_exiled_intellectuals
				bonus = 0.5
				uses = 2
				category = industry
				category = electronics
				category = nuclear
				category = rocketry
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_enrico_fermi

			ITA_bop_low_increase_democratic_side_effect = yes
		}
	}

	focus = {
		id = ITA_social_stability
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = ITA_bring_back_exiled_intellectuals }

		x = 0
		y = 2
		relative_position_id = ITA_bring_back_exiled_intellectuals
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.1
			add_war_support = -0.05
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			ITA_bop_medium_increase_democratic_side_effect = yes
		}
	}

	focus = {
		id = ITA_aid_for_the_spanish_republic
		icon = GFX_focus_intervention_spain_republic
		prerequisite = { focus = ITA_italian_socialism }

		x = 3
		y = 1
		relative_position_id = ITA_italian_socialism
		cost = 10

		available = {
			has_civil_war = no
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPR_scw_in_progress = yes
				if = {
					limit = {
						NOT = { has_global_flag = spanish_civil_war }
					}
					custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_country_exist_tt
					    country_exists = SPR
				    }
				    custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_at_peace_tt
						NOT = { has_war_with = SPR }
				    }
				}
				else = {
					country_exists = SPD
					NOT = { has_war_with = SPD }
				}
			}
			else = {
				any_other_country = {
					original_tag = SPR
					has_civil_war = yes
					NOT = { has_war_with = ROOT }
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
			}
			has_manpower > 10000
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_ideas = ITA_aiding_the_spanish_republic

			add_manpower = -10000
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPD = {
					add_manpower = 10000
					add_opinion_modifier = {
						target = ROOT
						modifier = ita_supported_spain_civil_war
					}
				}
				hidden_effect = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 2500
					}
					send_equipment = {
						equipment = infantry_equipment
						amount = 2500
						target = SPD
					}
				}

			}
			else = {
				random_other_country = {
					limit = {
						original_tag = SPR
						OR = {
							has_government = democratic
							has_government = communism
						}
					}
					add_manpower = 10000
					add_opinion_modifier = {
						target = ROOT
						modifier = ita_supported_spain_civil_war 
					}
				}				
				hidden_effect = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 2500
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							OR = {
								has_government = democratic
								has_government = communism
							}
						}
						ROOT = {
							send_equipment = {
								equipment = infantry_equipment
								amount = 2500
								target = PREV
							}
						}
					}
				}
			}
			custom_effect_tooltip = ITA_aid_for_the_spanish_republic_tt
			if = {
				limit = {
					NOT = { has_rule = can_send_volunteers } 
				}
				set_rule = { can_send_volunteers = yes }
			}
		}
	}

	focus = {
		id = ITA_italia_libera
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = ITA_social_stability }
		mutually_exclusive = { focus = ITA_reestablish_old_alliances }
		x = -1
		y = 2
		relative_position_id = ITA_social_stability
		cost = 5
		available = {
			is_subject = no
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			create_faction = ITA_free_states_of_europe
			add_political_power = 50
			custom_effect_tooltip = ITA_italia_libera_invite_tt
			if = {
				limit = {
					any_other_country = {
						ITA_is_valid_free_states_of_europe_target = yes
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_other_country = {
					limit = {
						ITA_is_valid_free_states_of_europe_target = yes
					}
					hidden_effect = {
						country_event = { id = generic.5 hours = 4 random_hours = 4 }
					}
					custom_effect_tooltip = ITA_italia_libera_faction_tt
				}
			}

			ITA_bop_low_increase_democratic_side_effect = yes
		}
	}

	focus = {
		id = ITA_european_democracies
		icon = GFX_focus_generic_italy_propaganda
		prerequisite = { focus = ITA_italia_libera }

		x = -1
		y = 1
		relative_position_id = ITA_italia_libera
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}

		completion_reward = {
			custom_effect_tooltip = ITA_european_democracies_tt
			hidden_effect = {
				every_other_country = {
					limit = {
						capital_scope = {
							is_on_continent = europe
						}
						NOT = {
							has_war_with = ROOT
							any_allied_country = {
								has_war_with = ROOT
							}
						}
					}
					add_timed_idea = {
						idea = ITA_hidden_european_democracies_ns
						days = 1095
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
				}
			}

			custom_effect_tooltip = ITA_european_democracies_bonus_per_ally_tt
			hidden_effect = {
				set_variable = { ITA_num_of_allies = 0 }
				set_variable = { ITA_stability_per_ally = 0.02 }
				set_variable = { ITA_pp_per_ally = 25 }
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
						has_government = democratic
						is_subject = no
					}
					add_to_variable = { ROOT.ITA_num_of_allies = 1 }
				}

				#Add Stab per ally
				multiply_variable = { ITA_stability_per_ally = ITA_num_of_allies }
				clamp_variable = {
					var = ITA_stability_per_ally
					min = 0
					max = 0.1
				}
				add_stability = ITA_stability_per_ally

				#Add PP per ally
				multiply_variable = { ITA_pp_per_ally = ITA_num_of_allies }
				clamp_variable = {
					var = ITA_pp_per_ally
					min = 0
					max = 125
				}
				add_political_power = ITA_pp_per_ally
			}
		}
	}

	focus = {
		id = ITA_peace_preservation
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = ITA_european_democracies }

		x = -1
		y = 1
		relative_position_id = ITA_european_democracies
		cost = 10
		
		available = {
			is_subject = no
			OR = {
				any_other_country = {
					capital_scope = {
						is_on_continent = europe
					}
					OR = {
						is_in_faction = no
						is_in_faction_with = ROOT
					}
					has_government = democratic
					is_subject = no
				}
				any_other_country = {
					is_in_faction_with = ROOT
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}

		completion_reward = {
			hidden_effect = { #GUARANTEES
				set_variable = { ITA_num_of_countries_guaranteed = 0 }
				set_variable = { ITA_peace_keepers_consumer_goods_factor = 0.02 }
				set_variable = { ITA_peace_keepers_war_support_factor = 0.01 }
				set_variable = { ITA_peace_keepers_weekly_manpower = 100 }
				every_other_country = {
					limit = {
						capital_scope = {
							is_on_continent = europe
						}
						OR = {
							is_in_faction = no
							is_in_faction_with = ROOT
						}
						has_government = democratic
						is_subject = no
					}
					ROOT = {
						give_guarantee = PREV
						add_to_variable = { ITA_num_of_countries_guaranteed = 1 }
					}
				}

				clamp_variable = {
					var = ITA_num_of_countries_guaranteed
					min = 0
					max = 10
				}

				multiply_variable = { ITA_peace_keepers_consumer_goods_factor = ITA_num_of_countries_guaranteed }
				multiply_variable = { ITA_peace_keepers_consumer_goods_factor = -1 } #Negative for CG bonus
				multiply_variable = { ITA_peace_keepers_war_support_factor = ITA_num_of_countries_guaranteed }
				multiply_variable = { ITA_peace_keepers_weekly_manpower = ITA_num_of_countries_guaranteed }
			}
			custom_effect_tooltip = ITA_peace_preservation_guarantees_tt
			every_country = {
				limit = {
					capital_scope = {
						is_on_continent = europe
					}
					OR = {
						is_in_faction = no
						is_in_faction_with = ROOT
					}
					has_government = democratic
					is_subject = no
				}
			}

			hidden_effect = { #NATIONAL SPIRIT
				add_dynamic_modifier = { modifier = ITA_peace_keepers_of_europe }
			}
			custom_effect_tooltip = ITA_peace_preservation_ns_tt
		}
	}

	focus = {
		id = ITA_scientific_cooperation
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = ITA_italia_libera focus = ITA_reestablish_old_alliances }

		x = 1
		y = 1
		relative_position_id = ITA_italia_libera
		cost = 10
		available = {
			is_subject = no
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_research_slot = 1

			if = {
				limit = {
					num_tech_sharing_groups < 1
				}
				add_to_tech_sharing_group = ITA_program_for_scientific_cooperation
				if = {
					limit = {
						any_other_country = {
							is_in_faction_with = ROOT
						}
					}
					every_other_country = {
						limit = {
							is_in_faction_with = ROOT
						}
						add_to_tech_sharing_group = ITA_program_for_scientific_cooperation
					}
				}
				else = {
					custom_effect_tooltip = ITA_scientific_cooperation_research_sharing_group_tt
				}
			}

			custom_effect_tooltip = ITA_scientific_cooperation_allies_ns_tt
			if = {	
				limit = {
					any_other_country = {
						is_in_faction_with = ROOT
					}
				}
				custom_effect_tooltip = generic_current_effects
				add_ideas = ITA_scientific_cooperation_ns
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					effect_tooltip = {
						add_ideas = ITA_scientific_cooperation_ns
					}
					country_event = { id = BBA_italy_democratic_events.02 hours = 2 }
				}
			}
			else = {
				effect_tooltip = {
					add_ideas = ITA_scientific_cooperation_ns
				}
			}
		}
	}

	focus = {
		id = ITA_secure_the_borders
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = ITA_scientific_cooperation }

		x = -1
		y = 1
		relative_position_id = ITA_scientific_cooperation
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			add_to_variable = { ITA_re_army_core_defence_factor = 0.05 }
			custom_effect_tooltip = ITA_secure_the_borders_re_tt

			custom_effect_tooltip = ITA_secure_the_borders_forts_tt
			every_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					any_neighbor_state = {
						controller = {
							NOT = { is_in_faction_with = ROOT }
						}
						impassable = no
					}
					impassable = no
				}
				every_neighbor_state = {
					limit = {
						controller = {
							NOT = { is_in_faction_with = ROOT }
						}
						impassable = no
					}
					if = {
						limit = {
							NOT = { is_in_array = { ROOT.targetcountries = THIS.controller } }
						}
						PREV = {
							add_building_construction = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_border_country = PREV.controller
								}
							}
						}
						add_to_array = { ROOT.targetcountries = THIS.controller }
					}
				}
				clear_array = ROOT.targetcountries
			}
		}
	}

	focus = {
		id = ITA_bring_down_fascist_strongholds
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = ITA_scientific_cooperation }

		x = 1
		y = 1
		relative_position_id = ITA_scientific_cooperation
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_bring_down_fascist_strongholds_tt
			if = {
				limit = {
					any_other_country = {
						has_government = fascism
						capital_scope = {
							is_on_continent = europe
						}
						NOT = { has_war_with = ROOT }
						country_can_be_reasonable_target_of_wargoal = yes
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_other_country = {
					limit = {
						has_government = fascism
						capital_scope = {
							is_on_continent = europe
						}
					}
					ROOT = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
						}
					}
				}

				add_timed_idea = {
					idea = ITA_anti_fascist_fervor
					days = 730
				}
			}
		}
	}

	focus = {
		id = ITA_reestablish_old_alliances
		icon = GFX_goal_support_democracy
		prerequisite = { focus = ITA_social_stability }
		mutually_exclusive = { focus = ITA_italia_libera }
		x = 1
		y = 2
		relative_position_id = ITA_social_stability
		cost = 5

		available = {
			is_in_faction = no
			is_subject = no
			any_other_country = {
				OR = {
					tag = FRA
					tag = ENG
				}
				NOT = { has_government = fascism }
				is_faction_leader = yes
				is_subject = no
				has_civil_war = no
				NOT = { is_justifying_wargoal_against = ROOT }
				NOT = { has_war_with = ROOT }
				NOT = { 
					any_allied_country = {
						has_war_with = ROOT
					}
				}
			}
			any_other_country = { #Split for easier visualization in the tooltip
				OR = {
					tag = FRA
					tag = ENG
				}
				has_opinion	= {
					target = ROOT
					value > 50
				}
			}
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			if = { #UK first
				limit = {
					ENG = {
						NOT = { has_government = fascism }
						is_faction_leader = yes
						is_subject = no
						has_civil_war = no
						NOT = { is_justifying_wargoal_against = ROOT }
						NOT = { has_war_with = ROOT }
						has_opinion	= {
							target = ROOT
							value > 50
						}
					}
				}
				ENG = {
					country_event = { id = generic.2 hours = 4 random_hours = 4 }
					if = {
						limit = {
							has_war = yes
						}
						ROOT = { add_war_support = 0.1 }
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
					ROOT = {
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 100
						}
					}
				}

			}
			else_if = { #FRANCE only if ENG is not available
				limit = {
					FRA = {
						NOT = { has_government = fascism }
						is_faction_leader = yes
						is_subject = no
						has_civil_war = no
						NOT = { is_justifying_wargoal_against = ROOT }
						NOT = { has_war_with = ROOT }
						has_opinion	= {
							target = ROOT
							value > 50
						}
					}
				}
				FRA = {
					country_event = { id = generic.2 hours = 4 random_hours = 4 }
					if = {
						limit = {
							has_war = yes
						}
						ROOT = { add_war_support = 0.1 }
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
					ROOT = {
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 100
						}
					}
				}
			}
			else = {
				custom_effect_tooltip = ITA_reestablish_old_alliances_tt
				effect_tooltip = {
					add_war_support = 0.1
				}
			}
			ITA_bop_low_increase_democratic_side_effect = yes
		}
	}

	focus = {
		id = ITA_military_agreements
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = ITA_reestablish_old_alliances }

		x = 1
		y = 1
		relative_position_id = ITA_reestablish_old_alliances
		cost = 10
		available = {
			is_in_faction = yes
			any_allied_country = {
				is_major = yes
			}
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			army_experience = 15
			air_experience = 15
			navy_experience = 15

			add_tech_bonus = {
				name = ITA_military_agreements
				bonus = 0.5
				uses = 2
				category = armor 
				category = artillery
				category = naval_equipment
				category = air_equipment
			}

			if = {
				limit = {
					has_dlc = "Death or Dishonor"
				}
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
						is_major = yes
					}
					ROOT = {
						add_relation_modifier = {
							target = PREV
							modifier = ITA_military_agreements
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_the_enemies_of_capitalism
		icon = GFX_focus_ger_bulwark_against_bolshevism
		prerequisite = { focus = ITA_military_agreements }

		x = 1
		y = 1
		relative_position_id = ITA_military_agreements
		cost = 10
		available = {
			any_country = {
				original_tag = SOV
				exists = yes
				NOT = { is_in_faction_with = ROOT }
				NOT = { has_non_aggression_pact_with = ROOT }
				NOT = { is_guaranteed_by = ROOT }
				has_government = communism
			}
		}

		search_filters = {}

		completion_reward = {
			random_other_country = {
				limit = {
					original_tag = SOV
					NOT = { is_in_faction_with = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					has_government = communism
				}
				ROOT = {
					create_wargoal = {
						type = topple_government
						target = PREV
					}
				}
			}
			add_timed_idea = {
				idea = ITA_the_eastern_threat_ns
				days = 365
			}
		}
	}

	focus = {
		id = ITA_the_ethiopian_question
		icon = GFX_focus_ETH_the_emperor_stays
		prerequisite = { focus = ITA_defy_the_duce }

		x = 13
		y = 1
		relative_position_id = ITA_defy_the_duce
		cost = 5

		bypass = {
			ETH = {
				OR = {
					exists = no
					is_subject = yes
					is_in_faction = yes
					has_capitulated = yes
				}
			}
		}

		available = {
			has_civil_war = no
			is_subject = no
		}

		search_filters = {}

		completion_reward = {
			country_event = BBA_italy_anti_colonialism_events.01
		}
	}

	focus = {
		id = ITA_abolish_the_colonies
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = ITA_the_ethiopian_question }
		mutually_exclusive = { focus = ITA_new_colonial_policies }
		x = -1
		y = 1
		relative_position_id = ITA_the_ethiopian_question
		cost = 5
		available = {
			is_subject = no
			any_controlled_state = {
				NOT = { is_on_continent = europe }
			}
		}

		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			every_owned_state = {
				limit = {
					has_resistance = yes
				}
				add_compliance = 15
			}

			activate_decision = ITA_abolish_the_colonies_dec
			custom_effect_tooltip = ITA_abolish_the_colonies_decision_effects_tt
			custom_effect_tooltip = ITA_abolish_the_colonies_event_chain_tt
			custom_effect_tooltip = ITA_abolish_the_colonies_tips_tt
		}
	}

	focus = {
		id = ITA_cooperatives_for_intensive_exploitation
		icon = GFX_goal_generic_construction
		prerequisite = { focus = ITA_abolish_the_colonies }

		x = -1
		y = 2
		relative_position_id = ITA_abolish_the_colonies
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			custom_effect_tooltip = ITA_cooperatives_for_intensive_exploitation_tt

			if = {
				limit = {
					any_owned_state = {
						is_on_continent = africa
						is_controlled_by = ROOT
						state_has_any_resource = yes
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_owned_state = {
					limit = {
						is_on_continent = africa
						is_controlled_by = ROOT
						state_has_any_resource = yes
					}
					add_dynamic_modifier = { modifier = ITA_cooperatives_for_intensive_exploitation_dm }
				}
			}
		}
	}

	focus = {
		id = ITA_condemn_colonialism
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = ITA_cooperatives_for_intensive_exploitation }
		x = 0
		y = 1
		relative_position_id = ITA_cooperatives_for_intensive_exploitation
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = ITA_condemn_colonialism_tt

			if = {
				limit = {
					any_other_country = {
						capital_scope = {
							NOT = { is_on_continent = africa }
						}
						any_owned_state = {
							is_on_continent = africa
							NOT = { is_core_of = owner }
						}
						NOT = { is_in_faction_with = ROOT }
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_other_country = {
					limit = {
						capital_scope = {
							NOT = { is_on_continent = africa }
						}
						any_owned_state = {
							is_on_continent = africa
							NOT = { is_core_of = owner }
						}
						country_can_be_reasonable_target_of_wargoal = yes
					}
					country_event = { id = BBA_italy_anti_colonialism_events.20 hours = 20 random_hours = 8 }
				}
			}

			hidden_effect = {
				country_event = { id = BBA_italy_anti_colonialism_events.21 days = 20 }
			}
		}
	}

	focus = {
		id = ITA_new_colonial_policies
		icon = GFX_focus_ETH_invite_italian_settlers
		prerequisite = { focus = ITA_the_ethiopian_question }
		mutually_exclusive = { focus = ITA_abolish_the_colonies }
		x = 1
		y = 1
		relative_position_id = ITA_the_ethiopian_question
		cost = 5
		available = {
			is_subject = no
			any_controlled_state = {
				is_on_continent = africa
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			set_temp_variable = { ITA_pp_from_releasing_colonies = 0 }

			custom_effect_tooltip = ITA_new_colonial_policies_tt
			if = {
				limit = {
					any_occupied_country = {
						capital_scope = {
							is_on_continent = africa
						}
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_occupied_country = {
					limit = {
						capital_scope = {
							is_on_continent = africa
						}
					}
					if = { #Give a potential player the option to get puppeted
						limit = { 
							is_ai = no
							is_government_in_exile = yes
							exists = yes 
						}
						country_event = { id = BBA_italy_interaction_events.71 hours = 1 }
						if = {
							limit = {
								is_ai = no
							}
							ROOT = { 
								country_event = { id = BBA_italy_interaction_events.70 hours = 1 }
							}
						}
					}
					else_if = {
						limit = {
							exists = yes
						}
						create_dynamic_country = {
							original_tag = THIS
							set_variable = { ITA.create_puppet = THIS }
							ROOT = {
								every_controlled_state = {
									limit = {
										is_core_of = PREV.PREV
										is_fully_controlled_by = ROOT
									}
									var:ITA.create_puppet = {
										transfer_state = PREV
									}
								}
							}
							set_popularities = {
								democratic = ITA.party_popularity_100@democratic
								neutrality = ITA.party_popularity_100@neutrality
								fascism = ITA.party_popularity_100@fascism
								communism = ITA.party_popularity_100@communism
							}
							set_politics = {
								ruling_party = ROOT
							}
						}
						ROOT = {
							puppet = ITA.create_puppet
						}
						clear_variable = ITA.create_puppet
					}
					else = {
						ROOT = { release_puppet_on_controlled = PREV }
					}
					hidden_effect = {
						add_to_temp_variable = { ROOT.ITA_pp_from_releasing_colonies = 15 }
					}
				}
			}

			custom_effect_tooltip = ITA_new_colonial_policies_pp_from_released_colonies_tt
			hidden_effect = {
				clamp_variable = { var = ITA_pp_from_releasing_colonies min = 0 max = 200 }
				add_political_power = ITA_pp_from_releasing_colonies
			}
		}
	}

	focus = {
		id = ITA_negotiations_with_albania
		icon = GFX_focus_generic_befriend_albania
		prerequisite = { focus = ITA_abolish_the_colonies focus = ITA_new_colonial_policies }

		x = 1
		y = 1
		relative_position_id = ITA_abolish_the_colonies
		cost = 5

		bypass = {
			NOT = { country_exists = ALB }
		}

		available = {
			OR = {
				has_government = communism
				has_government = neutrality
			}
		}

		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			ALB = { country_event = { id = BBA_italy_anti_colonialism_events.100 hours = 4 random_hours = 2 } }
			
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				annex_country = { target = ALB }
			}
		}
	}

	focus = {
		id = ITA_enlist_the_bashkimi_kombetar
		icon = GFX_focus_ITA_albanian_fascist_militia
		prerequisite = { focus = ITA_negotiations_with_albania }

		x = 0
		y = 1
		relative_position_id = ITA_negotiations_with_albania
		cost = 5
		available = {
			44 = {
				controller = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER}

		completion_reward = {
			44 = {
				add_dynamic_modifier = { modifier = ITA_cooperatives_for_intensive_exploitation_dm }
			}

			custom_effect_tooltip = ITA_redshirts_div_cap_12_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 12 }
				set_division_template_cap = { division_template = "Camicie Rosse" division_cap = ITA_militias_cap }
			}

			44 = {
				custom_effect_tooltip = ITA_enlist_the_bashkimi_kombetar_spawn_divs_tt
				hidden_effect = {
					create_unit = { #Historically 14 battalions
						division = "division_template = \"Camicie Nere\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 4
					}
				}
			}
		}
	}

	focus = {
		id = ITA_the_italian_confederation
		icon = GFX_focus_ITA_a_colonial_empire
		prerequisite = { focus = ITA_new_colonial_policies }

		x = 1
		y = 2
		relative_position_id = ITA_new_colonial_policies
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			create_faction = ITA_italian_confederation
			add_ideas = ITA_italian_confederation_leader

			if = {
				limit = {
					num_subjects > 0
				}
				every_subject_country = {
					add_ideas = ITA_italian_confederation_member
					capital_scope = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
					ROOT = {
						add_to_faction = PREV
					}
				}
			}
			else = {
				custom_effect_tooltip = ITA_planned_economy_subjects_ns_tt
				effect_tooltip = {
					add_ideas = ITA_italian_confederation_member
					custom_effect_tooltip = ITA_the_italian_confederation_effects_tt
				}
			}
		}
	}

	focus = {
		id = ITA_planned_economy
		icon = GFX_focus_ETH_adopt_the_lira
		prerequisite = { focus = ITA_the_italian_confederation }

		x = 0
		y = 1
		relative_position_id = ITA_the_italian_confederation
		cost = 5
		available = {
			num_subjects > 4
			has_idea = ITA_italian_confederation_leader
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			swap_ideas = {
				remove_idea = ITA_italian_confederation_leader
				add_idea = ITA_italian_confederation_leader_improved
			}
			if = {
				limit = {
					any_subject_country = {
						has_idea = ITA_italian_confederation_member
					}
				}
				every_subject_country = {
					limit = {
						has_idea = ITA_italian_confederation_member
					}
					swap_ideas = {
						remove_idea = ITA_italian_confederation_member
						add_idea = ITA_italian_confederation_member_improved
					}
				}
			}
			else = {
				custom_effect_tooltip = ITA_planned_economy_subjects_ns_tt
				effect_tooltip = {
					swap_ideas = {
						remove_idea = ITA_italian_confederation_member
						add_idea = ITA_italian_confederation_member_improved
					}
				}
			}
		}
	}

	focus = {
		id = ITA_the_fight_overseas
		icon = GFX_focus_generic_africa_defense
		prerequisite = { focus = ITA_cooperatives_for_intensive_exploitation focus = ITA_the_italian_confederation }

		x = 2
		y = 2
		relative_position_id = ITA_cooperatives_for_intensive_exploitation
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			add_to_variable = { ITA_re_supply_consumption_factor = -0.05 }
			add_to_variable = { ITA_re_acclimatization_hot_climate_gain_factor = 0.15 }
			add_to_variable = { ITA_re_heat_attrition_factor = -0.1 }
			custom_effect_tooltip = ITA_the_fight_overseas_re_tt

			add_to_variable = { ITA_rm_naval_invasion_prep_speed = 0.1 }
			add_to_variable = { ITA_rm_naval_invasion_capacity = 10 }
			custom_effect_tooltip = ITA_the_fight_overseas_rm_tt
			
			custom_effect_tooltip = ITA_the_fight_overseas_bunkers_tt
			if = {
				limit = {
					any_controlled_state = {
						is_on_continent = africa
						is_fully_controlled_by = ROOT
						OR = {
							supply_node > 0
							naval_base > 0
						}
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_controlled_state = {
					limit = {
						is_on_continent = africa
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_supply_node = yes
						}
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
					}
					if = {
						limit = {
							OR = {
								supply_node > 0
								naval_base > 0
							}
						}
						add_building_construction = {
							type = anti_air_building
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_irregulars
		icon = GFX_focus_ETH_peacekeeping_forces
		prerequisite = { focus = ITA_the_fight_overseas }

		x = -2
		y = 1
		relative_position_id = ITA_the_fight_overseas
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_to_variable = { ITA_re_irregular_org = 0.05 }
			custom_effect_tooltip = ITA_irregulars_re_tt

			hidden_effect = {
				if = {
					limit = {
						NOT = { has_template = "Truppe Irregolari a Cavallo" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_irregular_templates_flag }
						}
						division_template = { #Improve Irregular template
							name = "Truppe Irregolari a Cavallo"		
							division_names_group = ITA_CAV_05
							is_locked = yes
							regiments = {
								cavalry = { x = 0 y = 0 }
								cavalry = { x = 0 y = 1 }
								cavalry = { x = 1 y = 0 }
								cavalry = { x = 1 y = 1 }
							}
							priority = 0
						}
					}
					else = {
						division_template = { #Basic irregular template
							name = "Truppe Irregolari a Cavallo"		
							division_names_group = ITA_CAV_05
							is_locked = yes
							regiments = {
								cavalry = { x = 0 y = 0 }
								cavalry = { x = 0 y = 1 }
								cavalry = { x = 0 y = 2 }
								cavalry = { x = 1 y = 0 }
								cavalry = { x = 1 y = 1 }
								cavalry = { x = 1 y = 2 }
							}
							support = { 
								recon = { x = 0 y = 0 } 
							} 
							priority = 0
						}
					}
				}

				if = {
					limit = {
						NOT = { has_template = "Truppe Irregolari di Cammelli" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_irregular_templates_flag }
						}
						division_template = { #Improve Irregular template
							name = "Truppe Irregolari di Cammelli"		
							division_names_group = ITA_CAM_02
							is_locked = yes
							regiments = {
								camelry = { x = 0 y = 0 }
								camelry = { x = 0 y = 1 }
								camelry = { x = 1 y = 0 }
								camelry = { x = 1 y = 1 }
							}
							priority = 0
						}
					}
					else = {
						division_template = { #Basic irregular template
							name = "Truppe Irregolari di Cammelli"		
							division_names_group = ITA_CAM_02
							is_locked = yes
							regiments = {
								camelry = { x = 0 y = 0 }
								camelry = { x = 0 y = 1 }
								camelry = { x = 0 y = 2 }
								camelry = { x = 1 y = 0 }
								camelry = { x = 1 y = 1 }
								camelry = { x = 1 y = 2 }
							}
							support = { 
								recon = { x = 0 y = 0 } 
							} 
							priority = 0
						}
					}
				}
			}

			custom_effect_tooltip = ITA_irregulars_create_units_tt

			hidden_effect = {
				set_variable = { ITA_camelry_raised = 0 }
				set_variable = { ITA_cavalry_raised = 0 }
				set_temp_variable = { i = 0 }
				while_loop_effect = {
					limit = {
						check_variable = { i = 10 compare = less_than }
					}
					random_controlled_state = {
						limit = {
							is_on_continent = africa
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_irregulars_raised_flag }
						}
						prioritize = { 550 559 448 450 271 } # ERITREA / SOMALILAND / TRIPOLI / BENGHASI / ADDIS ABABA
						if = {
							limit = {
								is_core_of = ERI
							}
							create_unit = {
								division = "division_template = \"Banda Irregolare Eritrea\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
						else_if = {
							limit = {
								is_core_of = SOM
							}
							create_unit = {
								division = "division_template = \"Banda Irregolare Somala\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
						else_if = {
							limit = {
								is_core_of = LBA
							}
							if = {
								limit = {
									check_variable = { ROOT.ITA_camelry_raised < 3 }
								}
								create_unit = {
									division = "division_template = \"Truppe Irregolari di Cammelli\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
								add_to_variable = { ROOT.ITA_camelry_raised = 1 }
							}
							else = {
								create_unit = {
									division = "division_template = \"Banda Irregolare Libica\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
							}
						}
						else_if = {
							limit = {
								is_core_of = ETH
							}
							if = {
								limit = {
									check_variable = { ROOT.ITA_cavalry_raised < 3 }
								}
								create_unit = {
									division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
								add_to_variable = { ROOT.ITA_cavalry_raised = 1 }
							}
							else = {
								create_unit = {
									division = "division_template = \"Banda Indigena Irregolare\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
							}
						}
						else = {
							create_unit = {
								division = "division_template = \"Banda Indigena Irregolare\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
						set_state_flag = ITA_irregulars_raised_flag
					}
					add_to_temp_variable = { i = 1 }
				}
				#Clean flag and vars
				every_controlled_state = {
					limit = {
						has_state_flag = ITA_irregulars_raised_flag
					}
					clr_state_flag = ITA_irregulars_raised_flag
				}
				set_variable = { ITA_camelry_raised = 0 }
				set_variable = { ITA_cavalry_raised = 0 }

				#SUBJECTS
				if = {
					limit = {
						any_subject_country = {
							capital_scope = {
								is_on_continent = africa
							}
						}
					}
					every_subject_country = {
						limit = {
							capital_scope = {
								is_on_continent = africa
							}
						}
						if = { #Puppet is ERI
							limit = {
								original_tag = ERI
							}
							random_controlled_state = {
								limit = {
									is_on_continent = africa
								}
								prioritize = { 550 }
								create_unit = {
									division = "division_template = \"Banda Irregolare Eritrea\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
								create_unit = {
									division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 2
								}
							}
						}
						else_if = { #Puppet is SOM
							limit = {
								original_tag = SOM
							}
							random_controlled_state = {
								limit = {
									is_on_continent = africa
								}
								prioritize = { 559 }
								create_unit = {
									division = "division_template = \"Banda Irregolare Somala\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 2
								}
								create_unit = {
									division = "division_template = \"Truppe Irregolari di Cammelli\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
							}
						}
						else_if = { #Puppet is LBA
							limit = {
								original_tag = LBA
							}
							random_controlled_state = {
								limit = {
									is_on_continent = africa
								}
								prioritize = { 448 }
								create_unit = {
									division = "division_template = \"Banda Irregolare Libica\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
								create_unit = {
									division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
								create_unit = {
									division = "division_template = \"Truppe Irregolari di Cammelli\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
							}
						}
						else_if = { #Puppet is ETH
							limit = {
								original_tag = ETH
							}
							random_controlled_state = {
								limit = {
									is_on_continent = africa
								}
								prioritize = { 271 }
								create_unit = {
									division = "division_template = \"Banda Indigena Irregolare\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 2
								}
								create_unit = {
									division = "division_template = \"Truppe Irregolari a Cavallo\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
							}
						}
						else = {
							random_controlled_state = {
								limit = {
									is_on_continent = africa
								}
								create_unit = {
									division = "division_template = \"Banda Indigena Irregolare\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
									owner = ROOT
									count = 3
								}
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_liberate_the_workers_of_africa
		icon = GFX_focus_generic_africa_liberation
		prerequisite = { focus = ITA_the_fight_overseas }

		x = 0
		y = 1
		relative_position_id = ITA_the_fight_overseas
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			custom_effect_tooltip = ITA_liberate_the_workers_of_africa_tt
			if = {
				limit = {
					any_state = {
						is_on_continent = africa
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				custom_effect_tooltip = generic_current_effects
				every_state = {
					limit = {
						is_on_continent = africa
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					if = {
						limit = {
							has_active_resistance = yes
						}
						add_compliance = 10
					}
					ITA_increase_resource_amount_in_state = yes
				}
			}

			every_other_country = {
				limit = {
					country_can_be_reasonable_target_of_wargoal = yes
					NOT = { has_government = ROOT }
					any_controlled_state = {
						is_on_continent = africa
					}
				}
				custom_effect_tooltip = ITA_liberate_the_workers_of_africa_wargoal_tt
				ROOT = {
					if = {
						limit = {
							has_completed_focus = ITA_abolish_the_colonies
						}
						custom_effect_tooltip = generic_current_effects
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
					else_if = {
						limit = {
							has_completed_focus = ITA_new_colonial_policies
						}
						custom_effect_tooltip = generic_current_effects
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_ascari
		icon = GFX_focus_ITA_strengthen_ascari_corps
		prerequisite = { focus = ITA_the_fight_overseas }

		x = 2
		y = 1
		relative_position_id = ITA_the_fight_overseas
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_to_variable = { ITA_re_modifier_army_sub_unit_infantry_defence_factor = 0.03 }
			custom_effect_tooltip = ITA_ascari_re_tt

			hidden_effect = {
				### COLONIAL CAVALRY & CAMELRY TEMPLATES
				if = {
					limit = {
						NOT = { has_template = "Cavalleria Coloniale" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_ascari_templates_flag }
						}
						division_template = {
							name = "Cavalleria Coloniale" 
							division_names_group = ITA_CAV_03
							override_model = ITA_cavalry_alt_1_entity
							is_locked = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								cavalry = { x = 0 y = 0 } 
								cavalry = { x = 0 y = 1 } 
								cavalry = { x = 1 y = 0 } 
								cavalry = { x = 1 y = 1 }
							} 

							priority = 0 
						}
					}
					else = {
						division_template = {
							name = "Cavalleria Coloniale" 
							division_names_group = ITA_CAV_03
							override_model = ITA_cavalry_alt_1_entity
							is_locked = yes

							# Represents lesser-equipped colonial units
							regiments = {
								cavalry = { x = 0 y = 0 }
								cavalry = { x = 0 y = 1 }
								cavalry = { x = 0 y = 2 }
								cavalry = { x = 1 y = 0 }
								cavalry = { x = 1 y = 1 }
								cavalry = { x = 1 y = 2 }
							}

							support = {
								recon = { x = 0 y = 0 } 
							}

							priority = 0 
						}
					}
				}

				if = {
					limit = {
						NOT = { has_template = "Reggimento Meharista" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_ascari_templates_flag }
						}
						division_template = {
							name = "Reggimento Meharista" 
							division_names_group = ITA_CAM_01 
							override_model = ITA_camelry_alt_1_entity
							regiments = { 
								camelry = { x = 0 y = 0 } 
								camelry = { x = 0 y = 1 } 
								camelry = { x = 1 y = 0 } 
								camelry = { x = 1 y = 1 } 
							} 
						}
					}
					else = {
						division_template = {
							name = "Reggimento Meharista" 
							division_names_group = ITA_CAM_01 
							override_model = ITA_camelry_alt_1_entity
							regiments = {
								camelry = { x = 0 y = 0 }
								camelry = { x = 0 y = 1 }
								camelry = { x = 0 y = 2 }
								camelry = { x = 1 y = 0 }
								camelry = { x = 1 y = 1 }
								camelry = { x = 1 y = 2 }
							}

							support = {
								recon = { x = 0 y = 0 } 
							}
						}
					}
				}

				### ASCARI INFANTRY TEMPLATES
				if = {
					limit = {
						NOT = { has_template = "Divisione Coloniale" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_ascari_templates_flag }
						}
						division_template = { 
							name = "Divisione Coloniale" 
							division_names_group = ITA_COL_01
							template_counter = 67
							#is_locked = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
							}

							support = {
								armored_car_recon = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}

							priority = 0 
						}
					}
					else = {
						division_template = { 
							name = "Divisione Coloniale" 
							division_names_group = ITA_COL_01
							template_counter = 67
							#is_locked = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
							}

							priority = 0 
						}
					}
				}

				if = {
					limit = {
						NOT = { has_template = "Divisione Ascari Libica" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_ascari_templates_flag }
						}
						division_template = { 
							name = "Divisione Ascari Libica" 
							division_names_group = ITA_COL_01
							override_model = ITA_infantry_alt_0_entity
							template_counter = 67
							#is_locked = yes
							obsolete = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
							}

							priority = 0 
						}
					}
					else = {
						division_template = { 
							name = "Divisione Ascari Libica" 
							division_names_group = ITA_COL_01
							override_model = ITA_infantry_alt_0_entity
							template_counter = 67
							#is_locked = yes
							obsolete = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
							}

							support = {
								armored_car_recon = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}

							priority = 0 
						}
					}
				}

				if = {
					limit = {
						NOT = { has_template = "Divisione Ascari Eritrea" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_ascari_templates_flag }
						}
						division_template = { 
							name = "Divisione Ascari Eritrea" 
							division_names_group = ITA_COL_01
							template_counter = 67
							#is_locked = yes
							obsolete = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
							}

							priority = 0 
						}
					}
					else = {
						division_template = { 
							name = "Divisione Ascari Eritrea" 
							division_names_group = ITA_COL_01
							template_counter = 67
							#is_locked = yes
							obsolete = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
							}

							support = {
								armored_car_recon = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}

							priority = 0 
						}
					}
				}

				if = {
					limit = {
						NOT = { has_template = "Divisione Ascari Somala" }
					}
					if = {
						limit = {
							NOT = { has_country_flag = ITA_improved_ascari_templates_flag }
						}
						division_template = { 
							name = "Divisione Ascari Somala" 
							division_names_group = ITA_COL_01
							override_model = ITA_infantry_alt_1_entity
							template_counter = 67
							#is_locked = yes
							obsolete = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
							}

							priority = 0 
						}
					}
					else = {
						division_template = { 
							name = "Divisione Ascari Somala" 
							division_names_group = ITA_COL_01
							override_model = ITA_infantry_alt_1_entity
							template_counter = 67
							#is_locked = yes
							obsolete = yes

							# Represents lesser-equipped colonial units
							regiments = { 
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
							}

							support = {
								armored_car_recon = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}

							priority = 0 
						}
					}
				}
			}

			custom_effect_tooltip = ITA_ascari_create_units_tt 

			hidden_effect = {
				set_variable = { ITA_camelry_raised = 0 }
				set_variable = { ITA_cavalry_raised = 0 }
				set_temp_variable = { i = 0 }
				while_loop_effect = {
					limit = {
						check_variable = { i = 10 compare = less_than }
					}
					random_controlled_state = {
						limit = {
							is_on_continent = africa
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_ascari_raised_flag }
						}
						prioritize = { 550 559 448 450 271 } # ERITREA / SOMALILAND / TRIPOLI / BENGHASI / ADDIS ABABA
						if = {
							limit = {
								is_core_of = ERI
							}
							create_unit = {
								division = "division_template = \"Divisione Ascari Eritrea\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
						else_if = {
							limit = {
								is_core_of = SOM
							}
							create_unit = {
								division = "division_template = \"Divisione Ascari Somala\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
						else_if = {
							limit = {
								is_core_of = LBA
							}
							if = {
								limit = {
									check_variable = { ROOT.ITA_camelry_raised < 3 }
								}
								create_unit = {
									division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
								add_to_variable = { ROOT.ITA_camelry_raised = 1 }
							}
							else = {
								create_unit = {
									division = "division_template = \"Divisione Ascari Libica\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
							}
						}
						else_if = {
							limit = {
								is_core_of = ETH
							}
							if = {
								limit = {
									check_variable = { ROOT.ITA_cavalry_raised < 3 }
								}
								create_unit = {
									division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
								add_to_variable = { ROOT.ITA_cavalry_raised = 1 }
							}
							else = {
								create_unit = {
									division = "division_template = \"Divisione Coloniale\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
							}
						}
						else = {
							create_unit = {
								division = "division_template = \"Divisione Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
						set_state_flag = ITA_ascari_raised_flag
					}
					add_to_temp_variable = { i = 1 }
				}
				#Clean flag and vars
				every_controlled_state = {
					limit = {
						has_state_flag = ITA_ascari_raised_flag
					}
					clr_state_flag = ITA_ascari_raised_flag
				}
				set_variable = { ITA_camelry_raised = 0 }
				set_variable = { ITA_cavalry_raised = 0 }

				#SUBJECTS
				if = {
					limit = {
						any_subject_country = {
							capital_scope = {
								is_on_continent = africa
							}
						}
					}
					every_subject_country = {
						limit = {
							capital_scope = {
								is_on_continent = africa
							}
						}
						if = { #Puppet is ERI
							limit = {
								original_tag = ERI
							}
							random_controlled_state = {
								limit = {
									is_on_continent = africa
								}
								prioritize = { 550 }
								create_unit = {
									division = "division_template = \"Divisione Ascari Eritrea\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
								create_unit = {
									division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 2
								}
							}
						}
						else_if = { #Puppet is SOM
							limit = {
								original_tag = SOM
							}
							random_controlled_state = {
								limit = {
									is_on_continent = africa
								}
								prioritize = { 559 }
								create_unit = {
									division = "division_template = \"Divisione Ascari Somala\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 2
								}
								create_unit = {
									division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
							}
						}
						else_if = { #Puppet is LBA
							limit = {
								original_tag = LBA
							}
							random_controlled_state = {
								limit = {
									is_on_continent = africa
								}
								prioritize = { 448 }
								create_unit = {
									division = "division_template = \"Divisione Ascari Libica\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
								create_unit = {
									division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
								create_unit = {
									division = "division_template = \"Reggimento Meharista\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
							}
						}
						else_if = { #Puppet is ETH
							limit = {
								original_tag = ETH
							}
							random_controlled_state = {
								limit = {
									is_on_continent = africa
								}
								prioritize = { 271 }
								create_unit = {
									division = "division_template = \"Divisione Coloniale\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 2
								}
								create_unit = {
									division = "division_template = \"Cavalleria Coloniale\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
									owner = ROOT
									count = 1
								}
							}
						}
						else = {
							random_controlled_state = {
								limit = {
									is_on_continent = africa
								}
								create_unit = {
									division = "division_template = \"Divisione Coloniale\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
									owner = ROOT
									count = 3
								}
							}
						}
					}
				}
			}
		}
	}
###EAT_SPR_STATES###
	focus = {
		id = ITA_insatiable_spr_state
		relative_position_id = ITA_demand_balearic_islands_bba
		x = 4
		y = 1
		prerequisite = {
			focus = ITA_demand_balearic_islands_bba
		}
		available = {
			controls_state = 177
		}
		icon = GFX_focus_NORDIC_mon_form_alliance
		cost = 1
		completion_reward = {
			SPR = {
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				add_opinion_modifier = { target = ITA modifier = IPUnion_be_friend_ita_spr }
			}
			add_political_power = 75
		}
	}

	focus = {
		id = ITA_North_africa_spr_state
		icon = GFX_focus_SOV_zemsky_sobor
		cost = 1
		relative_position_id = ITA_insatiable_spr_state 
		x = -2
		y = 1
		available = {
			SPR = {
				has_opinion = {
					target = ITA
					value > 50
				}
			}
		}
		prerequisite = {
			focus = ITA_insatiable_spr_state
		}
		completion_reward = {
			hidden_effect = {
				if = {
					limit = {
						SPR = {
							controls_state = 1051
						}
					}
					transfer_state = 1051
					#1051 = { add_core_of = ITA }
				}
				else = {
					transfer_state = 290
					#290 = { add_core_of = ITA }
				}
			}
			custom_effect_tooltip = ITA_North_africa_spr_state_tt_1
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = ITA_North_africa_spr_state_tt_2
			#transfer_state = 290
			#transfer_state = 1051
		}
	}
	
	focus = {
		id = ITA_West_africa_spr_state
		icon = GFX_focus_AUS_proclaim_austrian_empire
		cost = 1
		relative_position_id = ITA_insatiable_spr_state
		x = 0
		y = 1
		available = {
			SPR = {
				has_opinion = {
					target = ITA
					value > 35
				}
			}
		}
		prerequisite = {
			focus = ITA_insatiable_spr_state
		}
		completion_reward = { 
			transfer_state = 178
			transfer_state = 699
			transfer_state = 783
		}
	}
	focus = {
		id = ITA_Central_africa_spr_state
		icon = GFX_focus_POL_cossack_king
		cost = 1
		relative_position_id = ITA_insatiable_spr_state
		x = 2
		y = 1
		available = {
			SPR = {
				has_opinion = {
					target = ITA
					value > 20
				}
			}
		}
		prerequisite = {
			focus = ITA_insatiable_spr_state
		}
		completion_reward = { 
			transfer_state = 297
		}
	}

	focus = {
		id = ITA_add_core_spr_state
		icon = GFX_focus_COG_the_umwami_of_rwanda
		cost = 2
		relative_position_id = ITA_insatiable_spr_state
		x = 0
		y = 2
		available = {
			SPR = {
				has_opinion = {
					target = ITA
					value > 10
				}
			}
			has_completed_focus = ITA_the_second_mainland_por_conoly
		}
		prerequisite = {
			focus = ITA_North_africa_spr_state
		}
		prerequisite = {
			focus = ITA_West_africa_spr_state
		}
		prerequisite = {
			focus = ITA_Central_africa_spr_state
		}
		completion_reward = {
			hidden_effect = { 
				if = {
					limit = {
						SPR = {
							controls_state = 1051
						}
					}
					177 = { add_core_of = ITA }
					178 = { add_core_of = ITA }
					1051 = { add_core_of = ITA }
					297 = { add_core_of = ITA }
					699 = { add_core_of = ITA }
					783 = { add_core_of = ITA }
				}
				else = {
					177 = { add_core_of = ITA }
					178 = { add_core_of = ITA }
					290 = { add_core_of = ITA }
					297 = { add_core_of = ITA }
					699 = { add_core_of = ITA }
					783 = { add_core_of = ITA }
				}
			}	
			custom_effect_tooltip = ITA_add_core_spr_state_tt_1
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = ITA_add_core_spr_state_tt_2
			#177 = { add_core_of = ITA }
			#178 = { add_core_of = ITA }
			#290 = { add_core_of = ITA }
			#297 = { add_core_of = ITA }
			#699 = { add_core_of = ITA }
			#783 = { add_core_of = ITA }
		}
	}

###END###

###THE Mediterranean hegemony
	focus = {
		id = ITA_keep_the_course
		icon = GFX_focus_FIN_finnish_neutrality
		relative_position_id = ITA_mare_nostrum_bba
		x = 11
		y = 0
		cost = 5
		prerequisite = { focus = ITA_setting_course focus = ITA_strengthen_the_regime focus = ITA_blackshirt_loyalty }
		mutually_exclusive = { 
			focus = ITA_towards_a_greater_italy
			focus = ITA_mare_nostrum_bba
		}
		available = {
			is_subject = no
			has_completed_focus = ITA_culto_del_duce
		}
		allow_branch = {
			OR = {
				has_country_leader = {
					character = ITA_benito_mussolini
					ruling_only = yes
				}
				has_country_flag = ITA_benito_mussolini_flag
			}
			NOT = {
				has_country_flag = IPUnion_country_event.56_flag
			}
		}
		completion_reward = {
			add_political_power = 75
			add_state_claim = 458
			add_state_claim = 665
			add_state_claim = 446
			add_state_claim = 183
			add_state_claim = 118
			add_state_claim = 116
			#set_power_balance = {
			#	id = ITA_power_balance
			#	left_side = ITA_pope_side
			#}
			#if = {
			#}
			#hidden_effect = {
			#	458 = { add_core_of = ITA } 
			#	665 = { add_core_of = ITA } 
			#	446 = { add_core_of = ITA } 
			#	183 = { add_core_of = ITA } 
			#	118 = { add_core_of = ITA } 
			#}
			add_country_leader_trait = ITA_duce_helmsman
			remove_power_balance = {
				id = ITA_power_balance
			}
			unlock_decision_tooltip = form_roman_empire
			custom_effect_tooltip = form_greater_italy_tt
			unlock_decision_tooltip = form_restore_organizational_life
			
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = ITA_better_choice_tt
		}
	}
	focus = {
		id = ITA_control_the_mediterranean
		icon = GFX_focus_generic_mediterranean_sea_focus
		relative_position_id = ITA_keep_the_course
		x = -2
		y = 5
		cost = 4
		prerequisite = { focus = ITA_national_economy_fascismful }
		available = {
			
		}
		completion_reward = {
			#transfer_state = 1
			#transfer_state = 118
			#transfer_state = 116
			#transfer_state = 458
			#transfer_state = 665

			#hidden_effect = {
			#	1 = { add_core_of = ITA }
			#	118 = { add_core_of = ITA } 
			#	116 =  { add_core_of = ITA } 
			#	458 = { add_core_of = ITA } 
			#	665 = { add_core_of = ITA } 
			#}
			#custom_effect_tooltip = ITA_get_fornt_state_core_tt
			#unlock_decision_category_tooltip = ITA_mare_nostrum_category
			custom_effect_tooltip = unlock_decision_category_ITA_mare_nostrum_category_tt
		}
	}
	
	#focus = {
	#	id = ITA_reconquest_of_malta
	#	icon = x
	#	relative_position_id = ITA_control_the_gibraltar
	#	x = 0
	#	y = 1
	#	prerequisite = { focus = ITA_control_the_gibraltar }
	#	available = {
	#		
	#	}
	#	completion_reward = {
	#		transfer_state = 116
	#	}
	#}
	
	focus = {
		id = ITA_sword_aimed_middle_east
		icon = GFX_focus_FIN_union_of_finnish_borthers_in_arms
		relative_position_id = ITA_control_the_mediterranean
		x = -2
		y = 0
		cost = 4
		prerequisite = { focus = ITA_national_economy_fascismful }
		available = {

		}
		completion_reward = {
			##puppet Egypt
			ENG = {
				release = EGY
				release = CYP
			}
				#EGY = {
				#	set_cosmetic_tag = EGY_KOI
				#	#give_military_access = ENG
				#}
				#transfer_state = 183
				#transfer_state = 446
				#transfer_state = 1048
				#183 = { add_core_of = ITA } 
				#446 = { add_core_of = ITA }
				#1048 = { add_core_of = ITA }
			EGY = {
				set_politics = {
				ruling_party = neutrality
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.60
				}
					#add_ideas = idea_ITA_neutrality_puppet
			}
			CYP = {
				set_politics = {
				ruling_party = neutrality
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.60
				}
				#add_ideas = idea_ITA_neutrality_puppet
			}
			EGY = {
				set_rule = { can_create_factions = yes }
				create_faction = faction_middle_east_command
			}

			EGY = {
				add_to_faction = CYP
				add_to_faction = PAL
				add_to_faction = JOR
				add_to_faction = IRQ
				add_to_faction = KUW
				set_autonomy = { target = PAL autonomy_state = autonomy_dominion }
				set_autonomy = { target = JOR autonomy_state = autonomy_dominion }
				set_autonomy = { target = KUW autonomy_state = autonomy_dominion }
			}

			hidden_effect = {
				ENG = {
					remove_opinion_modifier = {
						target = EGY
						modifier = faction_traitor
					}
					remove_opinion_modifier = {
						target = CYP
						modifier = faction_traitor
					}
					remove_opinion_modifier = {
						target = PAL
						modifier = faction_traitor
					}
					remove_opinion_modifier = {
						target = JOR
						modifier = faction_traitor
					}
					remove_opinion_modifier = {
						target = KUW
						modifier = faction_traitor
					}
					add_opinion_modifier = {
						target = EGY
						modifier = in_faction
					}
					add_opinion_modifier = {
						target = CYP
						modifier = in_faction
					}
					add_opinion_modifier = {
						target = PAL
						modifier = in_faction
					}
					add_opinion_modifier = {
						target = JOR
						modifier = in_faction
					}
					add_opinion_modifier = {
						target = KUW
						modifier = in_faction
					}
				}
			}

			if = {
				limit = {
					FRA = {
						is_in_faction_with = ENG
					}
				}
				set_country_flag = ITA_sword_aimed_middle_east_FRA_puppet
				SYR = {
					set_politics = {
						ruling_party = neutrality
					}
					add_popularity = {
						ideology = neutrality
						popularity = 0.60
					}
					#add_ideas = idea_ITA_neutrality_puppet
				}
				LEB = {
					set_politics = {
						ruling_party = neutrality
					}
					add_popularity = {
						ideology = neutrality
						popularity = 0.60
					}
					#add_ideas = idea_ITA_neutrality_puppet
				}
				EGY = {
					add_to_faction = LEB
					add_to_faction = SYR
				}
				554 = {
					create_unit = {
						division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = SYR
						count = 1
					}
				}
				677 = {
					create_unit = {
						division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = SYR
						count = 1
					}
				}
				553 = {
					create_unit = {
						division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = LEB
						count = 1
					}
				}
				hidden_effect = {
					FRA = {
						remove_opinion_modifier = {
							target = SYR
							modifier = faction_traitor
						}

						remove_opinion_modifier = {
							target = LEB
							modifier = faction_traitor
						}

						add_opinion_modifier = {
							target = SYR
							modifier = in_faction
						}
						add_opinion_modifier = {
							target = LEB
							modifier = in_faction
						}
					}
					554 = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			
			447 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = EGY
					count = 2
				}
			}

			907 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = EGY
					count = 3
				}
			}

			452 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = EGY
					count = 2
				}
			}

			446 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = EGY
					count = 1
				}
			}

			453 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = EGY
					count = 2
				}
			}

			456 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = EGY
					count = 2
				}
			}

			457 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = EGY
					count = 2
				}
			}

			454 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = PAL
					count = 1
				}
			}

			455 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = JOR
					count = 1
				}
			}

			656 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = KUW
					count = 1
				}
			}

			183 = {
				create_unit = {
					division = "division_template =\"Infantry Division\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = CYP
					count = 1
				}
			}

			EGY = {
				give_military_access = ENG
				give_market_access = ENG
			}
			CYP = {
				give_military_access = ENG
				give_market_access = ENG
			}
			PAL = {
				give_military_access = ENG
				give_market_access = ENG
			}
			JOR = {
				give_military_access = ENG
				give_market_access = ENG
			}
			KUW = {
				give_military_access = ENG
				give_market_access = ENG
			}
			ENG = {
				give_market_access = EGY
				give_market_access = CYP
				give_market_access = JOR
				give_market_access = KUW
				give_market_access = PAL
			}

			unlock_decision_category_tooltip = ITA_sword_aimed_middle_east_category

			hidden_effect = {
				EGY = {
					set_major = yes
				}
				PAL = {
					set_major = yes
				}
				JOR = {
					set_major = yes
				}
				CYP = {
					set_major = yes
				}
				IRQ = {
					set_major = yes
				}
				KUW = {
					set_major = yes
				}
				if = {
					limit = {
						OR = {
							SYR = {
								is_in_faction_with = EGY
							}
							LEB = {
								is_in_faction_with = EGY
							}
						}
					}
					SYR = {
						set_major = yes
					}
					LEB = {
						set_major = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_KUW_oil_resource
		icon = GFX_goal_generic_oil_refinery
		cost = 5
		relative_position_id = ITA_sword_aimed_middle_east
		prerequisite = {
			focus = ITA_sword_aimed_middle_east
		}
		x = 0
		y = 1
		available = {
			any_country = {
				OR = {
					original_tag = ITA
					is_puppet_of = ITA
				}
				controls_state = 656
			}
		}
		completion_reward = { 
			if = {
				limit = {
					ITA = {
						controls_state = 656
					}	
				}
				add_resource = {
					type = oil
					amount = 30
					state = 656
				}
			}
			else_if = {
				limit = {
					any_country = {
						is_puppet_of = ITA
						controls_state = 656
					}
				}
				add_resource = {
					type = oil
					amount = 30
					state = 656
				}
				give_resource_rights = {
					receiver = ITA
					resources = { oil }
					state = 656
				}
			}
		}
	}

	focus = {
		id = ITA_leap_forward
		prerequisite = { focus = ITA_keep_the_course }
		available = { has_completed_focus = ITA_believe_obey_fight }
		icon = GFX_SOV_socialist_emulation_ccp_2d_sov_compatibility
		relative_position_id = ITA_keep_the_course
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			custom_effect_tooltip = ITA_leap_forward_tt
			add_ideas = idea_ITA_leap_forward_1
			hidden_effect = {
				add_ideas = idea_ITA_reality_1
				country_event = {
					id = IPUnion_leap_forward_event.1
					days = 10
				}
				set_country_flag = ITA_leap_forward_flag
			}
		}
	}

	focus = {
		id = ITA_Adjust_Consolidate_Fill_out_and_Improve
		prerequisite = { focus = ITA_leap_forward }
		icon = GFX_focus_generic_industry_3
		relative_position_id = ITA_leap_forward
		x = 0
		y = 1
		cost = 5
		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_Adjust_Consolidate_Fill_out_and_Improve_tt
				NOT = {
					has_country_flag = ITA_leap_forward_flag
				}
			}
		}
		completion_reward = {
			custom_effect_tooltip = ITA_Adjust_Consolidate_Fill_out_and_Improve_1_tt
			custom_effect_tooltip = ITA_Adjust_Consolidate_Fill_out_and_Improve_2_tt
			hidden_effect = {
				country_event = {
					id = IPUnion_Adjust_Consolidate_Fill_out_and_Improve.1
					days = 1
				}
			}
		}
	}
	
	focus = {
		id = ITA_learn_form_camicie_nere
		prerequisite = { focus = ITA_Adjust_Consolidate_Fill_out_and_Improve }
		icon = GFX_focus_ARG_march_to_la_casa_rosada
		relative_position_id = ITA_keep_the_course
		x = 0
		y = 3
		cost = 5
		completion_reward = {
			add_ideas = idea_ITA_learn_form_camicie_nere
		}
	}

	focus = {
		id = ITA_learn_form_foggia
		prerequisite = { focus = ITA_Adjust_Consolidate_Fill_out_and_Improve }
		icon = GFX_focus_generic_farmland
		relative_position_id = ITA_keep_the_course
		x = 2
		y = 3
		cost = 5
		completion_reward = {
			add_ideas = idea_ITA_learn_form_foggia

			if = {
				limit = {
					has_completed_focus = ITA_learn_form_torina
				}
				custom_effect_tooltip = unlock_propaganda_campaign_tt
				unlock_decision_tooltip = ITA_propaganda_learn_form_foggia_milano
			}
		}
	}

	focus = {
		id = ITA_learn_form_torina
		prerequisite = { focus = ITA_Adjust_Consolidate_Fill_out_and_Improve }
		icon = GFX_focus_generic_modernize_industry
		relative_position_id = ITA_keep_the_course
		x = -2
		y = 3
		cost = 5
		completion_reward = {
			add_ideas = idea_ITA_learn_form_torina
			if = {
				limit = {
					has_completed_focus = ITA_learn_form_foggia
				}
				custom_effect_tooltip = unlock_propaganda_campaign_tt
				unlock_decision_tooltip = ITA_propaganda_learn_form_foggia_milano
			}
		}
	}

	focus = {
		id = ITA_national_economy_fascismful ##继续推行国民经济法西斯化
		icon = GFX_focus_GER_monarchy_compromise
		relative_position_id = ITA_keep_the_course
		x = 0
		y = 4
		prerequisite = { focus = ITA_learn_form_foggia }
		prerequisite = { focus = ITA_learn_form_camicie_nere }
		prerequisite = { focus = ITA_learn_form_torina }
		cost = 4
		available = {

		}
		completion_reward = {
			custom_effect_tooltip = ITA_enter_the_high_stage_of_imperialism_tt_1
			add_timed_idea = {
				idea = idea_ITA_forced_nationalization
				days = 60
			}
			hidden_effect = {
				country_event = {
					id = IPUNion_country_event.11
					days = 15
				}
			}
		}
		#country_event = {
		#	id = IPUnion_country_event.11
		#}
	}

	focus = {
		id = ITA_enter_the_high_stage_of_imperialism
		icon = GFX_focus_generic_motor_cycle
		relative_position_id = ITA_national_economy_fascismful
		x = 0
		y = 1
		prerequisite = {
			focus = ITA_national_economy_fascismful
		}
		available = {
			always = no
		}
		cost = 8.6
		completion_reward = {
			#custom_effect_tooltip = ITA_enter_the_high_stage_of_imperialism_tt_1
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			#add_ideas = idea_ITA_state_monopoly_capitalism
			#add_political_power = -15
			custom_effect_tooltip = ITA_enter_the_high_stage_of_imperialism_tt
			ITA_state_monopoly_capitalism_reforming = yes
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = ITA_national_economy_fascismful_tt
			show_ideas_tooltip = ITA_autarkic_economy
		}
	}

	focus = {
		id = ITA_Issuance_new_version_lira
		icon = GFX_focus_generic_currency_reforms
		relative_position_id = ITA_enter_the_high_stage_of_imperialism
		x = -2
		y = 1
		prerequisite = { focus = ITA_enter_the_high_stage_of_imperialism }
		cost = 2
		completion_reward = {
			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 10
				country_event = IPUnion_country_event.54
			}
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.15
				tooltip = consumer_goods_factor_tt
			}
		}
	}

	focus = {
		id = ITA_mussolinisim_tax_reform
		icon = GFX_focus_BEL_stk
		relative_position_id = ITA_Issuance_new_version_lira
		x = -1
		y = 1
		prerequisite = { focus = ITA_Issuance_new_version_lira }
		cost = 4
		completion_reward = {
			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 20
				country_event = IPUnion_country_event.54
			}
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.15
				tooltip = consumer_goods_factor_tt
			}
		}
	}

	focus = {
		id = ITA_mussolini_house
		icon = GFX_focus_generic_low_cost_housing
		relative_position_id = ITA_Issuance_new_version_lira
		x = 1
		y = 1
		prerequisite = { focus = ITA_Issuance_new_version_lira }
		cost = 3
		completion_reward = {
			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 20
				country_event = IPUnion_country_event.54
			}
			if = {
				limit = {
					2 = { #Roma
						is_owned_and_controlled_by = ROOT
					}
				}
				2 = { set_state_category = large_city }
			}
			
			if = {
				limit = {
					849 = { #Fuga
						is_owned_and_controlled_by = ROOT
					}
				}
				849 = { set_state_category = large_city }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_to_variable = { 
				GER_industrial_production_speed_buildings_factor = 0.05
				tooltip = production_speed_buildings_factor_tt
			}
		}
	}

	focus = {
		id = ITA_price_controls_continued
		icon = GFX_focus_generic_price_controls
		cost = 4
		relative_position_id = ITA_mussolinisim_tax_reform
		x = -3
		y = 1
		prerequisite = { focus = ITA_mussolinisim_tax_reform }
		mutually_exclusive = { focus = ITA_abolish_price_controls }
		completion_reward = {
			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 30
				country_event = IPUnion_country_event.54
			}
			add_stability = 0.10

			add_political_power = -175

			custom_effect_tooltip = generic_skip_one_line_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.20
				tooltip = consumer_goods_factor_tt
			}
		}
	}

	focus = {
		id = ITA_abolish_price_controls
		relative_position_id = ITA_mussolinisim_tax_reform
		icon = GFX_focus_ARG_anti_corruption_policies
		x = -1
		y = 1
		cost = 3
		prerequisite = { focus = ITA_mussolinisim_tax_reform }
		mutually_exclusive = { focus = ITA_price_controls_continued }
		completion_reward = {
			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 30
				country_event = IPUnion_country_event.54
			}
			add_stability = -0.15

			custom_effect_tooltip = generic_skip_one_line_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = AUS_friedrich_hayek
		}
	}

	focus = {
		id = ITA_industrial_expansion
		icon = GFX_focus_generic_modernize_industry
		prerequisite = { focus = ITA_mussolini_house }
		prerequisite = { focus = ITA_mussolinisim_tax_reform }

		x = 1
		y = 1
		relative_position_id = ITA_mussolinisim_tax_reform
		cost = 4
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 30
				country_event = IPUnion_country_event.54
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_industrial_expansion
				bonus = 1
				uses = 1
				category = industry
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			modify_building_resources = {
        	   building = synthetic_refinery
        	   resource = rubber
        	   amount = 1
        	}

			custom_effect_tooltip = generic_skip_one_line_tt

			#GER_modify_industrial_modifier = yes
			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			add_to_variable = { 
				GER_industrial_research_speed_factor = 0.05
				tooltip = research_speed_factor_tt 
			}
		}
	}

	focus = {
		id = ITA_workers_rights
		icon = GFX_focus_generic_workers
		prerequisite = { focus = ITA_mussolini_house }

		x = 1
		y = 1
		relative_position_id = ITA_mussolini_house
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 30
				country_event = IPUnion_country_event.54
			}
			add_popularity = {
			    ideology = ROOT
			    popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			#GER_modify_industrial_modifier = yes
			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_industrial_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}
			
			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_anti_capitalism
		}
	}

	focus = {
		id = ITA_planned_parenthood
		icon = GFX_focus_generic_population_growth
		relative_position_id = ITA_workers_rights
		x = 1
		y = 1
		prerequisite = {
			focus = ITA_workers_rights
		}
		cost = 5
		available = {
			#has_idea = ITA_battaglia_per_la_nascite
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 40
				country_event = IPUnion_country_event.54
			}
			add_ideas = ITA_planned_parenthood_idea
		}
	}

	focus = {
		id = ITA_increased_trade
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = {
			#OR = {
			#	focus = ITA_abolish_price_controls
			#	focus = ITA_price_controls_continued
			#}
			focus = ITA_abolish_price_controls
			focus = ITA_price_controls_continued
		}

		x = -1
		y = 1
		relative_position_id = ITA_abolish_price_controls
		cost = 2
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

		completion_reward = {
			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 40
				country_event = IPUnion_country_event.54
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			#R_modify_industrial_modifier = yes
			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_industrial_resource_trade_cost_bonus_per_factory = 1
				tooltip = resource_trade_cost_bonus_per_factory_tt
			}
		}
	}

	focus = {
		id = ITA_invest_in_vereinigte_stahlwerke
		icon = GFX_focus_GER_vereinigte_stahlwerke
		prerequisite = { focus = ITA_industrial_expansion }
		prerequisite = {
			focus = ITA_abolish_price_controls
			focus = ITA_price_controls_continued
		}

		x = -1
		y = 1
		relative_position_id = ITA_industrial_expansion
		cost = 5
		available = {
			159 = {
				is_fully_controlled_by = ROOT
				is_demilitarized_zone = no
			}
			has_tech = excavation2
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 40
				country_event = IPUnion_country_event.54
			}
			if = {	
				limit = {
					159 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				159 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			159 = {
				add_resource = {
					type = steel
					amount = 8
				}
				add_resource = {
					type = tungsten
					amount = 2
				}
				add_resource = {
					type = chromium
					amount = 2
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_invest_in_vereinigte_stahlwerke
				bonus = 1
				uses = 1
				category = excavation_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			#GER_modify_industrial_modifier = yes
			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_recovering_economy_modifier_local_resources_factor = 0.05
				tooltip = local_resources_factor_tt
			}

		}
	}

	focus = {
		id = ITA_agricultural_reforms
		icon = GFX_focus_generic_farmland
		prerequisite = { focus = ITA_industrial_expansion }
		prerequisite = { focus = ITA_workers_rights }

		x = 1
		y = 1
		relative_position_id = ITA_industrial_expansion
		cost = 5
		available = {
			#has_tech = advanced_machine_tools
			has_completed_focus = ITA_expand_foggia_farm_fields
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 40
				country_event = IPUnion_country_event.54
			}

			if = {
				limit = {
					117 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				117 = { add_extra_state_shared_building_slots = 1 }
			}
			if = {
				limit = {
					849 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				849 = { add_extra_state_shared_building_slots = 1 }
			}
			if = {
				limit = {
					156 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				156 = { add_extra_state_shared_building_slots = 1 }
			}
			if = {
				limit = {
					115 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				115 = { add_extra_state_shared_building_slots = 1 }
			}
			if = {
				limit = {
					114 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				114 = { add_extra_state_shared_building_slots = 1 }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			#GER_modify_industrial_modifier = yes
			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.1
				tooltip = consumer_goods_factor_tt
			}

		}
	}

	focus = {
		id = ITA_miracolo_economico
		icon = GFX_focus_GER_wirtschaftswunder
		prerequisite = { focus = ITA_invest_in_vereinigte_stahlwerke }
		prerequisite = { focus = ITA_agricultural_reforms }

		x = 1
		y = 1
		relative_position_id = ITA_invest_in_vereinigte_stahlwerke
		cost = 7
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {

			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 100
				country_event = IPUnion_country_event.54
			}

			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_wirtschaftswunder
				bonus = 1
				uses = 1
				category = industry
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.2
				tooltip = consumer_goods_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_speed_buildings_factor = 0.1
				tooltip = production_speed_buildings_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_lack_of_resource_penalty_factor = -0.05
				tooltip = production_lack_of_resource_penalty_factor_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			add_to_variable = { 
				GER_industrial_conversion_cost_civ_to_mil_factor = -0.2
				tooltip = conversion_cost_civ_to_mil_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}
			add_to_variable = {
				GER_industrial_production_speed_arms_factory_factor = 0.15
				tooltip = production_speed_arms_factory_factor_tt
			}
			add_to_variable = {
				GER_industrial_production_speed_dockyard_factor = 0.15
				tooltip = production_speed_dockyard_factor_tt
			}

			add_ideas = idea_ITA_miracolo_economico

		}
	}

	focus = {
		id = ITA_urbanization
		icon = GFX_focus_generic_full_employment
		prerequisite = { focus = ITA_agricultural_reforms }
		prerequisite = { focus = ITA_planned_parenthood }

		x = 1
		y = 1
		relative_position_id = ITA_agricultural_reforms
		cost = 5
		available = {
			OR ={
				117 = { #Hannover
					is_owned_and_controlled_by = ROOT
				}
				157 = { #Baden
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random = {
				limit = {
					NOT = {
						has_country_flag = mussolini_is_in_terminally_ill_flag
					}
				}
				chance = 100
				country_event = IPUnion_country_event.54
			}
			
			if = {
				limit = {
					157 = { 
						is_owned_and_controlled_by = ROOT
					}
				}
				157 = { set_state_category = metropolis }
			}
			if = {
				limit = {
					117 = { 
						is_owned_and_controlled_by = ROOT
					}
				}
				117 = { set_state_category = metropolis }
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			#GER_modify_industrial_modifier = yes
			custom_effect_tooltip = ITA_generic_state_capital_sup_tt
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
		}
	}

	focus = {
		id = ITA_build_center_railway
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite  = { focus = ITA_enter_the_high_stage_of_imperialism }
		relative_position_id = ITA_enter_the_high_stage_of_imperialism
		x = 3
		y = 1
		cost = 3
		available = {
			controls_state = 115
			controls_state = 156
			controls_state = 117
			controls_state = 2
			controls_state = 162
			controls_state = 161
			controls_state = 159
			controls_state = 158
		}
		completion_reward = {
			build_railway = {
				path = { 7059 10074 3857 1156 4159 9990 12066 3901 10027 3968 851 955 819 9826 923 11846 9904 11751 6862 6875 11833 6946 6973 3773 11726 3780 }
				level = 5
			}
			build_railway = {
				path = { 6973 6788 771 9741 11730 6780 }
				level = 5
			}
		}
	}

	focus = {
		id = ITA_build_the_vajont_dam
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = ITA_Issuance_new_version_lira focus = ITA_build_center_railway }

		x = -2
		y = 1
		relative_position_id = ITA_build_center_railway
		cost = 4
		available = {
			160 = { 
				is_fully_controlled_by = ROOT
				is_demilitarized_zone = no 
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					160 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				160 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			160 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = {
						id = 6656
					}
				}
			}
			custom_effect_tooltip = ITA_alto_lindoso_dam_por_eu_tt
			#custom_effect_tooltip = {
			#	localization_key = building_state_modifier|dam
			#	INDENT = "    "
			#}
		}
	}

	focus = {
		id = ITA_kdf_wagen_factories
		icon = GFX_focus_GER_kdf_wagen
		prerequisite = { focus = ITA_build_center_railway }

		x = 2
		y = 1
		relative_position_id = ITA_build_center_railway
		cost = 3
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			159 = {
				add_building_construction = {
					type = industrial_complex
					level = 5
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 5
			}
			add_to_variable = { 
				GER_industrial_production_speed_buildings_factor = 0.05
				tooltip = production_speed_buildings_factor_tt
			}
		}
	}

	focus = {
		id = ITA_innovative_warfare
		icon = GFX_focus_ARG_develop_the_electricity_sector
		#icon = GFX_focus_generic_university_3
		#icon = GFX_goal_generic_secret_weapon
		#icon = GFX_focus_generic_army_tanks2

		prerequisite = { focus = ITA_build_center_railway }

		x = 0
		y = 1
		relative_position_id = ITA_build_center_railway
		cost = 4
		available = {
			#has_war_with_major = yes
			has_tech = advanced_machine_tools
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_innovative_warfare
				#bonus = 1
				ahead_reduction = 2
				uses = 1
				category = armor
				category = artillery
				category = naval_equipment
				category = air_equipment
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_special_project_speed_factor = 0.05
				tooltip = special_project_speed_factor_tt
			}
			add_to_variable = { 
				GER_wunderwaffen_production_speed_facility_factor = 0.05
				tooltip = production_speed_facility_factor_tt
			}
		}
	}

	focus = {
		id = ITA_brain_update
		icon = GFX_focus_chi_flying_tigers
		prerequisite = { focus = ITA_innovative_warfare }
		relative_position_id = ITA_innovative_warfare
		x = -1
		y = 1
		cost = 4
		available = {
			#has_tech = 414
		}
		completion_reward = {
			set_technology = {
				supersonic_small_airframe = 1
			}
		}
	}

	focus = {
		id = ITA_Return_to_naval_glory
		icon = GFX_focus_SWE_Vasa_II
		prerequisite = { focus = ITA_innovative_warfare }
		relative_position_id = ITA_innovative_warfare
		x = 1
		y = 1
		cost = 4
		available = {
			#has_tech = 145
		}
		completion_reward = {
			hidden_effect = {
				set_technology = {
					advanced_ship_hull_heavy = 1
				}
			}
			custom_effect_tooltip = ITA_Return_to_naval_glory_tt
		}
	}

	focus = {
		id = ITA_land_cruiser_focus
		icon = GFX_focus_FIN_foreign_anti_air
		prerequisite = { focus = ITA_brain_update }
		prerequisite = { focus = ITA_Return_to_naval_glory }
		relative_position_id = ITA_innovative_warfare
		x = 0
		y = 2
		cost = 4
		completion_reward = {
			set_technology = {
				super_heavy_tank_chassis = 1
			}
		}
	}

	focus = {
		id = ITA_FRA_treaty_focus
		icon = GFX_focus_chi_reach_out_to_france
		prerequisite = {
			focus = ITA_national_economy_fascismful
		}

		mutually_exclusive = { focus = ITA_FRA_base_in_far_east }
		relative_position_id = ITA_keep_the_course
		x = 2
		y = 5
		cost = 3
		available = {
			FRA = {
				has_opinion = {
					target = ITA
					value > 50
				}
			}
		}
		completion_reward = {
			FRA = {
				add_opinion_modifier = {
					target = ITA
					modifier = IPUnion_ITA_FRA_treaty
				}
				give_guarantee = ITA
				give_market_access = ITA
			}
		}
	}

	focus = {
		id = ITA_FRA_base_in_far_east
		icon = GFX_focus_GER_sentinels_of_the_pacific
		relative_position_id = ITA_FRA_treaty_focus
		x = 2
		y = 0
		cost = 5
		prerequisite = { focus = ITA_national_economy_fascismful }
		mutually_exclusive = { focus = ITA_FRA_treaty_focus }
		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_FRA_control_Saigon_trigger_tt
				FRA = {
					controls_state = 1050
				}
			}
		}
		completion_reward = {
			transfer_state = 1050
			1050 = { add_core_of = ITA }
			add_political_power = -25
		}
	}

	focus = {
		id = ITA_lease_toulon_99_years
		icon = GFX_focus_DEN_flyvetaktisk_kommando
		prerequisite = {
			focus = ITA_Return_to_naval_glory
		}
		cost = 4
		relative_position_id = ITA_Return_to_naval_glory
		x = 1
		y = 1
		available = {
			has_completed_focus = ITA_FRA_treaty_focus
			custom_trigger_tooltip = {
				tooltip = ITA_lease_toulon_99_years_tt
				FRA = {
					controls_state = 1047
				}
			}
		}
		completion_reward = {
			transfer_state = 1047
			1047 = { add_core_of = ITA }
			add_timed_idea = {
				idea = idea_ITA_lease_toulon
				days = 36135
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			FRA = {
				add_timed_idea = {
					idea = idea_FRA_rent_toulon
					days = 36135
				}
			}
			hidden_effect = {
				country_event = {
					id = IPUnion_country_event.1
					days = 36135
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = IPUnion_Toulon_Return_tt
		}
	}

	focus = {
		id = ITA_be_careful_eth_puppet_sud
		icon = GFX_focus_generic_camel_corps
		cost = 4
		relative_position_id = ITA_miracolo_economico
		x = 5
		y = 0
		#prerequisite = {
		#	focus = ITA_miracolo_economico
			#focus = ITA_land_cruiser_focus
		#}
		prerequisite = {
			focus = ITA_land_cruiser_focus
		}
		available = {
			OR = {
				ITA = {
					controls_state = 550
					controls_state = 559
					controls_state = 844
					controls_state = 841
					controls_state = 842
					controls_state = 843
					controls_state = 840
					controls_state = 839
					controls_state = 838
					controls_state = 837
					controls_state = 836
					controls_state = 835
					controls_state = 271
					controls_state = 908
				}
				AND = {
					country_exists = AOI
					AOI = {
						is_puppet_of = ITA
					}
				}
			}
			ENG = {
				has_opinion = {
					target = ITA
					value > 50
				}
			}
		}
		completion_reward = {
			EGY = {
				transfer_state = 767
				transfer_state = 551
				transfer_state = 883
				transfer_state = 887
				transfer_state = 549
				transfer_state = 886
				transfer_state = 885
				transfer_state = 884
			}
			#release_autonomy = {
			#	target = SUD
			#	autonomy_state = autonomy_puppet
			#	freedom_level = 0.5
			#}
			#hidden_effect = {
			#	SUD = {
			#		add_ideas = idea_ITA_neutrality_puppet
			#		add_popularity = {
			#			ideology = neutrality
			#			popularity = 0.60
			#		}
			#	}
			#}
			#SUD = {
			#	set_politics = {
			#		ruling_party = neutrality
			#	}
			#	set_cosmetic_tag = SUD_ITA_EGY
			#}
		}
	}


##END##

##ITA_SWI_Focus

	focus = {
		id = ITA_be_friend_to_SWI_focus
		icon = GFX_focus_BEL_resist_and_bite
		prerequisite = {
			focus = ITA_vallo_alpino_del_littorio
		}
		prerequisite = {
			focus = ITA_divisioni_alpine
		}
		relative_position_id = ITA_vallo_alpino_del_littorio
		x = 2
		y = 2
		cost = 5
		available = {
			GER = {
				has_completed_focus = GER_anschluss
			}
		}
		completion_reward = {
			#hidden_effect = {
			#	GER = {
			#		unlock_national_focus = GER_operation_tannenbaum
			#		unlock_national_focus = GER_the_swiss_gold
			#	}
			#}
			#custom_effect_tooltip = ITA_be_friend_to_SWI_focus_tt_1

			#custom_effect_tooltip = generic_skip_one_line_tt

			#hidden_effect = {
			#	release_autonomy = {
			#		target = SWI
			#		autonomy_state = autonomy_puppet
			#		freedom_level = 0.5
			#	}
			#	SWI = {
			#		set_politics = {
			#			ruling_party = democratic
			#		}
			#		add_popularity = {
			#			ideology = democratic
			#			popularity = 0.60
			#		}
			#		add_ideas = idea_ITA_democratic_puppet
			#		set_cosmetic_tag = SWI_DEM
			#	}
			#}
			#custom_effect_tooltip = ITA_be_friend_to_SWI_focus_tt_2
			give_guarantee = SWI
			hidden_effect = {
				set_country_flag = ITA_guarantee_SWI_flag
			}
		}
	}











######## ########   ###	    ##     ##      ##         ########     ######    ########          ##      ## ###     ## ########   ######   ###     ##  
   ##		##     ## ##    ##	   ##      ##         ##     ##   ##    ##   ##     ##         ##      ## ####    ##    ##     ##    ##  ####    ##
   ##		##    ##   ##   ##      ##    ##          ##     ##  ##      ##  ##     ##         ##      ## ## ##   ##    ##    ##      ## ## ##   ##
   ##		##   ##     ##  ##       ##  ##  #######  #######    ##      ##  #######   ####### ##      ## ##  ##  ##    ##    ##      ## ##  ##  ##
   ##		##	 #########  ##        ####            ##         ##      ##  ##    ##          ##      ## ##   ## ##    ##    ##      ## ##   ## ##
   ##		##	 ##     ##  ##         ##             ##          ##    ##   ##     ##         ##      ## ##    ####    ##     ##    ##  ##    ####
########	##	 ##     ##  ########   ##             ##           ######    ##      ##         ########  ##     ### ########   ######   ##     ###
	focus = {
		id = ITA_ita-por_union
		icon = GFX_focus_generic_royal_wedding
		x = 0
		y = 2
		cost = 4
		relative_position_id = ITA_befriend_portugal
		prerequisite = { focus = ITA_befriend_portugal }
		available = {
			is_in_faction_with = POR
			POR = {
				has_opinion = {
					target = ITA
					value > 50
				}
			}
		}
		bypass = {
			112 = { is_core_of = ITA }
			179 = { is_core_of = ITA }
			180 = { is_core_of = ITA }
			181 = { is_core_of = ITA }
			795 = { is_core_of = ITA }
		}
		bypass_effect = {
			set_cosmetic_tag = ITA_POR_UNION
		}
		completion_reward = {
			#every_state = {
			#	limit = {
			#		is_owned_by = POR
			#	}
			#	add_core_of = ITA
			#}
			112 = { add_core_of = ITA }
			179 = { add_core_of = ITA }
			180 = { add_core_of = ITA }
			181 = { add_core_of = ITA }
			795 = { add_core_of = ITA }
			annex_country = {
				target = POR
				transfer_troops = yes
			}
			set_cosmetic_tag = ITA_POR_UNION
			#unlock_decision_tooltip = form_change_national_name_ita_to_ita_por_union
		}
	}

	focus = {
		id = ITA_the_question_of_por_colony
		icon = GFX_goal_tfv_sever_ties_with_uk
		relative_position_id = ITA_ita-por_union
		prerequisite = { focus = ITA_ita-por_union }
		x = -8
		y = 1
		cost = 1
		available = {
			controls_state = 697
			controls_state = 698
			controls_state = 702
			controls_state = 296
			controls_state = 540
			controls_state = 796
			controls_state = 891
			controls_state = 892
			controls_state = 544
			controls_state = 896
			controls_state = 897
			controls_state = 321
			controls_state = 721	
			controls_state = 729
		}
		completion_reward = {
			add_political_power = 75
			#add_timed_idea = {
			#	idea = idea_ITA_the_question_of_por_colony_1
			#	days = 1095
			#}
			add_ideas = idea_ITA_the_question_of_por_colony_1
		}
	}

	focus = {
		id = ITA_por_colony_decolonization
		icon = GFX_focus_eng_decolonization
		relative_position_id = ITA_the_question_of_por_colony
		x = -3
		y = 1
		prerequisite = { focus = ITA_the_question_of_por_colony }
		mutually_exclusive = { focus = ITA_tighten_control_por_colony }
		cost = 1
		available = {
			controls_state = 697
			controls_state = 698
			controls_state = 702
			controls_state = 296
			controls_state = 540
			controls_state = 796
			controls_state = 891
			controls_state = 892
			controls_state = 544
			controls_state = 896
			controls_state = 897
			controls_state = 321
			controls_state = 721	
			controls_state = 729
		}
		completion_reward = {
			remove_ideas = idea_ITA_the_question_of_por_colony_1
		}
	}

	focus = {
		id = ITA_tighten_control_por_colony
		icon = GFX_focus_generic_annex_country_2
		relative_position_id = ITA_the_question_of_por_colony
		x = 3
		y = 1
		cost = 5
		prerequisite = { focus = ITA_the_question_of_por_colony }
		mutually_exclusive = { focus = ITA_por_colony_decolonization }
		available = {
			controls_state = 697
			controls_state = 698
			controls_state = 702
			controls_state = 296
			controls_state = 540
			controls_state = 796
			controls_state = 891
			controls_state = 892
			controls_state = 544
			controls_state = 896
			controls_state = 897
			controls_state = 321
			controls_state = 721	
			controls_state = 729
		}
		completion_reward = {
			#697 = { add_core_of = ITA }
			#698 = { add_core_of = ITA }
			#702 = { add_core_of = ITA }
			#296 = { add_core_of = ITA }
			#540 = { add_core_of = ITA }
			#796 = { add_core_of = ITA }
			#891 = { add_core_of = ITA }
			#892 = { add_core_of = ITA }
			#544 = { add_core_of = ITA }
			#896 = { add_core_of = ITA }
			#897 = { add_core_of = ITA }
			#321 = { add_core_of = ITA }
			#721 = { add_core_of = ITA }
			#729 = { add_core_of = ITA }
			add_timed_idea = {
				idea = idea_ita_por_colony_development
				days = 1095
			}
			#remove_ideas = idea_ITA_the_question_of_por_colony
		}
	}
	
	focus = {
		id = ITA_change_the_leader_of_por_colony
		icon = GFX_focus_generic_catholic_dominion
		relative_position_id = ITA_tighten_control_por_colony
		x = 2
		y = 1
		cost = 1
		prerequisite = { focus = ITA_tighten_control_por_colony }
		#available = {
		#
		#}
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_ITA_the_question_of_por_colony_1
				add_idea = idea_ITA_the_question_of_por_colony_2
			}
			add_political_power = 75
		}
	}
	focus = {
		id = ITA_control_the_army_of_por_colony
		icon = GFX_focus_AUS_raid_military_storages
		relative_position_id = ITA_change_the_leader_of_por_colony
		x = 0
		y = 1
		cost = 2
		prerequisite = { focus = ITA_change_the_leader_of_por_colony }
		#available = {
		#
		#}
		completion_reward = {
			##由于接下来会在葡属殖民地的每一个小地块创建一个步兵师，考虑到STATE_721葡属帝汶的province_12206是飞地且没有港口，所以在此创建一个港口防止生成的步兵师处于包围状态
			hidden_effect = {
				721 = {
					add_building_construction = {
						type = naval_base
						level = 1
						province = 12206
						instant_build = yes
					}
				}
			}
			swap_ideas = {
				remove_idea = idea_ITA_the_question_of_por_colony_2
				add_idea = idea_ITA_the_question_of_por_colony_3
			}
			custom_effect_tooltip = ITA_control_the_army_of_por_colony_divs_tt
			697 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
			698 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
			702 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
			296 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 2
					}
				}
			}
			540 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 5
					}
				}
			}
			796 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
			891 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 4
					}
				}
			}
			892 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 6
					}
				}
			}
			544 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 4
					}
				}
			}
			896 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 4
					}
				}
			}
			897 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 8
					}
				}
			}
			321 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
			721 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 5
					}
				}
			}
			729 = {
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Divisione di Fanteria\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
		}
	}
	
	#focus = {
	#	id = ITA_sent_native_officials_to_por_colony
	#	icon = GFX_focus_generic_catholic_dominion
	#	relative_position_id = ITA_control_the_army_of_por_colony
	#	x = 0
	#	y = 1
	#	cost = 1
	#	prerequisite = { focus = ITA_control_the_army_of_por_colony }
	#	completion_reward = {
	#		swap_ideas = {
	#			remove_idea = idea_ITA_the_question_of_por_colony_3
	#			add_idea = idea_ITA_the_question_of_por_colony_4
	#		}
	#		add_political_power = -15
	#	}
	#}

	focus = {
		id = ITA_relief_booklet_in_por_colony
		icon = GFX_focus_AUS_the_evidenzburo
		relative_position_id = ITA_control_the_army_of_por_colony
		x = 0
		y = 1
		cost = 2
		prerequisite = { focus = ITA_control_the_army_of_por_colony }
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_ITA_the_question_of_por_colony_3
				add_idea = idea_ITA_the_question_of_por_colony_4
			}
			add_timed_idea = {
				idea = idea_ITA_relief_booklet_in_por_colony
				days = 365
			}
		}
	}
	
	focus = {
		id = ITA_propaganda_of_the_nation_in_por_colony
		icon = GFX_focus_generic_italy_propaganda
		relative_position_id = ITA_relief_booklet_in_por_colony
		cost = 2
		x = 0
		y = 1
		prerequisite = { focus = ITA_relief_booklet_in_por_colony }
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_ITA_the_question_of_por_colony_4
				add_idea = idea_ITA_the_question_of_por_colony_5
			}
			war_support_factor = 0.05
		}
	}

	focus = {
		id = ITA_sent_capital_to_por_colony
		icon = GFX_focus_ETH_adopt_the_lira
		relative_position_id = ITA_tighten_control_por_colony
		x = 0
		y = 1
		cost = 1
		prerequisite = { focus = ITA_tighten_control_por_colony }
		completion_reward = {
			add_ideas = idea_ITA_capital_out
			add_political_power = -25
		}
	}

	focus = {
		id = ITA_invest_in_infrastructure_on_por_colony
		icon = GFX_focus_ARG_develop_the_electricity_sector
		relative_position_id = ITA_sent_capital_to_por_colony
		x = 0
		y = 1
		cost = 2
		prerequisite = { focus = ITA_sent_capital_to_por_colony }
		completion_reward = {
			697 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			698 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			702 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			296 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			540 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			796 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			891 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			892 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			544 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			896 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			897 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			321 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			721 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			729 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = ITA_angola_oil_in_por_conoly
		icon = GFX_goal_generic_oil_refinery
		relative_position_id = ITA_invest_in_infrastructure_on_por_colony
		x = 0
		y = 1
		prerequisite = { focus = ITA_invest_in_infrastructure_on_por_colony }
		cost = 2
		completion_reward = {
			540 = {
				add_resource = {
					type = oil
					amount = 8
				}
			}
			892 = {
				add_resource = {
					type = oil
					amount = 9
				}
			}
			891 = {
				add_resource = {
					type = oil
					amount = 6 
				}
			}
		}
	}

	focus = {
		id = ITA_mozambique_minerals_in_por_conoly
		icon = GFX_focus_generic_mining_industry
		cost = 2
		relative_position_id = ITA_angola_oil_in_por_conoly
		x = 0
		y = 1
		prerequisite = { focus = ITA_angola_oil_in_por_conoly }
		completion_reward = {
			897 = {
				add_resource = {
					type = aluminum
					amount = 6
				}
				add_resource = {
					type = rubber
					amount = 4
				}
			}
			896 = {
				add_resource = {
					type = tungsten
					amount = 3
				}
			}
			544 = {
				add_resource = {
					type = chromium
					amount = 6
				}
			}
		}
	}

	focus = {
		id = ITA_the_great_leader_science_in_por_conoly
		icon = GFX_focus_AUS_bring_back_the_habsburg_rule
		cost = 1
		relative_position_id = ITA_tighten_control_por_colony
		x = -2
		y = 1
		prerequisite = { focus = ITA_tighten_control_por_colony }
		completion_reward = {
			add_ideas = idea_ITA_overseas_science_base
			add_political_power = -15
		}
	}

	focus = {
		id = ITA_rocket_base_on_guinea_in_por_conoly
		icon = GFX_focus_CHL_la_moderna_araucania_fin
		relative_position_id = ITA_the_great_leader_science_in_por_conoly 
		x = 0
		y = 1
		prerequisite = { focus = ITA_the_great_leader_science_in_por_conoly }
		cost = 2
		available = {
			controls_state = 296
		}
		completion_reward = {
			add_tech_bonus = {
				name = ITA_thermojet_research
				bonus = 1
				uses = 1
				category = air_equipment
			}
			add_tech_bonus = {
				name = ITA_thermojet_research
				ahead_reduction = 10.0
				bonus = 1.0
				category = jet_technology
				category = rocketry
			}
		}
	}

	focus = {
		id = ITA_angola_synthetic_industry_science_base_in_por_conoly
		icon = GFX_focus_CHL_found_the_contraloria_general_de_la_republica
		relative_position_id = ITA_rocket_base_on_guinea_in_por_conoly
		x = 0
		y = 1
		cost = 2
		prerequisite = { focus = ITA_rocket_base_on_guinea_in_por_conoly }
		available = {
			controls_state = 540
			controls_state = 891
			controls_state = 892
		}
		completion_reward = {
			540 = {
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			891 = {
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			892 = {
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_goa_ship_science_base_por_conoly
		icon = GFX_focus_CHL_taking_back_patagonia_monarchist
		relative_position_id = ITA_angola_synthetic_industry_science_base_in_por_conoly
		cost = 2
		x = 0
		y = 1
		prerequisite = { focus = ITA_angola_synthetic_industry_science_base_in_por_conoly }
		available = {
			controls_state = 321
		}
		completion_reward = {
			321 = {
				add_building_construction = {
					type = dockyard
					level = 10
					instant_build = yes
					#province = 1273					
				}
				add_extra_state_shared_building_slots = 10
			}
			add_ideas = idea_ITA_goa_ship_science_base_por_conoly
		}
	}

	focus = {
		id = ITA_the_second_mainland_por_conoly
		icon = GFX_focus_HABSBURG_for_the_glory_of_the_empire
		cost = 5
		relative_position_id = ITA_mozambique_minerals_in_por_conoly
		x = 0
		y = 1
		prerequisite = { focus = ITA_mozambique_minerals_in_por_conoly }
		prerequisite = { focus = ITA_goa_ship_science_base_por_conoly }
		prerequisite = { focus = ITA_propaganda_of_the_nation_in_por_colony }
		available = {
			controls_state = 697
			controls_state = 698
			controls_state = 702
			controls_state = 296
			controls_state = 540
			controls_state = 796
			controls_state = 891
			controls_state = 892
			controls_state = 544
			controls_state = 896
			controls_state = 897
			controls_state = 321
			controls_state = 721	
			controls_state = 729
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_ITA_the_question_of_por_colony_5
				add_idea = idea_ITA_overseas_state
			}
			697 = { add_core_of = ITA }
			698 = { add_core_of = ITA }
			702 = { add_core_of = ITA }
			296 = { add_core_of = ITA }
			540 = { add_core_of = ITA }
			796 = { add_core_of = ITA }
			891 = { add_core_of = ITA }
			892 = { add_core_of = ITA }
			544 = { add_core_of = ITA }
			896 = { add_core_of = ITA }
			897 = { add_core_of = ITA }
			321 = { add_core_of = ITA }
			721 = { add_core_of = ITA }
			729 = { add_core_of = ITA }
		}
	}

	focus = {
		id = ITA_development_por_in_eu
		icon = GFX_focus_AUS_heritage_of_an_empire
		cost = 5
		relative_position_id = ITA_ita-por_union
		x = 0
		y = 1
		prerequisite = { focus = ITA_ita-por_union }
		available = {
			controls_state = 180
			controls_state = 181
			controls_state = 112
			controls_state = 795
			controls_state = 179
		}
		completion_reward = {
			180 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			181 = {
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			112 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			795 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			179 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			add_ideas = idea_ITA_por_army_demobilization
		}
	}

	focus = {
		id = ITA_industry_development_again_por_in_eu
		icon = GFX_focus_CHL_strengthen_the_central_bank
		relative_position_id = ITA_development_por_in_eu
		x = -1
		y = 1
		prerequisite = { focus = ITA_development_por_in_eu }
		cost = 4
		available = {
			controls_state = 180
			controls_state = 181
			controls_state = 112
			controls_state = 795
			controls_state = 179
		}
		completion_reward = {
			112 = {
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 4
			}
			180 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			181 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			795 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 5
				}
				add_extra_state_shared_building_slots = 6
			}
			179 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = ITA_lisbon_naval_cap_darkyard_por_eu
		icon = GFX_focus_GER_panzerschiff
		cost = 2
		relative_position_id = ITA_industry_development_again_por_in_eu
		x = 0
		y = 1
		prerequisite = { focus = ITA_industry_development_again_por_in_eu }
		available = {
			#controls_state = 180
			#controls_state = 181
			controls_state = 112
			#controls_state = 795
			#controls_state = 179
		}
		completion_reward = {
			112 = {
				add_building_construction = {
					type = naval_base
					level = 10
					province = 11805
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 15
					instant_build = yes
				}
				add_building_construction = {
					type = naval_facility
					level = 1
					province = 11805
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 15
			}
		}
	}

	focus = {
		id = ITA_tungsten_production_complex_por_eu
		icon = GFX_focus_generic_tungsten
		relative_position_id = ITA_lisbon_naval_cap_darkyard_por_eu
		x = 0
		y = 1
		cost = 2
		prerequisite = { focus = ITA_lisbon_naval_cap_darkyard_por_eu }
		available = {
			#controls_state = 180
			controls_state = 181
			controls_state = 112
			#controls_state = 795
			#controls_state = 179
		}
		completion_reward = {
			add_resource = {
				type = tungsten
				amount = 10
				state = 181
			}
			add_resource = {
				type = tungsten
				amount = 23
				state = 112
			}
		}
	}

	focus = {
		id = ITA_alto_lindoso_dam_por_eu
		icon = GFX_focus_BEL_dam_the_consequences
		relative_position_id = ITA_tungsten_production_complex_por_eu
		cost = 6
		x = 0
		y = 1
		prerequisite = { focus = ITA_tungsten_production_complex_por_eu }
		available = {
			controls_state = 180
		}
		completion_reward = {
			180 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = {
						id = 11673
					}
				}
			}
			custom_effect_tooltip = ITA_alto_lindoso_dam_por_eu_tt
		}
	}

	focus = {
		id = ITA_science_base_in_por_eu
		icon = GFX_focus_CHL_focus_on_cattle_and_wool
		relative_position_id = ITA_alto_lindoso_dam_por_eu
		x = 0
		y = 1
		prerequisite = { focus = ITA_alto_lindoso_dam_por_eu }
		cost = 6
		available = {
			controls_state = 179
			controls_state = 180
			controls_state = 181
		}
		completion_reward = {
			179 = {
				add_building_construction = {
					type = nuclear_facility
					level = 1
					province = 6933
					instant_build = yes
				}
			}
			180 = {
				add_building_construction = {
					type = land_facility
					level = 1
					province = 9787
					instant_build = yes
				}
			}
			181 = {
				add_building_construction = {
					type = air_facility
					level = 1
					province = 6921
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_iberia_defensive_por_eu
		icon = GFX_focus_CHL_the_scouts_monarchist_youth_organization
		relative_position_id = ITA_development_por_in_eu
		x = 1
		y = 1
		prerequisite = { focus = ITA_development_por_in_eu }
		cost = 4
		available = {
			controls_state = 180
			controls_state = 181
			controls_state = 112
			controls_state = 795
			controls_state = 179
		}
		completion_reward = {
			180 = {
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 11673
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 6921
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 3892
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 877
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 6941
					}
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 10
					instant_build = yes
					province = {
						all_provinces = yes
						#limit_to_naval_base = yes
					}
				}
			}
			181 = {
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 845
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 938
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 3969
					}
					instant_build = yes
				}
			}
			795 = {
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 3846
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 3886
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 3926
					}
					instant_build = yes
				}
			}
			179 = {
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 9819
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 6884
					}
					instant_build = yes
				}

				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 9765
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 10
					province = {
						id = 6880
					}
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 10
					instant_build = yes
					province = {
						all_provinces = yes
						#limit_to_naval_base = yes
					}
				}
			}
			112 = {
				add_building_construction = {
					type = coastal_bunker
					level = 10
					instant_build = yes
					province = {
						all_provinces = yes
						#limit_to_naval_base = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_people_anti_aircraft_por_eu
		icon = GFX_focus_DEN_civilian_preparations
		cost = 2
		relative_position_id = ITA_iberia_defensive_por_eu
		x = 0
		y = 1
		prerequisite = { focus = ITA_iberia_defensive_por_eu }
		available = {
			controls_state = 180
			controls_state = 181
			controls_state = 112
			controls_state = 795
			controls_state = 179
		}
		completion_reward = {
			112 = {
				add_building_construction = {
					type = anti_air_building
					level = 5
					instant_build = yes
				}
			}
			179 = {
				add_building_construction = {
					type = anti_air_building
					level = 5
					instant_build = yes
				}
			}
			180 = {
				add_building_construction = {
					type = anti_air_building
					level = 5
					instant_build = yes
				}
			}
			181 = {
				add_building_construction = {
					type = anti_air_building
					level = 5
					instant_build = yes
				}
			}
			795 = {
				add_building_construction = {
					type = anti_air_building
					level = 5
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_iberia_fuel_silo_por_eu
		icon = GFX_focus_DEN_Hjemmevaernet
		cost = 2
		relative_position_id = ITA_people_anti_aircraft_por_eu
		x = 0
		y = 1
		prerequisite = { focus = ITA_people_anti_aircraft_por_eu }
		available = {
			controls_state = 180
			controls_state = 181
			controls_state = 112
			controls_state = 795
			controls_state = 179
		}
		completion_reward = {
			112 = {
				add_building_construction = {
					type = fuel_silo
					level = 10
				}
				add_extra_state_shared_building_slots = 10
			}
			179 = {
				add_building_construction = {
					type = fuel_silo
					level = 10
				}
				add_extra_state_shared_building_slots = 10
			}
			180 = {
				add_building_construction = {
					type = fuel_silo
					level = 10
				}
				add_extra_state_shared_building_slots = 10
			}
			181 = {
				add_building_construction = {
					type = fuel_silo
					level = 10
				}
				add_extra_state_shared_building_slots = 10
			}

			795 = {
				add_building_construction = {
					type = fuel_silo
					level = 10
				}
				add_extra_state_shared_building_slots = 10	
			}
		}
	}

	focus = {
		id = ITA_air_base_por_eu
		icon = GFX_focus_DEN_unify_flyvevabnet
		cost = 2
		relative_position_id = ITA_iberia_fuel_silo_por_eu
		x = 0
		y = 1
		prerequisite = { focus = ITA_iberia_fuel_silo_por_eu }
		available = {
			controls_state = 180
			controls_state = 181
			controls_state = 112
			controls_state = 795
			controls_state = 179
		}
		completion_reward = {
			112 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
			179 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
			180 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
			181 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
			795 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_small_por_heaven_por_eu
		icon = GFX_focus_BEL_engine_of_the_economy
		cost = 4
		relative_position_id = ITA_air_base_por_eu
		x = 0
		y = 1
		prerequisite = { focus = ITA_air_base_por_eu }
		available = {
			controls_state = 180
			controls_state = 181
			controls_state = 112
			controls_state = 795
			controls_state = 179
		}
		completion_reward = {
			hidden_effect = {
				#十二横
				build_railway = {
					path = { 11673 6921 3892 }
					level = 5
				}
				build_railway = {
					path = { 9817 724 6941 877 }
					level = 5
				}
				build_railway = {
					path = { 6921 889 845 }
					level = 5
				}
				build_railway = {
					path = { 6821 9787 6818 938 }
					level = 5
				}
				build_railway = {
					path = { 799 3798 6996 3969 }
					level = 5
				}
				build_railway = {
					path = { 3861 924 11885 }
					level = 5
				}
				build_railway = {
					path = { 11805 11768 844 3926 }
					level = 5
				}
				build_railway = {
					path = { 970 9869 6986 3886 }
					level = 5
				}
				build_railway = {
					path = { 980 6933 3846 9819 }
					level = 5
				}
				build_railway = {
				path = { 3866 9765 6884 }
					level = 5
				}
				build_railway = {
					path = { 3790 6880 }
					level = 5
				}
				build_railway = {
					path = { 6924 9787 6818 938 }
					level = 5
				}
				#五纵
				build_railway = {
				path = { 11673 9817 6924 799 3861 11805 970 980 3866 3790 }
					level = 5
				}
				build_railway = {
					path = { 6880 9765 6933 9869 11768 924 3798 9787 889 724 6921 }
					level = 5
				}
				build_railway = {
					path = { 3892 6941 845 6818 6996 11885 844 6986 3846 9819 6884 }
					level = 5
				}
				build_railway = {
					path = { 3886 3926 3969 938 845 6941 877 }
					level = 5
				}
			}
			#铁路补全
			hidden_effect = {
				build_railway = {
					path = { 3892 877 }
					level = 5
				}
				build_railway = {
					path = { 9817 6921 }
					level = 5
				}
				build_railway = {
					path = { 6941 6921 }
					level = 5
				}
				build_railway = {
					path = { 6924 889 }
					level = 5
				}
				build_railway = {
					path = { 889 6818 }
					level = 5
				}
				build_railway = {
					path = { 6924 3798 }
					level = 5
				}
				build_railway = {
					path = { 9787 6996 }
					level = 5
				}
				build_railway = {
					path = { 6996 938 }
					level = 5
				}
				build_railway = {
					path = { 3861 3798 }
					level = 5
				}
				build_railway = {
					path = { 11885 3798 }
					level = 5
				}
				build_railway = {
					path = { 11885 3969 }
					level = 5
				}
				build_railway = {
					path = { 11885 3926 }
					level = 5
				}
				build_railway = {
					path = { 6941 889 }
					level = 5
				}
				build_railway = {
					path = { 11768 6986 3926 }
					level = 5
				}
				build_railway = {
					path = { 3886 3846 9869 980 }
					level = 5
				}
				build_railway = {
					path = { 3866 6933 6884 }
					level = 5
				}
				build_railway = {
					path = { 3790 9765 }
					level = 5
				}
				build_railway = {
					path = { 3846 6884 }
					level = 5
				}
				#build_railway = {
				#	path = { 980 9869 3846 3886 }
				#	level = 5 
				#}
				#level1-level5
				build_railway = {
					path = { 9817 889 845 }
					level = 5
				}
				build_railway = {
					path = { 11805 924 844 }
					level = 5
				}
				build_railway = {
					path = { 970 11768 }
					level = 5
				}
				build_railway = {
					path = { 924 844 }
					level = 5
				}
			}
			custom_effect_tooltip = ITA_small_por_heaven_por_eu_tt_1

			hidden_effect = {
				112 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 3798
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 11805
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 3861
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 799
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 6924
						instant_build = yes
					}
				}
				179 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 6933
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 970
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 980
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 6884
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 9819
						instant_build = yes
					}
				}
				180 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 3892
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 11673
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 6921
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 877
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 9817
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 724
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 6941
						instant_build = yes
					}
				}
				181 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 938
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 889
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 845
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 9787
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 6818
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 6996
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 3969
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 11885
						instant_build = yes
					}
				}
				795 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 3926
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
							province = 924
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 844
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 11768
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 6986
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 3886
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 9869
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 3846
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = ITA_small_por_heaven_por_eu_tt_2
		}
	}

	focus = {
		id = ITA_land_of_milk_and_honey_por_eu
		icon = GFX_focus_AUS_protector_of_the_danube
		cost = 1
		relative_position_id = ITA_small_por_heaven_por_eu
		x = -1
		y = 1
		prerequisite = { focus = ITA_small_por_heaven_por_eu }
		prerequisite = { focus = ITA_science_base_in_por_eu }
		available = {
			controls_state = 180
			controls_state = 181
			controls_state = 112
			controls_state = 795
			controls_state = 179
		}
		completion_reward = {
			#112 = { add_core_of = ITA }
			#179 = { add_core_of = ITA }
			#180 = { add_core_of = ITA }
			#181 = { add_core_of = ITA }
			#795 = { add_core_of = ITA }
			add_political_power = 25
			add_ideas = idea_ITA_land_of_milk_and_honey
		}
	}

	focus = {
		id = ITA_leagcy_of_por_empire
		icon = GFX_focus_NORDIC_com_institution_1
		cost = 1
		x = 8
		y = 1
		relative_position_id = ITA_ita-por_union
		prerequisite = {
			focus = ITA_ita-por_union
		}
		completion_reward = { 
			add_political_power = 75
		}
	}

	focus = {
		id = ITA_give_up_legacy_of_por_empire
		icon = GFX_focus_spr_class_war
		cost = 1
		mutually_exclusive = {
			focus = ITA_invite_duarte_por_empire
		}
		relative_position_id = ITA_leagcy_of_por_empire
		x = 3
		y = 1
		prerequisite = {
			focus = ITA_leagcy_of_por_empire
		}
		completion_reward = {
			add_political_power = 240
		}
	}

	focus = {
		id = ITA_invite_duarte_por_empire
		icon = GFX_focus_FIN_the_finnish_throne
		cost = 3
		mutually_exclusive = {
			focus = ITA_give_up_legacy_of_por_empire
		}
		x = -3
		y = 1
		relative_position_id = ITA_leagcy_of_por_empire
		prerequisite = {
			focus = ITA_leagcy_of_por_empire
		}
		completion_reward = { 
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_political_power = 120
		}
	}

	focus = {
		id = ITA_peace_for_bra_por_empire
		icon = GFX_focus_SWI_issue_war_bonds
		cost = 2
		relative_position_id = ITA_invite_duarte_por_empire
		prerequisite = {
			focus = ITA_invite_duarte_por_empire
		}
		mutually_exclusive = {
			focus = ITA_fight_with_bra_por_empire
		}
		x = -1
		y = 1
		available = {
			BRA = { 
				OR = { 
					exists = no
					has_capitulated = yes 
					has_completed_focus = BRA_romanticize_the_old_empire
				}
				has_opinion = {
					target = ITA
					value > 60
				}
			}
		}
		completion_reward = { 
			annex_country = {
				target = BRA
				transfer_troops = yes
			}
		}
	}

	focus = {
		id = ITA_fight_with_bra_por_empire
		icon = GFX_focus_BUL_condemn_macedonian_organizations
		cost = 1
		relative_position_id = ITA_invite_duarte_por_empire
		mutually_exclusive = {
			focus = ITA_peace_for_bra_por_empire
		}
		prerequisite = {
			focus = ITA_invite_duarte_por_empire
		}
		x = 1
		y = 1
		completion_reward = { 
			create_wargoal = {
				target = BRA
				type = annex_everything
				expire = 0
			}
			BRA = {
				remove_ideas = USA_monroe_doctrine_idea
			}
		}
	}

	focus = {
		id = ITA_the_kingdom_reunited_por_empire
		icon = GFX_focus_por_the_kingdom_reunited
		cost = 1
		relative_position_id = ITA_invite_duarte_por_empire
		x = 0
		y = 2
		prerequisite = {
			focus = ITA_fight_with_bra_por_empire
			focus = ITA_peace_for_bra_por_empire
		}
		available = {
			controls_state = 280
			controls_state = 495
			controls_state = 496
			controls_state = 497
			controls_state = 498
			controls_state = 499
			controls_state = 500
			controls_state = 501
			controls_state = 502
			controls_state = 503
			controls_state = 504
			controls_state = 505
			controls_state = 935
			controls_state = 936
			controls_state = 937
			controls_state = 938
			controls_state = 939
			controls_state = 940
			controls_state = 941
			controls_state = 942
			controls_state = 943
			controls_state = 944
			controls_state = 961
			controls_state = 962
			controls_state = 963
			controls_state = 964
			controls_state = 965
			controls_state = 966
			controls_state = 967
			controls_state = 968
			controls_state = 969
		}
		completion_reward = { 
			280 = { add_core_of = ITA }
			495 = { add_core_of = ITA }
			496 = { add_core_of = ITA }
			497 = { add_core_of = ITA }
			498 = { add_core_of = ITA }
			499 = { add_core_of = ITA }
			500 = { add_core_of = ITA }
			501 = { add_core_of = ITA }
			502 = { add_core_of = ITA }
			503 = { add_core_of = ITA }
			504 = { add_core_of = ITA }
			505 = { add_core_of = ITA }
			935 = { add_core_of = ITA }
			936 = { add_core_of = ITA }
			937 = { add_core_of = ITA }
			938 = { add_core_of = ITA }
			939 = { add_core_of = ITA }
			940 = { add_core_of = ITA }
			941 = { add_core_of = ITA }
			942 = { add_core_of = ITA }
			943 = { add_core_of = ITA }
			944 = { add_core_of = ITA }
			961 = { add_core_of = ITA }
			962 = { add_core_of = ITA }
			963 = { add_core_of = ITA }
			964 = { add_core_of = ITA }
			965 = { add_core_of = ITA }
			966 = { add_core_of = ITA }
			967 = { add_core_of = ITA }
			968 = { add_core_of = ITA }
			969 = { add_core_of = ITA }
		}
	}

	focus = {
		id = ITA_triumvirate
		icon = GFX_focus_ITA_the_social_republic_prevails
		cost = 5
		relative_position_id = ITA_enter_the_high_stage_of_imperialism
		x = 0
		y = 1
		prerequisite = { focus = ITA_enter_the_high_stage_of_imperialism }
		available = {
			AND = {
				NOT = {
					is_in_faction_with = GER
				}
				#NOT = {
				#	#is_in_faction_with = TUR
				#	is_in_faction_with = SPR
				#}
			}
		}
		completion_reward = {
			if = {
				limit = {
					AND = {
						is_in_faction = yes
						is_faction_leader = yes
					}
				}
				set_faction_name = Triumvirate_faction_name
			}
			else = {
				set_rule = { can_create_factions = yes }
				create_faction = faction_ITA_triumvirate
			}
			unlock_decision_category_tooltip = IPUnion_Tirumvirate

		}
	}

	focus = {
		id = ITA_Sicilia_Big_Bridge
		icon = GFX_focus_ITA_invest_in_infrastructure
		relative_position_id = ITA_new_industrialization_program
		x = 0
		y = 1
		prerequisite = { focus = ITA_new_industrialization_program }
		cost = 5
		available = {
			controls_state = 156
			controls_state = 115
		}
		completion_reward = {
			add_political_power = 15

		}
	}

	focus = {
		id = ITA_support_EastAfric_irredentism
		#relative_position_id = ITA_ministry_of_italian_africa
		icon = GFX_focus_ETH_the_african_union
		x = -2
		y = 2
		prerequisite = { focus = ITA_ministry_of_italian_africa }
		
		available = {
			is_ai = no
			AND = {
				country_exists = AOI
				AOI = {
					is_puppet_of = ITA
				}
			}
			AOI = {
				controls_state = 550
				controls_state = 559
				controls_state = 844
			}
		}
		cost = 5
		completion_reward = {
			add_political_power = 15
			AOI = {
				add_autonomy_score = {
					value = -30
					localization = ITA_support_albanian_irredentism
				}
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
			}
		}
	}
	focus = {
		id = ITA_Shaping_east_africa_nation
		relative_position_id = ITA_support_EastAfric_irredentism
		icon = GFX_focus_ETH_consolidate_east_africa
		x = 0
		y = 1
		prerequisite = {
			focus = ITA_support_EastAfric_irredentism
		}
		available = {
			AND = {
				NOT = {
					AOI = {
						controls_state = 903
						controls_state = 268
						controls_state = 269
					}
				}
				NOT = {
					ITA = {
						controls_state = 903
						controls_state = 268
						controls_state = 269
					}
				}
				country_exists = AOI
			}
		}
		cost = 5
		completion_reward = {
			AOI = {
				#add_ideas = idea_AOI_father_of_East_Africa_Nationalism
				add_ideas = idea_we_are_east_african
			}
			unlock_decision_tooltip = form_ITA_Incite_Soomaaliland_Nationalism
		}
	}
	#focus = {
	#	id = ITA_barefoot_doctors
	#	relative_position_id = ITA_workers_rights
	#	x = 1
	#	y = 1
	#	prerequisite = { focus = ITA_workers_rights }
	#	cost = 5
	#	completion_reward = {

	#	}
	#}

	focus = {
		id = ITA_helmsman_died
		icon = GFX_focus_ITA_culto_del_duce_bw
		relative_position_id = ITA_mare_nostrum_bba
		x = 11
		y = 0
		cost = 5
		prerequisite = { focus = ITA_setting_course focus = ITA_strengthen_the_regime focus = ITA_blackshirt_loyalty }
		mutually_exclusive = { 
			focus = ITA_towards_a_greater_italy
			focus = ITA_mare_nostrum_bba
		}
		available = {
			#is_subject = no
			##has_completed_focus = ITA_culto_del_duce
			always = no
		}
		allow_branch = {
			#OR = {
			#	has_country_leader = {
			#		character = ITA_benito_mussolini
			#		ruling_only = yes
			#	}
			#	has_country_flag = ITA_benito_mussolini_flag
			#}
			has_country_flag = IPUnion_country_event.56_flag
			NOT = {
				has_country_flag = ITA_side_fight_flag
			}
		}
		completion_reward = {
			mark_focus_tree_layout_dirty = yes
			custom_effect_tooltip = ITA_helmsman_died_tt
			hidden_effect = {
				country_event = {
					id = IPUnion_country_event.58
					days = 30
				}
			}
		}
	}

	focus = {
		id = ITA_mussolini_funeral_committee
		icon = GFX_focus_generic_military_dictatorship
		relative_position_id = ITA_helmsman_died
		x = 0
		y = 1
		cost = 1
		prerequisite = {
			focus = ITA_helmsman_died
		}
		available = {
			NOT = {
				has_character = ITA_benito_mussolini
			}
		}
		completion_reward = {
			country_event = {
				id = IPUnion_country_event.57
				days = 10
			}
		}
	}

	focus = {
		id = ITA_PNF_conservative
		icon = GFX_focus_ITA_capo_supremo
		relative_position_id = ITA_mussolini_funeral_committee
		x = -2
		y = 1
		cost = 2
		prerequisite = {
			focus = ITA_mussolini_funeral_committee
		}
		available = {
			NOT = {
				has_character = ITA_benito_mussolini
			}
		}
		completion_reward = {
			set_party_name = {
				ideology = fascism
				name = PNF_conservative
				long_name = PNF_conservative_long
			}
		}
	}

	focus = {
		id = ITA_PNF_reform
		icon = GFX_focus_ITA_italian_hegemony
		relative_position_id = ITA_mussolini_funeral_committee
		x = 0
		y = 1
		cost = 2
		prerequisite = {
			focus = ITA_mussolini_funeral_committee
		}
		available = {
			NOT = {
				has_character = ITA_benito_mussolini
			}
		}
		completion_reward = {
			set_party_name = {
				ideology = neutrality
				name = PNF_reform
				long_name = PNF_reform_long
			}
			ITA_gian_galeazzo_ciano = {
				promote_character = {
					ideology = despotism
				}
			}
		}
	}

	focus = {
		id = ITA_PNF_liberty
		icon = GFX_focus_ITA_liberation_or_death
		relative_position_id = ITA_mussolini_funeral_committee
		x = 2
		y = 1
		cost = 2
		prerequisite = {
			focus = ITA_mussolini_funeral_committee
		}
		available = {
			NOT = {
				has_character = ITA_benito_mussolini
			}
		}
		completion_reward = {
			set_party_name = {
				ideology = democratic
				name = PNF_liberty
				long_name = PNF_liberty_long
			}
			ITA_grand_council = {
				promote_character = {
					ideology = conservatism
				}
			}
		}
	}

	focus = {
		id = ITA_side_fight
		icon = GFX_focus_ger_break_anglo_french_colonial_hegemony
		relative_position_id = ITA_PNF_reform
		x = 0
		y = 1
		cost = 5
		prerequisite = { focus = ITA_PNF_conservative }
		prerequisite = { focus = ITA_PNF_reform }
		prerequisite = { focus = ITA_PNF_liberty }
		available = {
			NOT = {
				has_character = ITA_benito_mussolini
			}
		}
		completion_reward = {
			hidden_effect = {
				#clr_country_flag = IPUnion_country_event.56_flag
				set_country_flag = ITA_side_fight_flag
				mark_focus_tree_layout_dirty = yes
			}
			custom_effect_tooltip = ITA_side_fight_tt
		}
	}

	focus = {
		id = ITA_ciano_reinstated
		icon = GFX_focus_GER_strengthen_the_waffen_ss
		relative_position_id = ITA_mare_nostrum_bba
		x = 11
		y = 0
		cost = 5
		prerequisite = { focus = ITA_setting_course focus = ITA_strengthen_the_regime focus = ITA_blackshirt_loyalty }
		mutually_exclusive = { 
			focus = ITA_towards_a_greater_italy
			focus = ITA_mare_nostrum_bba
		}
		allow_branch = {
			has_country_flag = ITA_side_fight_flag
		}
		available = {
			#is_subject = no
			##has_completed_focus = ITA_culto_del_duce
			#always = no
			has_character = ITA_gian_galeazzo_ciano
			NOT = {
				has_character = ITA_benito_mussolini
			}
		}
		completion_reward = {
			#mark_focus_tree_layout_dirty = yes
			custom_effect_tooltip = ITA_ciano_reinstated_tt
			remove_power_balance = {
				id = ITA_power_balance
			}
			remove_trait = {
    			character = ITA_gian_galeazzo_ciano
    			slot = political_advisor
    			trait = hierarch_minister_of_foreign_affairs_1
			}
			add_trait = {
     			character = ITA_gian_galeazzo_ciano
     			slot = political_advisor
    			trait = chief_of_central_advisory_committee
			}
			add_trait = {
     			character = ITA_gian_galeazzo_ciano
     			slot = political_advisor
    			trait = PNF_reformist
			}
			activate_advisor = ITA_gian_galeazzo_ciano
			unlock_decision_category_tooltip = ITA_central_advisory_committee
			hidden_effect = {
				play_song = Downhill
			}
		}
	}

	focus = {
		id = ITA_roped_PNF_old_man
		icon = GFX_focus_GER_strengthen_the_waffen_ss
		relative_position_id = ITA_ciano_reinstated
		x = -1
		y = 1
		cost = 2
		prerequisite = { focus = ITA_ciano_reinstated }
		#mutually_exclusive = { 
		#	focus = ITA_towards_a_greater_italy
		#	focus = ITA_mare_nostrum_bba
		#}
		available = {
			#is_subject = no
			##has_completed_focus = ITA_culto_del_duce
			#always = no
			has_character = ITA_gian_galeazzo_ciano
		}
		completion_reward = {
			#add_country_leader_role = {
			#	character = ITA_italo_balbo
			#	promote_leader = yes
			#	country_leader = {
			#		ideology = despotism
			#		expire = 1965.1.1.1
			#		traits =  {	trust_from_mussolini PNF_reformist }
			#	}
			#}
			#set_politics = {
			#	ruling_party = neutrality
			#}
			#add_popularity = {
			#	ideology = neutrality
			#	popularity = 0.20
			#}
			add_trait = {
				character = ITA_dino_grandi
				slot = political_advisor
				trait = PNF_reformist
			}
			add_trait = {
				character = ITA_giuseppe_bottai
				slot = political_advisor
				trait = PNF_reformist
			}
			add_trait = {
				character = ITA_renato_ricci	
				slot = political_advisor
				trait = PNF_reformist
			}
		}
	}

	#focus = {
	#	id = ITA_Reorganize_Blackshirts
	#	icon = GFX_focus_GER_strengthen_the_waffen_ss
	#	relative_position_id = ITA_ciano_reinstated
	#	x = 1
	#	y = 1
	#	cost = 5
	#	prerequisite = { focus = ITA_ciano_reinstated }
	#	#mutually_exclusive = { 
	#	#	focus = ITA_towards_a_greater_italy
	#	#	focus = ITA_mare_nostrum_bba
	#	#}
	#	available = {
	#		#is_subject = no
	#		##has_completed_focus = ITA_culto_del_duce
	#		#always = no
	#		has_character = ITA_gian_galeazzo_ciano
	#	}
	#	completion_reward = {
	#		2 = {
	#			create_unit = {
	#				division = "division_template = \"Camicie Nere\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
	#				owner = ITA
	#				count = 5
	#			}
	#		}
	#	} 
	#}

	focus = {
		id = ITA_ensure_CGR_loyalty
		icon = GFX_focus_GER_strengthen_the_waffen_ss
		relative_position_id = ITA_ciano_reinstated
		x = 1
		y = 1
		cost = 1
		prerequisite = { focus = ITA_ciano_reinstated }
		#mutually_exclusive = { 
		#	focus = ITA_towards_a_greater_italy
		#	focus = ITA_mare_nostrum_bba
		#}
		available = {
			#is_subject = no
			##has_completed_focus = ITA_culto_del_duce
			#always = no
			has_character = ITA_gian_galeazzo_ciano
		}
		completion_reward = {
			add_trait = {
				character = ITA_italo_balbo
				ideology = fascism_ideology
				trait = PNF_reformist
			}
			2 = {
				create_unit = {
					division = "division_template = \"Camicie Nere\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = ITA
					count = 3
				}
			}
		}
	}

	focus = {
		id = ITA_palazzo_chigi_incident
		icon = GFX_focus_GER_strengthen_the_waffen_ss
		relative_position_id = ITA_ensure_CGR_loyalty
		x = -1	
		y = 1
		cost = 5
		prerequisite = { focus = ITA_roped_PNF_old_man }
		prerequisite = { focus = ITA_ensure_CGR_loyalty }
		#mutually_exclusive = { 
		#	focus = ITA_towards_a_greater_italy
		#	focus = ITA_mare_nostrum_bba
		#}
		available = {
			#is_subject = no
			##has_completed_focus = ITA_culto_del_duce
			#always = no
			has_character = ITA_gian_galeazzo_ciano
		}
		completion_reward = {
			country_event =  IPUnion_country_event.60
		} 
	}

	focus = {
		id = ITA_standard_of_truth
		icon = GFX_focus_GER_strengthen_the_waffen_ss
		relative_position_id = ITA_mare_nostrum_bba
		x = 11
		y = 0
		cost = 2
		prerequisite = { focus = ITA_setting_course focus = ITA_strengthen_the_regime focus = ITA_blackshirt_loyalty }
		mutually_exclusive = { 
			focus = ITA_towards_a_greater_italy
			focus = ITA_mare_nostrum_bba
		}
		allow_branch = {
			has_country_flag = IPUnion_country_event.60.flag
		}
		available = {
			#is_subject = no
			##has_completed_focus = ITA_culto_del_duce
			#always = no
			has_character = ITA_gian_galeazzo_ciano
			NOT = {
				has_character = ITA_benito_mussolini
			}
		}
		completion_reward = {
			
		}
	}

	focus = {
		id = ITA_invite_CHI_diplomat
		icon = GFX_focus_chi_cooperation_with_the_nationalists

		relative_position_id = ITA_foreign_affairs
		x = 33
		y = 3

		allow_branch = {
			has_country_flag = IPUnion_country_event.67.a.flag
			is_ai = no
		}

		cost = 5

		available = {
			CHI = {
				has_opinion = {
					target = ITA
					value > 49
				}
			}
		}

		completion_reward = {
			CHI = {
				country_event = {
					id = IPUnion_country_event.68
					hours = 12
					random_hours = 24
				}
			}
			custom_effect_tooltip = if_they_accept
			custom_effect_tooltip = unlock_follow_up_national_focus
		}
	}

	focus = {
		id = ITA_defense_cooperation_with_CHI
		relative_position_id = ITA_invite_CHI_diplomat
		x = -5
		y = 1
		icon = GFX_focus_GER_demonstration_of_military_achievements

		prerequisite = {
			focus = ITA_invite_CHI_diplomat
		}

		cost = 5

		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_defense_cooperation_with_CHI_trigger_tt
				has_global_flag = IPUnion_country_event.68.a.flag
			}
		}

		completion_reward = {	
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				CHI = {
					add_equipment_subsidy = {
						cic = 500
						equipment_type = infantry_equipment
						seller_tags = { ITA }
					}
					add_equipment_subsidy = {
						cic = 500
						equipment_type = artillery_equipment
						seller_tags = { ITA }
					}
					add_equipment_subsidy = {
						cic = 500
						equipment_type = train_equipment
						seller_tags = { ITA }
					}
				}
			}
		}
	}

	focus = {
		id = ITA_economy_cooperation_with_CHI
		relative_position_id = ITA_invite_CHI_diplomat
		icon = GFX_focus_ITA_subjugate_chinese_economy
		x = 5
		y = 1

		prerequisite = { focus = ITA_invite_CHI_diplomat }

		available = {
			custom_trigger_tooltip = {
				tooltip = ITA_defense_cooperation_with_CHI_trigger_tt
				has_global_flag = IPUnion_country_event.68.a.flag
			}
		}
		
		cost = 5

		completion_reward = {
			CHI = {
				country_event = {
					id = IPUnion_country_event.71
					hours = 15
					random_hours = 22
				}
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_ideas = idea_ITA_CHI_economy_cooperation_organization
			}
		}
	}

    ## Lateranesi Patti ##

	focus = {
		id = ITA_patti_lateranensi_focus

		icon = GFX_focus_generic_treaty

		cost = 2

		relative_position_id = ITA_flotta_d_evasione
		x = 1
		y = 2

		completion_reward = {
			PAP = {
				custom_effect_tooltip = ITA_lateranesi_patti_tt
				hidden_effect = {
					set_cosmetic_tag = PAP_vaticanus
				}
				remove_opinion_modifier = {
					target = ITA
					modifier = ITA_roman_question
				}
				add_opinion_modifier = {
					target = ITA
					modifier = ITA_lateranensi_patti
				}
				break_embargo = ITA
			}
			remove_opinion_modifier = {
				target = PAP
				modifier = ITA_roman_question
			}
			add_opinion_modifier = {
				target = PAP
				modifier = ITA_lateranensi_patti
			}
			give_guarantee = PAP
		}
	}

	### INNER CIRCLE ###

	focus = {
		id = ITA_duceprincipio
		prerequisite = { focus = ITA_capo_supremo }
		icon = GFX_focus_GER_support_the_fuhrer
		relative_position_id = ITA_capo_supremo
		x = -29
		y = 2
		cost = 2

		completion_reward = {
			custom_effect_tooltip = GER_fuhrerprinzip_inner_circle_tt
			add_political_power = 50
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt
		}
	}

	focus = {
		id = ITA_ascension_of_graziani
		relative_position_id = ITA_duceprincipio
		icon = GFX_focus_GER_ascension_of_todt
		prerequisite = { focus = ITA_duceprincipio }
		x = -7
		y = 1

		cost = 2

		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = {
						OR = {
							check_variable = { ITA_ascended_advisor_1 = 1 }
							check_variable = { ITA_ascended_advisor_2 = 1 }
							check_variable = { ITA_ascended_advisor_3 = 1 }
						}
					}
				}
			}

			has_government = fascism

			if = {
				limit = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
				NOT = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
			}

			ITA_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = ITA_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = ITA_inner_circle_cd_days_tt
					NOT = { has_country_flag = ITA_inner_circle_cd_flag }
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invaild = no

		select_effect = {
			set_country_flag = ITA_graziani_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = ITA_ascension_of_character_tt
				CHARACTER = ITA_rodolfo_graziani
			}
			show_ideas_tooltip = ITA_leader_trait_its_going_to_rain

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						check_variable = { ITA_ascended_advisor_1 = 1 }
						check_variable = { ITA_ascended_advisor_2 = 1 }
						check_variable = { ITA_ascended_advisor_3 = 1 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = {
				limit = {
					check_variable = { ITA_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { ITA_ascended_advisor_1 = 1 }
					country_event = ITA_inner_circle.1
				}
				
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = ITA_event_to_replace_ascended_advisor_tt
					EVENT = ITA_inner_circle.1
					CHARACTER = ITA_rodolfo_graziani
				}
			}
			else = {
				hidden_effect = {
					add_ideas = ITA_leader_trait_its_going_to_rain
				}
				if = {
					limit = {
						check_variable = { ITA_ascended_advisor_1 = 0 }
					}
					set_variable = { ITA_ascended_advisor_1 = 1 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_2 = 0 }
					}
					set_variable = { ITA_ascended_advisor_2 = 1 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_3 = 0 }
					}
					set_variable = { ITA_ascended_advisor_3 = 1 }
				}
			}
		}
	}

	focus = {
		id = ITA_ascension_of_balbo
		relative_position_id = ITA_duceprincipio
		icon = GFX_focus_GER_ascension_of_speer
		prerequisite = { focus = ITA_duceprincipio }
		x = -5
		y = 1

		cost = 2

		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = {
						OR = {
							check_variable = { ITA_ascended_advisor_1 = 2 }
							check_variable = { ITA_ascended_advisor_2 = 2 }
							check_variable = { ITA_ascended_advisor_3 = 2 }
						}
					}
				}
			}

			has_government = fascism

			if = {
				limit = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
				NOT = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
			}

			ITA_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = ITA_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = ITA_inner_circle_cd_days_tt
					NOT = { has_country_flag = ITA_inner_circle_cd_flag }
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invaild = no

		select_effect = {
			set_country_flag = ITA_balbo_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = ITA_ascension_of_character_tt
				CHARACTER = ITA_italo_balbo
			}
			show_ideas_tooltip = ITA_leader_trait_u_know_what_ur_doing

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						check_variable = { ITA_ascended_advisor_1 = 2 }
						check_variable = { ITA_ascended_advisor_2 = 2 }
						check_variable = { ITA_ascended_advisor_3 = 2 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = {
				limit = {
					check_variable = { ITA_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { ITA_ascended_advisor_1 = 2 }
					country_event = ITA_inner_circle.1
				}
				
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = ITA_event_to_replace_ascended_advisor_tt
					EVENT = ITA_inner_circle.1
					CHARACTER = ITA_italo_balbo
				}
			}
			else = {
				hidden_effect = {
					add_ideas = ITA_leader_trait_u_know_what_ur_doing
				}
				if = {
					limit = {
						check_variable = { ITA_ascended_advisor_1 = 0 }
					}
					set_variable = { ITA_ascended_advisor_1 = 2 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_2 = 0 }
					}
					set_variable = { ITA_ascended_advisor_2 = 2 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_3 = 0 }
					}
					set_variable = { ITA_ascended_advisor_3 = 2 }
				}
			}
		}
	}

	focus = {
		id = ITA_ascension_of_grandi
		relative_position_id = ITA_duceprincipio
		icon = GFX_focus_GER_ascension_of_goring
		prerequisite = { focus = ITA_duceprincipio }
		x = -3
		y = 1

		cost = 2

		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = {
						OR = {
							check_variable = { ITA_ascended_advisor_1 = 3 }
							check_variable = { ITA_ascended_advisor_2 = 3 }
							check_variable = { ITA_ascended_advisor_3 = 3 }
						}
					}
				}
			}

			has_government = fascism

			if = {
				limit = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
				NOT = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
			}

			ITA_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = ITA_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = ITA_inner_circle_cd_days_tt
					NOT = { has_country_flag = ITA_inner_circle_cd_flag }
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invaild = no

		select_effect = {
			set_country_flag = ITA_grandi_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = ITA_ascension_of_character_tt
				CHARACTER = ITA_dino_grandi
			}
			show_ideas_tooltip = ITA_leader_trait_captialism_roader

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						check_variable = { ITA_ascended_advisor_1 = 3 }
						check_variable = { ITA_ascended_advisor_2 = 3 }
						check_variable = { ITA_ascended_advisor_3 = 3 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = {
				limit = {
					check_variable = { ITA_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { ITA_ascended_advisor_1 = 3 }
					country_event = ITA_inner_circle.1
				}
				
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = ITA_event_to_replace_ascended_advisor_tt
					EVENT = ITA_inner_circle.1
					CHARACTER = ITA_dino_grandi
				}
			}
			else = {
				hidden_effect = {
					add_ideas = ITA_leader_trait_captialism_roader
				}
				if = {
					limit = {
						check_variable = { ITA_ascended_advisor_1 = 0 }
					}
					set_variable = { ITA_ascended_advisor_1 = 3 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_2 = 0 }
					}
					set_variable = { ITA_ascended_advisor_2 = 3 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_3 = 0 }
					}
					set_variable = { ITA_ascended_advisor_3 = 3 }
				}
			}
		}
	}

	focus = {
		id = ITA_ascension_of_ciano
		relative_position_id = ITA_duceprincipio
		icon = GFX_focus_GER_ascension_of_himmler
		prerequisite = { focus = ITA_duceprincipio }
		x = 0
		y = 1

		cost = 2

		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = {
						OR = {
							check_variable = { ITA_ascended_advisor_1 = 4 }
							check_variable = { ITA_ascended_advisor_2 = 4 }
							check_variable = { ITA_ascended_advisor_3 = 4 }
						}
					}
				}
			}

			has_government = fascism

			if = {
				limit = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
				NOT = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
			}

			ITA_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = ITA_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = ITA_inner_circle_cd_days_tt
					NOT = { has_country_flag = ITA_inner_circle_cd_flag }
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invaild = no

		select_effect = {
			set_country_flag = ITA_ciano_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = ITA_ascension_of_character_tt
				CHARACTER = ITA_galeazzo_ciano
			}
			show_ideas_tooltip = ITA_leader_trait_steel_company

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						check_variable = { ITA_ascended_advisor_1 = 4 }
						check_variable = { ITA_ascended_advisor_2 = 4 }
						check_variable = { ITA_ascended_advisor_3 = 4 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = {
				limit = {
					check_variable = { ITA_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { ITA_ascended_advisor_1 = 4 }
					country_event = ITA_inner_circle.1
				}
				
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = ITA_event_to_replace_ascended_advisor_tt
					EVENT = ITA_inner_circle.1
					CHARACTER = ITA_galeazzo_ciano
				}
			}
			else = {
				hidden_effect = {
					add_ideas = ITA_leader_trait_steel_company
				}
				if = {
					limit = {
						check_variable = { ITA_ascended_advisor_1 = 0 }
					}
					set_variable = { ITA_ascended_advisor_1 = 4 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_2 = 0 }
					}
					set_variable = { ITA_ascended_advisor_2 = 4 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_3 = 0 }
					}
					set_variable = { ITA_ascended_advisor_3 = 4 }
				}
			}
		}
	}

	focus = {
		id = ITA_ascension_of_ricci
		relative_position_id = ITA_duceprincipio
		icon = GFX_focus_GER_ascension_of_goebbels
		prerequisite = { focus = ITA_duceprincipio }
		x = 3
		y = 1

		cost = 2

		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = {
						OR = {
							check_variable = { ITA_ascended_advisor_1 = 5 }
							check_variable = { ITA_ascended_advisor_2 = 5 }
							check_variable = { ITA_ascended_advisor_3 = 5 }
						}
					}
				}
			}

			has_government = fascism

			if = {
				limit = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
				NOT = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
			}

			ITA_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = ITA_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = ITA_inner_circle_cd_days_tt
					NOT = { has_country_flag = ITA_inner_circle_cd_flag }
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invaild = no

		select_effect = {
			set_country_flag = ITA_ricci_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = ITA_ascension_of_character_tt
				CHARACTER = ITA_renato_ricci
			}
			show_ideas_tooltip = ITA_leader_trait_machine_master

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						check_variable = { ITA_ascended_advisor_1 = 5 }
						check_variable = { ITA_ascended_advisor_2 = 5 }
						check_variable = { ITA_ascended_advisor_3 = 5 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = {
				limit = {
					check_variable = { ITA_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { ITA_ascended_advisor_1 = 5 }
					country_event = ITA_inner_circle.1
				}
				
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = ITA_event_to_replace_ascended_advisor_tt
					EVENT = ITA_inner_circle.1
					CHARACTER = ITA_renato_ricci
				}
			}
			else = {
				hidden_effect = {
					add_ideas = ITA_leader_trait_machine_master
				}
				if = {
					limit = {
						check_variable = { ITA_ascended_advisor_1 = 0 }
					}
					set_variable = { ITA_ascended_advisor_1 = 5 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_2 = 0 }
					}
					set_variable = { ITA_ascended_advisor_2 = 5 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_3 = 0 }
					}
					set_variable = { ITA_ascended_advisor_3 = 5 }
				}
			}
		}
	}

	focus = {
		id = ITA_ascension_of_bottai
		relative_position_id = ITA_duceprincipio
		icon = GFX_focus_GER_party_chancellor_hess
		prerequisite = { focus = ITA_duceprincipio }
		x = 5
		y = 1

		cost = 2

		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = {
						OR = {
							check_variable = { ITA_ascended_advisor_1 = 6 }
							check_variable = { ITA_ascended_advisor_2 = 6 }
							check_variable = { ITA_ascended_advisor_3 = 6 }
						}
					}
				}
			}

			has_government = fascism

			if = {
				limit = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
				NOT = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
			}

			ITA_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = ITA_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = ITA_inner_circle_cd_days_tt
					NOT = { has_country_flag = ITA_inner_circle_cd_flag }
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invaild = no

		select_effect = {
			set_country_flag = ITA_bottai_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = ITA_ascension_of_character_tt
				CHARACTER = ITA_giuseppe_bottai
			}
			show_ideas_tooltip = ITA_leader_trait_literacy_leader

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						check_variable = { ITA_ascended_advisor_1 = 6 }
						check_variable = { ITA_ascended_advisor_2 = 6 }
						check_variable = { ITA_ascended_advisor_3 = 6 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = {
				limit = {
					check_variable = { ITA_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { ITA_ascended_advisor_1 = 6 }
					country_event = ITA_inner_circle.1
				}
				
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = ITA_event_to_replace_ascended_advisor_tt
					EVENT = ITA_inner_circle.1
					CHARACTER = ITA_giuseppe_bottai
				}
			}
			else = {
				hidden_effect = {
					add_ideas = ITA_leader_trait_literacy_leader
				}
				if = {
					limit = {
						check_variable = { ITA_ascended_advisor_1 = 0 }
					}
					set_variable = { ITA_ascended_advisor_1 = 6 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_2 = 0 }
					}
					set_variable = { ITA_ascended_advisor_2 = 6 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_3 = 0 }
					}
					set_variable = { ITA_ascended_advisor_3 = 6 }
				}
			}
		}
	}

	focus = {
		id = ITA_ascension_of_acerbo
		relative_position_id = ITA_duceprincipio
		icon = GFX_focus_GER_party_chancellor_bormann
		prerequisite = { focus = ITA_duceprincipio }
		x = 7
		y = 1

		cost = 2

		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = {
						OR = {
							check_variable = { ITA_ascended_advisor_1 = 7 }
							check_variable = { ITA_ascended_advisor_2 = 7 }
							check_variable = { ITA_ascended_advisor_3 = 7 }
						}
					}
				}
			}

			has_government = fascism

			if = {
				limit = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
				NOT = {
					has_country_flag = ITA_inner_circle_event_pending_flag
				}
			}

			ITA_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = ITA_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = ITA_inner_circle_cd_days_tt
					NOT = { has_country_flag = ITA_inner_circle_cd_flag }
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invaild = no

		select_effect = {
			set_country_flag = ITA_acerbo_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = ITA_ascension_of_character_tt
				CHARACTER = ITA_giacomo_acerbo
			}
			show_ideas_tooltip = ITA_leader_trait_revisionism

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						check_variable = { ITA_ascended_advisor_1 = 7 }
						check_variable = { ITA_ascended_advisor_2 = 7 }
						check_variable = { ITA_ascended_advisor_3 = 7 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = {
				limit = {
					check_variable = { ITA_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { ITA_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { ITA_ascended_advisor_1 = 6 }
					country_event = ITA_inner_circle.1
				}
				
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = ITA_event_to_replace_ascended_advisor_tt
					EVENT = ITA_inner_circle.1
					CHARACTER = ITA_giacomo_acerbo
				}
			}
			else = {
				hidden_effect = {
					add_ideas = ITA_leader_trait_revisionism
				}
				if = {
					limit = {
						check_variable = { ITA_ascended_advisor_1 = 0 }
					}
					set_variable = { ITA_ascended_advisor_1 = 7 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_2 = 0 }
					}
					set_variable = { ITA_ascended_advisor_2 = 7 }
				}
				else_if = {
					limit = {
						check_variable = { ITA_ascended_advisor_3 = 0 }
					}
					set_variable = { ITA_ascended_advisor_3 = 7 }
				}
			}
		}
	}

}
